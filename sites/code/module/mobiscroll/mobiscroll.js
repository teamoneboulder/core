/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,a){var s=e;return"object"===("undefined"==typeof t?"undefined":G(t))?e.each(function(){new t.component(this,t)}):("string"==typeof t&&e.each(function(){var e,n=j.instances[this.id];if(n&&n[t]&&(e=n[t].apply(this,Array.prototype.slice.call(a,1)),void 0!==e))return s=e,!1}),s)}function a(e,a,s){J[e]=function(n){return t(this,Z(n,{component:a,preset:s===!1?void 0:e}),arguments)}}function s(){}function n(e){var t,a=[];for(t in e)a.push(e[t]);return a}function i(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function l(e){return e-parseFloat(e)>=0}function r(e){return"string"==typeof e}function o(e,t,a){return Math.max(t,Math.min(e,a))}function c(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function d(e,t){var a,s;return t=t||100,function(){var n=this,i=+new Date,l=arguments;a&&i<a+t?(clearTimeout(s),s=setTimeout(function(){a=i,e.apply(n,l)},t)):(a=i,e.apply(n,l))}}function u(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function m(){de++,setTimeout(function(){de--},500)}function f(e,t){if(!t.mbscClick){var a=(e.originalEvent||e).changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),s.isMbscTap=!0,s.isIonicTap=!0,ue=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(s),ue=!1,m(),setTimeout(function(){delete t.mbscClick})}}function h(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function p(e,t,a,s,n,i){function l(e){p||(s&&e.preventDefault(),p=this,d=h(e,"X"),u=h(e,"Y"),b=!1,v=new Date)}function r(e){p&&!b&&(Math.abs(h(e,"X")-d)>n||Math.abs(h(e,"Y")-u)>n)&&(b=!0)}function o(e){p&&(i&&new Date-v<100||!b?f(e,e.target):m(),p=!1)}function c(){p=!1}var d,u,p,b,v,g=j.$,y=g(t);n=n||9,e.settings.tap&&y.on("touchstart.mbsc",l).on("touchcancel.mbsc",c).on("touchmove.mbsc",r).on("touchend.mbsc",o),y.on("click.mbsc",function(t){s&&t.preventDefault(),a.call(this,t,e)})}function b(e){if(de&&!ue&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function v(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++xe;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function g(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function y(e,t,a){"jsonp"==a?v(e,t):g(e,t)}function x(e){var t;for(t in e)if(void 0!==we[e[t]])return!0;return!1}function _(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(x([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function w(e,t){if("touchstart"==e.type)fe(t).attr("data-touch","1");else if(fe(t).attr("data-touch"))return fe(t).removeAttr("data-touch"),!1;return!0}function T(e,t){var a,s,n=getComputedStyle(e[0]);return fe.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),s=t?a[13]||a[5]:a[12]||a[4]}function C(e){if(e){if(ke[e])return ke[e];var t=fe('<div style="background-color:'+e+';"></div>').appendTo("body"),a=getComputedStyle(t[0]),s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n<130?"#fff":"#000";return t.remove(),ke[e]=i,i}}function D(e,t,a,s,n){var i=Math.min(1,(new Date-t)/468),l=.5*(1-Math.cos(Math.PI*i)),r=a+(s-a)*l;e.scrollTop(r),r!==s?oe(function(){D(e,t,a,s,n)}):n&&n()}function M(e,t,a,s){var n=fe(e);a?(n.scrollTop(t),s&&s()):D(n,new Date,n.scrollTop(),t,s)}function k(e,t,a,n,i,l){function r(e){var t;p=fe(this),T=+p.attr("data-step"),v=+p.attr("data-index"),b=!0,i&&e.stopPropagation(),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(x=h(e,"X"),_=h(e,"Y"),t=w(e,this)):t=32===e.keyCode,g||!t||p.hasClass("mbsc-disabled")||(u(v,T,e)&&(p.addClass("mbsc-active"),l&&l.addRipple(p.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&fe(document).on("mousemove",o).on("mouseup",c))}function o(e){(Math.abs(x-h(e,"X"))>7||Math.abs(_-h(e,"Y"))>7)&&(b=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&fe(document).off("mousemove",o).off("mouseup",c)}function d(){g=!1,clearInterval(C),p&&(p.removeClass("mbsc-active"),l&&setTimeout(function(){l.removeRipple()},100))}function u(e,t,a){return g||D(e)||(v=e,T=t,y=a,g=!0,b=!1,setTimeout(m,100)),g}function m(){return p&&p.hasClass("mbsc-disabled")?void d():(!g&&b||(b=!0,t(v,T,y,m)),void(g&&a&&(clearInterval(C),C=setInterval(function(){t(v,T,y)},a))))}function f(){e.off("touchstart mousedown keydown",r).off("touchmove",o).off("touchend touchcancel keyup",c)}var p,b,v,g,y,x,_,T,C,D=n||s;return e.on("touchstart mousedown keydown",r).on("touchmove",o).on("touchend touchcancel keyup",c),{start:u,stop:d,destroy:f}}function S(e,t){function a(){r.style.width="100000px",r.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function s(){var e=new Date;o=0,u||(e-m>200&&!l.scrollTop&&!l.scrollLeft&&(m=e,a()),o||(o=oe(s)))}function n(){c||(c=oe(i))}function i(){c=0,a(),t()}var l=void 0,r=void 0,o=void 0,c=void 0,d=void 0,u=void 0,m=0,f=document.createElement("div");return f.innerHTML=Ee,f.dir="ltr",d=f.childNodes[1],l=f.childNodes[0],r=l.childNodes[0],e.appendChild(f),l.addEventListener("scroll",n),d.addEventListener("scroll",n),oe(s),{detach:function(){e.removeChild(f),u=!0}}}function V(e){return(e+"").replace('"',"___")}function Y(e,t,a,s,n,i,l){var r=new Date(e,t,a,s||0,n||0,i||0,l||0);return 23==r.getHours()&&0===(s||0)&&r.setHours(r.getHours()+2),r}function A(e,t,a){if(!t)return null;var s,n,i=ge({},tt,a),l=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},r=function(e,t,a){var s=""+t;if(l(e))for(;s.length<a;)s="0"+s;return s},o=function(e,t,a,s){return l(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||l("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=r("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=r("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=r("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=l("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=r("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=r("H",t.getHours(),2);break;case"i":c+=r("i",t.getMinutes(),2);break;case"s":c+=r("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":l("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c}function E(e,t,a){var s=ge({},tt,a),n=$(s.defaultValue||new Date);if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":G(t))?t.toString():t+"";var i,l=s.shortYearCutoff,r=s.getYear(n),o=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),f=0,h=-1,p=!1,b=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){b(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(x).match(s);return n?(x+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=b(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(x,i[n].length).toLowerCase()==i[n].toLowerCase())return x+=i[n].length,n+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=v("o");break;case"m":o=v("m");break;case"M":o=g("M",s.monthNamesShort,s.monthNames);break;case"y":r=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":f=v("s");break;case"a":h=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":h=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(r<100&&(r+=(new Date).getFullYear()-(new Date).getFullYear()%100+(r<=("string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10))?0:-100)),d>-1){o=1,c=d;do{var _=32-new Date(r,o-1,32,12).getDate();c>_&&(o++,c-=_)}while(c>_)}u=h==-1?u:h&&u<12?u+12:h||12!=u?u:0;var w=s.getDate(r,o-1,c,u,m,f);return s.getYear(w)!=r||s.getMonth(w)+1!=o||s.getDay(w)!=c?n:w}function F(e,t){return Math.round((t-e)/864e5)}function L(e){return Y(e.getFullYear(),e.getMonth(),e.getDate())}function P(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function H(e,t){var a="",s="";return e&&(t.h&&(s+=c(e.getHours())+":"+c(e.getMinutes()),t.s&&(s+=":"+c(e.getSeconds())),t.u&&(s+="."+c(e.getMilliseconds(),3)),t.tz&&(s+=t.tz)),t.y?(a+=e.getFullYear(),t.m&&(a+="-"+c(e.getMonth()+1),t.d&&(a+="-"+c(e.getDate())),t.h&&(a+="T"+s))):t.h&&(a=s)),a}function W(e,t,a){var s,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(a)for(s in i)n=e[i[s]-t],n&&(a[s]="tz"==s?n:1)}function I(e,t,a){var s=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&s)return s(e);if("locale"==n)return A(a,e,t);if("iso8601"==n)return H(e,t.isoParts)}return e}function $(e,t,a,s){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=Je.exec(e))?(W(n,2,s),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n||(n=Ze.exec(e)),n?(W(n,0,s),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):E(t,e,a))):null}function O(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function N(e){return e[0].innerWidth||e.innerWidth()}function R(e){for(var t=0,a=1,s=0;e.length;)t>3?a=3600:t>1&&(a=60),s+=e.pop()*a*(t%2?10:1),t++;return s}/* eslint-disable no-unused-vars */
function q(e){var t=getComputedStyle(e);return e.innderHeight||e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)}function U(e,t){var a=h(t,"X",!0),s=h(t,"Y",!0),n=e.offset(),i=a-n.left,l=s-n.top,r=Math.max(i,e[0].offsetWidth-i),o=Math.max(l,e[0].offsetHeight-l),c=2*Math.sqrt(Math.pow(r,2)+Math.pow(o,2));X(xt),xt=fe('<span class="mbsc-ripple"></span>').css({width:c,height:c,top:s-n.top-c/2,left:a-n.left-c/2}).appendTo(e),setTimeout(function(){xt.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function X(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function z(e,t,a,s){var n,i;e.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",t,function(e){w(e,this)&&(n=h(e,"X"),i=h(e,"Y"),yt=fe(this),yt.hasClass(a)||yt.hasClass(s)?yt=null:U(yt,e))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",t,function(e){(yt&&Math.abs(h(e,"X")-n)>9||Math.abs(h(e,"Y")-i)>9)&&(X(xt),yt=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",t,function(){yt&&(setTimeout(function(){X(xt)},100),yt=null)})}e=e&&e.hasOwnProperty("default")?e.default:e;var j=j||{},B={},K={},G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z=e.extend,J={};j.$=e,e.mobiscroll=j,e.fn.mobiscroll=function(e){return Z(this,J),t(this,e,arguments)};var Q,ee,te,ae,se=[],ne="undefined"!=typeof window,ie=ne?navigator.userAgent:"",le=/Safari/.test(ie),re=ie.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),oe=ne&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},ce=ne&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(re)?(Q="android",ee=ie.match(/Android\s+([\d\.]+)/i),ee&&(se=ee[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(re)?(Q="ios",ee=ie.match(/OS\s+([\d\_]+)/i),ee&&(se=ee[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(re)?Q="wp":/Windows|MSIE/i.test(re)&&(Q="windows"),te=se[0],ae=se[1];var de=0,ue=void 0;ne&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,b,!0)}),"android"==Q&&te<5&&document.addEventListener("change",function(e){de&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var me,fe=j.$,he=+new Date,pe={},be={},ve={xsmall:0,small:576,medium:768,large:992,xlarge:1200},ge=fe.extend;ge(B,{getCoord:h,preventClick:m,vibrate:u}),me=ge(j,{$:fe,version:"4.6.0",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:Q,majorVersion:te,minorVersion:ae},i18n:{},instances:pe,classes:be,util:B,settings:{},setDefaults:function(e){ge(this.settings,e)},customTheme:function(e,t){var a,s=j.themes,n=["frame","scroller","listview","navigation","form","page","progress","card"];for(a=0;a<n.length;a++)s[n[a]][e]=ge({},s[n[a]][t],{baseTheme:t})}});var ye=function(e,t){function a(e){var t,a;return c.responsive&&(a=e||i.offsetWidth,fe.each(c.responsive,function(e,s){a>=(s.breakpoint||ve[e])&&(t=s)})),t}function n(){fe(e).addClass("mbsc-comp"),e.id?pe[e.id]&&pe[e.id].destroy():e.id="mobiscroll"+ ++he,pe[e.id]=h,h.__ready=!0}var i,l,r,o,c,d,u,m,f,h=this;h.settings={},h.element=e,h._init=s,h._destroy=s,h._processSettings=s,h._checkResp=function(e){if(h&&h._responsive){var t=a(e);if(o!==t)return o=t,h.init({}),!0}},h.init=function(s){var n,p;s&&h.getVal&&(p=h.getVal());for(n in h.settings)delete h.settings[n];c=h.settings,ge(t,s),h._hasDef&&(f=me.settings),ge(c,h._defaults,f,t),h._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=me.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=me.themes[h._class]?me.themes[h._class][u]:{}),h._hasLang&&(l=me.i18n[c.lang]),ge(c,d,l,f,t),i=fe(c.context)[0],h._responsive&&(o||(o=a()),ge(c,o)),h._processSettings(o||{}),h._presets&&(r=h._presets[c.preset],r&&(r=r.call(e,h,t),ge(c,r,t,o))),h._init(s),s&&h.setVal&&h.setVal(p,!0),m("onInit")},h.destroy=function(){h&&(h._destroy(),m("onDestroy"),delete pe[e.id],h=null)},h.tap=function(e,t,a,s,n){p(h,e,t,a,s,n)},h.trigger=function(a,s){var n,i,l,o=[f,d,r,t];for(i=0;i<4;i++)l=o[i],l&&l[a]&&(n=l[a].call(e,s||{},h));return n},h.option=function(e,a){var s={},n=["data","invalid","valid","marked","labels","colors","readonly"];"object"===("undefined"==typeof e?"undefined":G(e))?s=e:s[e]=a,n.forEach(function(e){t[e]=c[e]}),h.init(s)},h.getInst=function(){return h},t=t||{},m=h.trigger,h.__ready||n()},xe=0;B.getJson=y;var _e,we,Te,Ce,De,Me,ke={};ne&&(we=document.createElement("modernizr").style,Te=_(),Me=Te.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),_e=void 0!==we.animation?"animationend":"webkitAnimationEnd",De=void 0!==we.transition,Ce=void 0===we.touchAction||"ios"==Q&&!le);var Se,Ve,Ye="position:absolute;left:0;top:0;",Ae=Ye+"right:0;bottom:0;overflow:hidden;z-index:-1;",Ee='<div style="'+Ae+'"><div style="'+Ye+'"></div></div><div style="'+Ae+'"><div style="'+Ye+'width:200%;height:200%;"></div></div>',Fe=j.themes,Le=/(iphone|ipod)/i.test(ie)&&te>=7,Pe="android"==Q,He="ios"==Q,We=He&&8==te,Ie=He&&te>7,$e=function(e){e.preventDefault()},Oe="input,select,textarea,button",Ne='textarea,button,input[type="button"],input[type="submit"]',Re=Oe+',[tabindex="0"]',qe=function(e,t,a){function n(e){A&&A.removeClass("mbsc-active"),A=fe(this),A.hasClass("mbsc-disabled")||A.hasClass("mbsc-fr-btn-nhl")||A.addClass("mbsc-active"),"mousedown"===e.type?fe(document).on("mouseup",i):"pointerdown"===e.type&&fe(document).on("pointerup",i)}function i(e){A&&(A.removeClass("mbsc-active"),A=null),"mouseup"===e.type?fe(document).off("mouseup",i):"pointerup"===e.type&&fe(document).off("pointerup",i)}function l(e){j.activeInstance==se&&(13!=e.keyCode||fe(e.target).is(Ne)&&!e.shiftKey?27==e.keyCode&&se.cancel():se.select())}function c(e){e||Pe||!se._activeElm||(le=new Date,se._activeElm.focus())}function d(e){var t=Se,a=K.focusOnClose;se._markupRemove(),T.remove(),P&&(E.mbscModals--,K.scrollLock&&E.mbscLock--,E.mbscLock||w.removeClass("mbsc-fr-lock"),E.mbscModals||(w.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),R&&(x.css({top:"",left:""}),k.scrollLeft(G),k.scrollTop(J))),E.mbscModals&&!B||e||(t||(t=ne),setTimeout(function(){void 0===a||a===!0?(Ve=!0,t[0].focus()):a&&fe(a)[0].focus()},200))),B=void 0,H=!1,ee("onHide")}function u(){clearTimeout(z),z=setTimeout(function(){se.position(!0)&&(X.style.visibility="hidden",X.offsetHeight,X.style.visibility="")},200)}function f(e){j.activeInstance==se&&e.target.nodeType&&!U.contains(e.target)&&new Date-le>100&&(le=new Date,se._activeElm.focus())}function p(e,t){function a(){T.off(_e,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+F).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+F),c(t)}if(P)T.appendTo(x);else if(ne.is("div")&&!se._hasContent)ne.empty().append(T);else if(ne.hasClass("mbsc-control")){var s=ne.closest(".mbsc-control-w");T.insertAfter(s),s.hasClass("mbsc-select")&&s.addClass("mbsc-select-inline")}else T.insertAfter(ne);H=!0,se._markupInserted(T),ee("onMarkupInserted",{target:I}),T.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",$e).on("touchstart mousedown",function(e){K.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||fe(e.target).is(Oe)){if(9==e.keyCode&&P&&K.focusTrap){var t=T.find(Re).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(fe(":focus",T)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",i),I.addEventListener("touchstart",function(){Q||(Q=!0,x.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),fe.each(Y,function(e,t){se.tap(fe(".mbsc-fr-btn"+e,T),function(e){t=r(t)?se.buttons[t]:t,(r(t.handler)?se.handlers[t.handler]:t.handler).call(this,e,se)},!0)}),se._attachEvents(T),se.position()!==!1&&(q=S(I,u),P&&(T.removeClass("mbsc-fr-pos"),F&&!e?T.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+F).on(_e,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+F):c(t)),ee("onShow",{target:I,valueText:se._tempValue}))}function b(e,t){se._isVisible||(e&&e(),se.show()!==!1&&(Se=t))}function v(){se._fillValue(),ee("onSet",{valueText:se._value})}function g(){ee("onCancel",{valueText:se._value})}function y(){se.setVal(null,!0)}var x,_,w,T,C,D,M,k,V,Y,A,E,F,L,P,H,W,I,$,O,N,R,q,U,X,z,B,K,G,Z,J,Q,ee,te,ae,se=this,ne=fe(e),ie=[],le=new Date;ye.call(this,e,t,!0),se.position=function(e){var t,a,s,n,i,l,r,c,d,u,m,f,h,p,b,v,g,y,_,w={},C=0,S=0,Y=0,A=0;if(!H)return!1;if(v=te,b=ae,h=I.offsetHeight,p=I.offsetWidth,p&&h&&(te!==p||ae!==h||!e)){if(se._checkResp(p))return!1;if(te=p,ae=h,se._isFullScreen||/top|bottom/.test(K.display)?M.width(p):P&&V.width(""),se._position(T),!se._isFullScreen&&/center|bubble/.test(K.display)&&(fe(".mbsc-w-p",T).each(function(){g=this.getBoundingClientRect().width,A+=g,Y=g>Y?g:Y}),f=A>p-16||K.tabs===!0,V.css({width:se._isLiquid?Math.min(K.maxPopupWidth,p-16):Math.ceil(f?Y:A),"white-space":f?"":"nowrap"})),ee("onPosition",{target:I,popup:X,hasTabs:f,oldWidth:v,oldHeight:b,windowWidth:p,windowHeight:h})!==!1&&P)return N&&(C=k.scrollLeft(),S=k.scrollTop(),te&&D.css({width:"",height:""})),$=X.offsetWidth,O=X.offsetHeight,Z=O<=h&&$<=p,"center"==K.display?(_=Math.max(0,C+(p-$)/2),y=Math.max(0,S+(h-O)/2)):"bubble"==K.display?(t=void 0===K.anchor?ne:fe(K.anchor),r=fe(".mbsc-fr-arr-i",T)[0],n=t.offset(),i=n.top+(L?S-x.offset().top:0),l=n.left+(L?C-x.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,c=r.offsetWidth,d=r.offsetHeight,_=o(l-($-a)/2,C+3,C+p-$-3),y=i+s+d/2,y+O+8>S+h&&i-O-d/2>S?(M.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),y=i-O-d/2):M.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),fe(".mbsc-fr-arr",T).css({left:o(l+a/2-(_+($-c)/2),0,c)}),Z=y>S&&_>C&&y+O<=S+h&&_+$<=C+p):(_=C,y="top"==K.display?S:Math.max(0,S+h-O)),N&&(u=Math.max(y+O,L?E.scrollHeight:fe(document).height()),m=Math.max(_+$,L?E.scrollWidth:fe(document).width()),D.css({width:m,height:u}),K.scroll&&"bubble"==K.display&&(y+O+8>S+h||i>S+h||i+s<S)&&k.scrollTop(Math.min(i,y+O-h+8,u-h))),w.top=Math.floor(y),w.left=Math.floor(_),M.css(w),!0}},se.attachShow=function(e,t){var a,s=fe(e).off(".mbsc"),n=s.prop("readonly");"inline"!==K.display&&((K.showOnFocus||K.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){se._isVisible&&this.blur()}),a=fe('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select")||(K.showOnFocus&&s.on("focus.mbsc",function(){Ve?Ve=!1:b(t,s)}),K.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),b(t,s))}),se.tap(s,function(e){e.isMbscTap&&(Q=!0),b(t,s)}),a&&a.length&&se.tap(a,function(e){e.target!==s[0]&&b(t,s)}))),ie.push({readOnly:n,el:s,lbl:a}))},se.select=function(){P?se.hide(!1,"set",!1,v):v()},se.cancel=function(){P?se.hide(!1,"cancel",!1,g):g()},se.clear=function(){se._clearValue(),ee("onClear"),P&&se._isVisible&&!se.live?se.hide(!1,"clear",!1,y):y()},se.enable=function(){K.disabled=!1,fe.each(ie,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},se.disable=function(){K.disabled=!0,fe.each(ie,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},se.show=function(e,t){var a,s;if(!K.disabled&&!se._isVisible){if(se._readValue(),ee("onBeforeShow")===!1)return!1;if(Se=null,F=K.animate,Y=K.buttons||[],N=L||"bubble"==K.display,R=Le&&!N&&K.scrollLock,a=Y.length>0,F!==!1&&("top"==K.display?F=F||"slidedown":"bottom"==K.display?F=F||"slideup":"center"!=K.display&&"bubble"!=K.display||(F=F||"pop")),P&&(J=Math.max(0,k.scrollTop()),G=Math.max(0,k.scrollLeft()),te=0,ae=0,R&&!w.hasClass("mbsc-fr-lock-ios")&&x.css({top:-J+"px",left:-G+"px"}),w.addClass((K.scrollLock?"mbsc-fr-lock":"")+(R?" mbsc-fr-lock-ios":"")+(L?" mbsc-fr-lock-ctx":"")),fe(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=j.activeInstance,j.activeInstance=se,E.mbscModals=E.mbscModals||0,E.mbscLock=E.mbscLock||0,E.mbscModals++,K.scrollLock&&E.mbscLock++),s='<div lang="'+K.lang+'" class="mbsc-fr mbsc-'+K.theme+(K.baseTheme?" mbsc-"+K.baseTheme:"")+" mbsc-fr-"+K.display+" "+(K.cssClass||"")+" "+(K.compClass||"")+(se._isLiquid?" mbsc-fr-liq":"")+(P?" mbsc-fr-pos":"")+(W?" mbsc-fr-pointer":"")+(Ie?" mbsc-fr-hb":"")+(Q?"":" mbsc-no-touch")+(R?" mbsc-platform-ios":"")+(a?Y.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(P?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(K.rtl?" mbsc-rtl":" mbsc-ltr")+(K.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===K.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(P?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(K.headerText?'<div class="mbsc-fr-hdr">'+(r(K.headerText)?K.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=se._generateContent(),s+="</div>",a){var n,i,o,c=Y.length;for(s+='<div class="mbsc-fr-btn-cont">',i=0;i<Y.length;i++)o=K.btnReverse?c-i-1:i,n=Y[o],n=r(n)?se.buttons[n]:n,"set"===n.handler&&(n.parentClass="mbsc-fr-btn-s"),"cancel"===n.handler&&(n.parentClass="mbsc-fr-btn-c"),s+="<div"+(K.btnWidth?' style="width:'+100/Y.length+'%"':"")+' class="mbsc-fr-btn-w '+(n.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+o+" mbsc-fr-btn-e "+(void 0===n.cssClass?K.btnClass:n.cssClass)+(n.icon?" mbsc-ic mbsc-ic-"+n.icon:"")+'">'+(n.text||"")+"</div></div>";s+="</div>"}if(s+="</div></div></div></div>"+(P?"</div></div>":""),T=fe(s),D=fe(".mbsc-fr-persp",T),C=fe(".mbsc-fr-scroll",T),V=fe(".mbsc-fr-w",T),M=fe(".mbsc-fr-popup",T),_=fe(".mbsc-fr-hdr",T),I=T[0],U=C[0],X=M[0],se._activeElm=fe(".mbsc-fr-focus",T)[0],se._markup=T,se._isVisible=!0,se.markup=I,se._markupReady(T),ee("onMarkupReady",{target:I}),P&&(fe(window).on("keydown",l),K.scrollLock&&T.on("touchmove mousewheel wheel",function(e){Z&&e.preventDefault()}),K.focusTrap&&k.on("focusin",f),K.closeOnOverlayTap)){var d,u,b,v;C.on("touchstart mousedown",function(e){u||e.target!=U||(u=!0,d=!1,b=h(e,"X"),v=h(e,"Y"))}).on("touchmove mousemove",function(e){u&&!d&&(Math.abs(h(e,"X")-b)>9||Math.abs(h(e,"Y")-v)>9)&&(d=!0)}).on("touchcancel",function(){u=!1}).on("touchend click",function(e){u&&!d&&(se.cancel(),"touchend"==e.type&&m()),u=!1})}P&&R?setTimeout(function(){p(e,t)},100):p(e,t)}},se.hide=function(e,t,a,s){function n(){T.off(_e,n),d(e)}return!(!se._isVisible||!a&&!se._isValid&&"set"==t||!a&&ee("onBeforeClose",{valueText:se._tempValue,button:t})===!1)&&(se._isVisible=!1,q&&(q.detach(),q=null),P&&(fe(document.activeElement).is("input,textarea")&&X.contains(document.activeElement)&&document.activeElement.blur(),j.activeInstance==se&&(j.activeInstance=B),fe(window).off("keydown",l),k.off("focusin",f)),T&&(P&&F&&!e?T.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+F).on(_e,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+F):d(e),se._detachEvents(T)),s&&s(),ne.trigger("blur"),void ee("onClose",{valueText:se._value}))},se.isVisible=function(){return se._isVisible},se.setVal=s,se.getVal=s,se._generateContent=s,se._attachEvents=s,se._detachEvents=s,se._readValue=s,se._clearValue=s,se._fillValue=s,se._markupReady=s,se._markupInserted=s,se._markupRemove=s,se._position=s,se.__processSettings=s,se.__init=s,se.__destroy=s,se._destroy=function(){se.hide(!0,!1,!0),ne.off(".mbsc"),fe.each(ie,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),se.__destroy()},se._updateHeader=function(){var t=K.headerText,a=t?"function"==typeof t?t.call(e,se._tempValue):t.replace(/\{value\}/i,se._tempValue):"";_.html(a||"&nbsp;")},se._processSettings=function(e){var a,s;for(se.__processSettings(e),W=!K.touchUi,W&&(K.display=e.display||t.display||"bubble",K.buttons=e.buttons||t.buttons||[]),K.buttons=K.buttons||("inline"!==K.display?["cancel","set"]:[]),K.headerText=void 0===K.headerText?"inline"!==K.display&&"{value}":K.headerText,Y=K.buttons||[],P="inline"!==K.display,L="body"!=K.context,x=fe(K.context),w=L?x:fe("body,html"),E=x[0],se._$window=k=fe(L?K.context:window),se.live=!0,s=0;s<Y.length;s++)a=Y[s],"ok"!=a&&"set"!=a&&"set"!=a.handler||(se.live=!1);se.buttons.set={text:K.setText,icon:K.setIcon,handler:"set"},se.buttons.cancel={text:K.cancelText,icon:K.cancelIcon,handler:"cancel"},se.buttons.close={text:K.closeText,icon:K.closeIcon,handler:"cancel"},se.buttons.clear={text:K.clearText,icon:K.clearIcon,handler:"clear"},se._isInput=ne.is("input")},se._init=function(e){var t=se._isVisible,a=t&&!T.hasClass("mbsc-fr-pos");t&&se.hide(!0,!1,!0),ne.off(".mbsc"),se.__init(e),se._isLiquid="liquid"==K.layout,P?(se._readValue(),se._hasContent||K.skipShow||se.attachShow(ne),t&&se.show(a)):se.show(),ne.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){se._preventChange||se.setVal(ne.val(),!0,!1),se._preventChange=!1})},se.buttons={},se.handlers={set:se.select,cancel:se.cancel,clear:se.clear},se._value=null,se._isValid=!0,se._isVisible=!1,K=se.settings,ee=se.trigger,a||se.init()};qe.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Pe||He,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!We},be.Frame=qe,Fe.frame.mobiscroll={headerText:!1,btnWidth:!1},Fe.scroller.mobiscroll=ge({},Fe.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),ne&&fe(window).on("focus",function(){Se&&(Ve=!0)});/* eslint-disable no-unused-vars */
var Ue="ios"==Q,Xe=function(e,t,a){function s(e){ue("onStart",{domEvent:e}),ge.stopProp&&e.stopPropagation(),ge.prevDef&&e.preventDefault(),ge.readonly||ge.lock&&N||w(e,this)&&!O&&(y&&y.removeClass("mbsc-active"),P=!1,N||(y=fe(e.target).closest(".mbsc-btn-e",this),y.length&&!y.hasClass("mbsc-disabled")&&(P=!0,C=setTimeout(function(){y.addClass("mbsc-active")},100))),O=!0,K=!1,R=!1,pe.scrolled=N,se=h(e,"X"),ne=h(e,"Y"),E=se,M=0,k=0,S=0,ae=new Date,te=+T(le,me)||0,N&&g(te,Ue?0:1),"mousedown"===e.type&&fe(document).on("mousemove",n).on("mouseup",c))}function n(e){O&&(ge.stopProp&&e.stopPropagation(),E=h(e,"X"),F=h(e,"Y"),M=E-se,k=F-ne,S=me?k:M,P&&(Math.abs(k)>ge.thresholdY||Math.abs(M)>ge.thresholdX)&&(clearTimeout(C),y.removeClass("mbsc-active"),P=!1),(pe.scrolled||!R&&Math.abs(S)>de)&&(K||ue("onGestureStart",L),pe.scrolled=K=!0,U||(U=!0,q=oe(i))),me||ge.scrollLock?e.preventDefault():pe.scrolled?e.preventDefault():Math.abs(k)>7&&(R=!0,pe.scrolled=!0,c()))}function i(){I&&(S=o(S,-Q*I,Q*I)),g(o(te+S,$-A,W+A)),U=!1}function c(e){if(O){var t,a=new Date-ae;ge.stopProp&&e&&e.stopPropagation(),ce(q),U=!1,!R&&pe.scrolled&&(ge.momentum&&a<300&&(t=S/a,S=Math.max(Math.abs(S),t*t/ge.speedUnit)*(S<0?-1:1)),v(S)),P&&(clearTimeout(C),y.addClass("mbsc-active"),setTimeout(function(){y.removeClass("mbsc-active")},100),R||pe.scrolled||ue("onBtnTap",{target:y[0],domEvent:e})),e&&"mouseup"==e.type&&fe(document).off("mousemove",n).off("mouseup",c),O=!1}}function d(e){if(e=e.originalEvent||e,S=me?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,ue("onStart",{domEvent:e}),ge.stopProp&&e.stopPropagation(),S){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(S*=15),S=o(-S,-Z,Z),te=he,ge.readonly)return;if(K||b(),te+S<$&&(te=$,S=0),te+S>W&&(te=W,S=0),U||(U=!0,q=oe(i)),!S&&K)return;K=!0,clearTimeout(G),G=setTimeout(function(){ce(q),U=!1,K=!1,v(S)},200)}}function u(e){ue("onStart",{domEvent:e}),ge.readonly||(e.stopPropagation(),te=he,K=!1,e.target==X?(ne=h(e,"Y",!0),fe(document).on("mousemove",m).on("mouseup",f)):(ne=x.offset().top,m(e),f()))}function m(e){var t=(h(e,"Y",!0)-ne)/D;H?(S=-(I*Q*2+D)*t,S=o(S,-Q*I,Q*I)):S=($-W-D)*t,K||b(),K=!0,g(o(te+S,$-A,W+A))}function f(){te=he,v(0),fe(document).off("mousemove",m).off("mouseup",f)}function p(e){e.stopPropagation()}function b(){L={posX:me?0:he,posY:me?he:0,originX:me?0:te,originY:me?te:0,direction:S>0?me?270:360:me?90:180},ue("onGestureStart",L)}function v(e){var t,a,s;if(I&&(e=o(e,-Q*I,Q*I)),s=o(Math.round((te+e)/Q)*Q,$,W),ee){if(e<0){for(t=ee.length-1;t>=0;t--)if(Math.abs(s)+D>=ee[t].breakpoint){be=t,ve=2,s=ee[t].snap2;break}}else if(e>=0)for(t=0;t<ee.length;t++)if(Math.abs(s)<=ee[t].breakpoint){be=t,ve=1,s=ee[t].snap1;break}s=o(s,$,W)}a=ge.time||(he<$||he>W?1e3:Math.max(1e3,Math.abs(s-he)*ge.timeUnit)),L.destinationX=me?0:s,L.destinationY=me?s:0,L.duration=a,L.transitionTiming=Y,ue("onGestureEnd",L),pe.scroll(s,a)}function g(e,t,a,s){var n,i=e!=he,l=t>1,r=t?Te+"transform "+Math.round(t)+"ms "+Y:"",o=function(){clearInterval(J),clearTimeout(re),N=!1,he=e,L.posX=me?0:e,L.posY=me?e:0,i&&ue("onMove",L),l&&ue("onAnimationEnd",L),s&&s()};L={posX:me?0:he,posY:me?he:0,originX:me?0:te,originY:me?te:0,direction:e-he>0?me?270:360:me?90:180},he=e,l&&(L.destinationX=me?0:e,L.destinationY=me?e:0,L.duration=t,L.transitionTiming=Y,ue("onAnimationStart",L)),ie[Me+"Transition"]=r,ie[Me+"Transform"]="translate3d("+(me?"0,"+e+"px,":e+"px,0,")+"0)",X&&z&&(n=H?(j-e)/(I*Q*2):(e-W)/($-W),X.style[Me+"Transition"]=r,X.style[Me+"Transform"]="translate3d(0,"+Math.max(0,Math.min((D-z)*n,D-z))+"px,0)"),!i&&!N||!t||t<=1?o():t&&(N=!a,clearInterval(J),J=setInterval(function(){var t=+T(le,me)||0;L.posX=me?0:t,L.posY=me?t:0,ue("onMove",L),Math.abs(t-e)<2&&o()},100),clearTimeout(re),re=setTimeout(function(){o()},t)),ge.sync&&ge.sync(e,t,Y)}var y,x,_,C,D,M,k,S,V,Y,A,E,F,L,P,H,W,I,$,O,N,R,q,U,X,z,j,B,K,G,Z,J,Q,ee,te,ae,se,ne,ie,le,re,de,ue,me,he,pe=this,be=0,ve=1,ge=t,xe=fe(e);ye.call(this,e,t,!0),pe.scrolled=!1,pe.scroll=function(t,a,s,n){t=l(t)?Math.round(t/Q)*Q:Math.ceil((fe(t,e).length?Math.round(le.offset()[V]-fe(t,e).offset()[V]):he)/Q)*Q,t=o(t,$,W),be=Math.round(t/Q),te=he,j=I*Q+t,g(t,a,s,n)},pe.refresh=function(e){var t;for(D=void 0===ge.contSize?me?xe.height():xe.width():ge.contSize,W=void 0===ge.maxScroll?0:ge.maxScroll,$=Math.min(W,void 0===ge.minScroll?Math.min(0,me?D-le.height():D-le.width()):ge.minScroll),ee=null,!me&&ge.rtl&&(t=W,W=-$,$=-t),r(ge.snap)&&(ee=[],le.find(ge.snap).each(function(){var e=me?this.offsetTop:this.offsetLeft,t=me?this.offsetHeight:this.offsetWidth;ee.push({breakpoint:e+t/2,snap1:-e,snap2:D-e-t})})),Q=l(ge.snap)?ge.snap:1,I=ge.snap?ge.maxSnapScroll:0,Y=ge.easing,A=ge.elastic?l(ge.snap)?Q:l(ge.elastic)?ge.elastic:0:0,Z=Q;Z>44;)Z/=2;Z=Math.round(44/Z)*Z,X&&(H=$==-(1/0)||W==1/0,z=$<W?Math.max(20,D*D/(W-$+D)):0,X.style.height=z+"px",B.style.height=z?"":0),void 0===he&&(he=ge.initialPos,be=Math.round(he/Q)),e||pe.scroll(ge.snap?ee?ee[be]["snap"+ve]:be*Q:he)},pe._processSettings=function(){me="Y"==ge.axis,V=me?"top":"left",le=ge.moveElement||xe.children().eq(0),ie=le[0].style,de=me?ge.thresholdY:ge.thresholdX,ge.scrollbar&&(_=ge.scrollbar,x=_.find(".mbsc-sc-bar"),X=x[0],B=_[0])},pe._init=function(){pe.refresh(),xe.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",c),ge.mousewheel&&xe.on("wheel mousewheel",d),X&&_.on("mousedown",u).on("click",p),e.addEventListener("click",function(e){pe.scrolled&&(pe.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},pe._destroy=function(){clearInterval(J),xe.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",c).off("wheel mousewheel",d),X&&_.off("mousedown",u).off("click",p)},ge=pe.settings,ue=pe.trigger,a||pe.init()};Xe.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var ze={},je=ne?window.CSS:null,Be=je&&je.supports&&je.supports("(transform-style: preserve-3d)"),Ke=function(e,t,a){function s(e){var t,a,s=+fe(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,r(s,fe(e.target))),t&&(e.stopPropagation(),e.preventDefault(),a&&F.start(s,a,e))}function i(){F.stop()}function r(e,t){var a=R[e],s=+t.attr("data-index"),i=p(a,s),r=z._tempSelected[e],o=l(a.multiple)?a.multiple:1/0;O("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[i]&&(void 0!==r[i]?(t.removeClass(A).removeAttr("aria-selected"),delete r[i]):(1==o&&(z._tempSelected[e]=r={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected")),n(r).length<o&&(t.addClass(A).attr("aria-selected","true"),r[i]=i))),T(a,e,s,X,a._index<s?1:2,!0,a.multiple),z.live&&(!a.multiple||1===a.multiple&&$.tapSelect)&&($.setOnTap===!0||$.setOnTap[e])&&setTimeout(function(){z.select()},$.tapSelect?0:200))}function o(e,t){var a=R[e];return a&&(!a.multiple||1!==a.multiple&&t&&($.setOnTap===!0||$.setOnTap[e]))}function c(e){return-(e.max-e._offset-(e.multiple&&!Y?Math.floor($.rows/2):0))*P}function d(e){return-(e.min-e._offset+(e.multiple&&!Y?Math.floor($.rows/2):0))*P}function u(e,t){return(e._array?e._map[t]:+e.getIndex(t,z))||0}function m(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?fe(a).get(t%e._length):a[t]:fe.isFunction(a)?a(t,z):""}function f(e){return fe.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=fe.isPlainObject(e)?e.display:e;return void 0===t?"":t}function p(e,t){return f(m(e,t))}function b(e,t,a){var s=R[e];T(s,e,s._index+t,$.delay+100,1==t?1:2,!1,!1,"keydown"==a.type)}function v(e){return fe.isArray($.readonly)?$.readonly[e]:$.readonly}function g(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=fe.isArray(e.data),e._array&&(e._length=e.data.length,fe.each(e.data,function(t,a){e._map[f(a)]=t})),e.circular=void 0===$.circular?void 0===e.circular?e._array&&e._length>$.rows:e.circular:fe.isArray($.circular)?$.circular[t]:$.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=u(e,L[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-U,e._last=e._index+U,e._offset=e._first,a?(e._offset-=e._margin/P+(e._index-s),e._margin+=(e._index-s)*P):e._margin=0,e._refresh=function(t){ge(e._scroller.settings,{minScroll:c(e),maxScroll:d(e)}),e._scroller.refresh(t)},q[e.key]=e,e}function y(e,t,a,s,n){var i,l,r,o,c,d,u,p,b="",v=z._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)r=m(e,i),c=h(r),o=f(r),l=r&&void 0!==r.cssClass?r.cssClass:"",d=r&&void 0!==r.label?r.label:"",u=r&&r.invalid,p=void 0!==o&&o==L[t]&&!e.multiple,b+='<div role="option" tabindex="-1" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+l+" "+(p?"mbsc-sc-itm-sel ":"")+(v[o]?A:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[o]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+V(o)+'"'+(d?' aria-label="'+d+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+P+"px;line-height:"+P+"px;"+(n?Te+"transform:rotateX("+(e._offset-i)*S%360+"deg) translateZ("+P*$.rows/2+"px);":"")+'">'+(N>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(P/N)+"px;font-size:"+Math.round(P/N*.8)+'px;">':"")+c+(N>1?"</div>":"")+"</div>";return b}function x(e,t,a){var s=Math.round(-a/P)+e._offset,n=s-e._current,i=e._first,l=e._last,r=i+U-M+1,o=l-U+M;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(y(e,t,Math.max(l+1,i+n),l+n)),fe(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,l-i+1)).remove(),Y&&(e._$3d.append(y(e,t,Math.max(o+1,r+n),o+n,!0)),fe(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,o-r+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,l+n))),fe(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-l-1)).remove(),Y&&(e._$3d.prepend(y(e,t,r+n,Math.min(r-1,o+n),!0)),fe(".mbsc-sc-itm",e._$3d).slice(Math.max(n,r-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*P,e._$scroller.css("margin-top",e._margin+"px"))}function _(e,t,a,s){var n,i=R[e],l=s||i._disabled,r=u(i,t),o=p(i,r),c=o,d=o,m=0,f=0;if(l[o]===!0){for(n=0;r-m>=i.min&&l[c]&&n<100;)n++,m++,c=p(i,r-m);for(n=0;r+f<i.max&&l[d]&&n<100;)n++,f++,d=p(i,r+f);o=(f<m&&f&&2!==a||!m||r-m<0||1==a)&&!l[d]?d:c}return o}function w(t,a,s,n,i,l,r){var c,d,m,f,h=z._isVisible;I=!0,f=$.validate.call(e,{values:L.slice(0),index:a,direction:s},z)||{},I=!1,f.valid&&(z._tempWheelArray=L=f.valid.slice(0)),l||fe.each(R,function(e,n){if(h&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},f.disabled&&f.disabled[e]&&fe.each(f.disabled[e],function(e,t){n._disabled[t]=!0,h&&n._$markup.find('.mbsc-sc-itm[data-val="'+V(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),L[e]=n.multiple?L[e]:_(e,L[e],s),h){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected"),d=u(n,L[e]),c=d-n._index+n._batch,Math.abs(c)>2*U+1&&(m=c+(2*U+1)*(c>0?-1:1),n._offset+=m,n._margin-=m*P,n._refresh()),n._index=d+n._batch,n.multiple){if(void 0===a)for(var l in z._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+V(l)+'"]').addClass(A).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+V(L[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(Y&&n.multiple?1:0).attr("tabindex",0),r&&a===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(d-n._offset+n._batch)*P,a===e||void 0===a?t:X,i)}}),O("onValidated",{index:a,time:t}),z._tempValue=$.formatValue.call(e,L,z),h&&z._updateHeader(),z.live&&o(a,l)&&(z._hasValue=n||z._hasValue,C(n,n,0,!0),n&&O("onSet",{valueText:z._value})),n&&O("onChange",{index:a,valueText:z._tempValue})}function T(e,t,a,s,n,i,l,r){var o=p(e,a);void 0!==o&&(L[t]=o,e._batch=e._array?Math.floor(a/e._length)*e._length:0,e._index=a,setTimeout(function(){w(s,t,n,!0,i,l,r)},10))}function C(t,a,s,n,i){if(n?z._tempValue=$.formatValue.call(e,z._tempWheelArray,z):w(s),!i){z._wheelArray=[];for(var l=0;l<L.length;l++)z._wheelArray[l]=R[l]&&R[l].multiple?Object.keys(z._tempSelected[l]||{})[0]:L[l];z._value=z._hasValue?z._tempValue:null,z._selected=ge(!0,{},z._tempSelected)}t&&(z._isInput&&j.val(z._hasValue?z._tempValue:""),O("onFill",{valueText:z._hasValue?z._tempValue:"",change:a}),a&&(z._preventChange=!0,j.trigger("change")))}var D,M,S,Y,A,E,F,L,P,H,W,I,$,O,N,R,q,U=40,X=1e3,z=this,j=fe(e);qe.call(this,e,t,!0),z.setVal=z._setVal=function(t,a,s,n,i){z._hasValue=null!==t&&void 0!==t,z._tempWheelArray=L=fe.isArray(t)?t.slice(0):$.parseValue.call(e,t,z)||[],C(a,void 0===s?a:s,i,!1,n)},z.getVal=z._getVal=function(e){var t=z._hasValue||e?z[e?"_tempValue":"_value"]:null;return l(t)?+t:t},z.setArrayVal=z.setVal,z.getArrayVal=function(e){return e?z._tempWheelArray:z._wheelArray},z.changeWheel=function(e,t,a){var s,n;fe.each(e,function(e,t){n=q[e],n&&(s=n._nr,ge(n,t),g(n,s,!0),z._isVisible&&(Y&&n._$3d.html(y(n,s,n._first+U-M+1,n._last-U+M,!0)),n._$scroller.html(y(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(I)))}),!z._isVisible||z._isLiquid||I||z.position(),I||w(t,void 0,void 0,a)},z.getValidValue=_,z._generateContent=function(){var e,t=0,a="",s=Y?Te+"transform: translateZ("+(P*$.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+P+"px;margin-top:-"+(P/2+($.selectedLineBorder||0))+'px;"></div>',i=0;return fe.each($.wheels,function(l,r){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(Y?" mbsc-sc-whl-gr-3d-c":"")+($.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(Y?" mbsc-sc-whl-gr-3d":"")+(E?" mbsc-sc-cp":"")+($.width||$.maxWidth?'"':'" style="max-width:'+$.maxPopupWidth+'px;"')+">",fe.each(r,function(l,r){z._tempSelected[i]=ge({},z._selected[i]),R[i]=g(r,i),t+=$.maxWidth?$.maxWidth[i]||$.maxWidth:$.width?$.width[i]||$.width:0,e=void 0!==r.label?r.label:l,a+='<div class="mbsc-sc-whl-w '+(r.cssClass||"")+(r.multiple?" mbsc-sc-whl-multi":"")+'" style="'+($.width?"width:"+($.width[i]||$.width)+"px;":($.minWidth?"min-width:"+($.minWidth[i]||$.minWidth)+"px;":"")+($.maxWidth?"max-width:"+($.maxWidth[i]||$.maxWidth)+"px;":""))+'">'+(W?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div aria-live="off" aria-label="'+e+'"'+(r.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+$.rows*P*(Y?1.1:1)+'px;">'+(E?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+($.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+($.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+H+"px;margin-top:-"+(H/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(H-P)/2+'px;">',a+=y(r,i,r._first,r._last)+"</div></div>",Y&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+P+"px;margin-top:-"+P/2+'px;">',a+=y(r,i,r._first+U-M+1,r._last-U+M,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&($.maxPopupWidth=t),a},z._attachEvents=function(e){F=k(fe(".mbsc-sc-btn",e),b,$.delay,v,!0),fe(".mbsc-sc-whl",e).on("keydown",s).on("keyup",i)},z._detachEvents=function(){F.stop();for(var e=0;e<R.length;e++)R[e]._scroller.destroy()},z._markupReady=function(e){D=e,fe(".mbsc-sc-whl-w",D).each(function(e){var t,a=fe(this),s=R[e];s._$markup=a,s._$scroller=fe(".mbsc-sc-whl-sc",this),s._$3d=fe(".mbsc-sc-whl-3d",this),s._scroller=new Xe(this,{mousewheel:$.mousewheel,moveElement:s._$scroller,scrollbar:fe(".mbsc-sc-bar-c",this),initialPos:(s._first-s._index)*P,contSize:$.rows*P,snap:P,minScroll:c(s),maxScroll:d(s),maxSnapScroll:U,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){var n=t?Te+"transform "+Math.round(t)+"ms "+a:"";Y&&(s._$3d[0].style[Me+"Transition"]=n,s._$3d[0].style[Me+"Transform"]="rotateX("+-e/P*S+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),O("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,l=a.destinationY;t=Math.round(-l/P)+s._offset,T(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),O("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){x(s,e,t.posY)},onBtnTap:function(t){r(e,fe(t.target))}})}),w()},z._fillValue=function(){z._hasValue=!0,C(!0,!0,0,!0)},z._clearValue=function(){fe(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",D).removeClass(A).removeAttr("aria-selected")},z._readValue=function(){var t=j.val()||"",a=0;""!==t&&(z._hasValue=!0),z._tempWheelArray=L=z._hasValue&&z._wheelArray?z._wheelArray.slice(0):$.parseValue.call(e,t,z)||[],z._tempSelected=ge(!0,{},z._selected),fe.each($.wheels,function(e,t){fe.each(t,function(e,t){R[a]=g(t,a),a++})}),C(!1,!1,0,!0),O("onRead")},z.__processSettings=function(e){$=z.settings,O=z.trigger,N=$.multiline,A="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+$.checkIcon,W=!$.touchUi,W&&($.tapSelect=!0,$.circular=!1,$.rows=e.rows||t.rows||7)},z.__init=function(e){e&&(z._wheelArray=null),R=[],q={},E=$.showScrollArrows,Y=$.scroll3d&&Be&&!E&&!W&&("ios"==$.theme||"ios"==$.baseTheme),P=$.height,H=Y?2*Math.round((P-.03*(P*$.rows/2+3))/2):P,M=Math.round(1.8*$.rows),S=360/(2*M),E&&($.rows=Math.max(3,$.rows))},z._getItemValue=f,z._tempSelected={},z._selected={},a||z.init()};Ke.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:ze,_defaults:ge({},qe.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],l=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),fe.each(t.settings.wheels,function(e,r){fe.each(r,function(e,r){s=r.data,a=t._getItemValue(s[0]),fe.each(s,function(e,s){if(n[l]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),l++})}),i}})},be.Scroller=Ke;var Ge={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};ze.select=function(e,t){function a(e){var t,a,s,n,i,l,r=0,o=0,c={};if(j={},Y={},L=[],S=[],oe.length=0,ae)fe.each(C,function(r,d){i=d[U.dataText]+"",a=d[U.dataHtml],l=d[U.dataValue],s=d[U.dataGroup],n={value:l,html:a,text:i,index:r,cssClass:le?"mbsc-sel-gr-itm":""},j[l]=n,e&&!v(i,e)||(L.push(n),se&&(void 0===c[s]?(t={text:s,value:o,options:[],index:o},Y[o]=t,c[s]=o,S.push(t),o++):t=Y[c[s]],ie&&(n.index=t.options.length),n.group=c[s],t.options.push(n)),d[U.dataDisabled]&&oe.push(l))});else if(se){var d=!0;fe("optgroup",R).each(function(t){Y[t]={text:this.label,value:t,options:[],index:t},d=!0,fe("option",this).each(function(a){n={value:this.value,text:this.text,index:ie?a:r++,group:t,cssClass:le?"mbsc-sel-gr-itm":""},j[this.value]=n,e&&!v(this.text,e)||(d&&(S.push(Y[t]),d=!1),L.push(n),Y[t].options.push(n),this.disabled&&oe.push(this.value))})})}else fe("option",R).each(function(t){n={value:this.value,text:this.text,index:t},j[this.value]=n,e&&!v(this.text,e)||(L.push(n),this.disabled&&oe.push(this.value))});I=U.defaultValue?U.defaultValue:L.length?L[0].value:"",le&&(L=[],r=0,fe.each(Y,function(e,t){t.options.length&&(l="__group"+e,n={text:t.text,value:l,group:e,index:r++,cssClass:"mbsc-sel-gr"},j[l]=n,L.push(n),oe.push(n.value),fe.each(t.options,function(e,t){t.index=r++,L.push(t)}))})),X&&(L.length?X.removeClass("mbsc-sel-empty-v"):X.addClass("mbsc-sel-empty-v"))}function o(e,t,a,s,n){var i,l=[];for(i=0;i<e.length;i++)l.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!s?1:s,cssClass:(t&&!s?"mbsc-sel-one":"")+" "+n,data:l,label:a}}function c(){return o(S,Z,U.groupLabel,!1,"mbsc-sel-gr-whl")}function d(){return o(ie&&Y[k]?Y[k].options:L,Z,ee,G,"")}function u(){var e=[[]];return ne&&(V=c(),K?e[0][A]=V:e[A]=[V]),P=d(),K?e[0][H]=P:e[H]=[P],e}function m(e){G&&(e&&r(e)&&(e=e.split(",")),fe.isArray(e)&&(e=e[0])),F=void 0===e||null===e||""===e?I:e,!j[F]&&L&&L.length&&(F=L[0].value),ne&&(k=j[F]?j[F].group:null)}function f(e){return $[e]||(j[e]?j[e].text:"")}function h(e,t,a){var s,n,i=[],l=a?t._selected:t._tempSelected;if(Z){for(s in l[H])i.push(f(s));return i.join(", ")}return n=e[H],f(n)}function p(){var t,a="",s=e.getVal(),n=U.formatValue.call(N,e.getArrayVal(),e,!0);if(U.filter&&"inline"==U.display||T.val(n),R.is("select")&&ae){if(G)for(t=0;t<s.length;t++)a+='<option value="'+s[t]+'">'+f(s[t])+"</option>";else a='<option value="'+(null===s?"":s)+'">'+n+"</option>";R.html(a)}N!==T[0]&&R.val(s)}function b(){var t={};t[H]=d(),W=!0,e.changeWheel(t)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return U.data.dataField?e[U.data.dataField]:U.data.processResponse?U.data.processResponse(e):e}function x(t){var s={};a(t),m(F),U.wheels=u(),s[H]=P,e._tempWheelArray[H]=F,ne&&(s[A]=V,e._tempWheelArray[A]=k),e.changeWheel(s,0,!0),p()}function _(t){return e.trigger("onFilter",{filterText:t})}function w(t){t[A]!=k&&(k=t[A],F=Y[k].options[0].value,t[H]=F,ie?b():e.setArrayVal(t,!1,!1,!0,O))}var T,C,D,M,k,S,V,Y,A,E,F,L,P,H,W,I="",$={},O=1e3,N=this,R=fe(N),q=ge({},e.settings),U=ge(e.settings,Ge,q),X=fe('<div class="mbsc-sel-empty">'+U.filterEmptyText+"</div>"),z=U.readonly,j={},B=U.layout||(/top|bottom|inline/.test(U.display)||U.filter?"liquid":""),K="liquid"==B||!U.touchUi,G=l(U.select)?U.select:"multiple"==U.select||R.prop("multiple"),Z=G||!(!U.filter&&!U.tapSelect)&&1,J=this.id+"_dummy",Q=fe('label[for="'+this.id+'"]').attr("for",J),ee=void 0!==U.label?U.label:Q.length?Q.text():R.attr("name"),te=U.group,ae=!!U.data,se=ae?!!U.group:fe("optgroup",R).length,ne=se&&te&&te.groupWheel!==!1,ie=se&&te&&ne&&te.clustered===!0,le=se&&(!te||te.header!==!1&&!ie),re=R.val()||(G?[]:[""]),oe=[];return e.setVal=function(t,a,s,n,l){if(Z&&(null===t||void 0===t||G||(t=[t]),t&&r(t)&&(t=t.split(",")),e._tempSelected[H]=i(t),n||(e._selected[H]=i(t)),t=t?t[0]:null,ne)){var o=j[t],c=o&&o.group;e._tempSelected[A]=i([c]),n||(e._selected[A]=i([c]))}e._setVal(t,a,s,n,l)},e.getVal=function(t,a){var s;return Z?(s=n(t?e._tempSelected[H]:e._selected[H]),s=G?s:s.length?s[0]:null):(s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null,s=s?s[H]:null),G?s:void 0!==s?se&&a?[j[s]?j[s].group:null,s]:s:null},e.refresh=function(e,t,a){a=a||s,e?(C=e,E||(U.data=e)):fe.isArray(U.data)&&(C=U.data),!e&&E&&void 0===t?y(U.data.url,function(e){C=g(e),x(),a()},U.data.dataType):(x(t),a())},t.invalid||(U.invalid=oe),ne?(A=0,H=1):(A=-1,H=0),Z&&(G&&R.prop("multiple",!0),re&&r(re)&&(re=re.split(",")),e._selected[H]=i(re)),e._$input&&e._$input.remove(),R.next().is("input.mbsc-control")?T=R.next().removeAttr("tabindex"):U.input?T=fe(U.input):(U.filter&&"inline"==U.display?e._$input=fe('<div class="mbsc-sel-input-wrap"><input type="text" id="'+J+'" class="mbsc-control '+U.inputClass+'" readonly /></div>'):(T=fe('<input type="text" id="'+J+'" class="mbsc-control '+U.inputClass+'" readonly />'),e._$input=T),U.showInput&&(e._$input.insertAfter(R),T||(T=e._$input.find("#"+J)))),e.attachShow(T.attr("placeholder",U.placeholder||"")),T[0]!==N&&R.addClass("mbsc-sel-hdn").attr("tabindex",-1),!Z||U.rows%2||(U.rows=U.rows-1),U.filter&&(D=U.filter.minLength||0),E=U.data&&U.data.url,E?e.refresh():(ae&&(C=U.data),a(),m(R.val())),{layout:B,headerText:!1,anchor:T,compClass:"mbsc-sc mbsc-sel"+(Z?" mbsc-sel-multi":""),setOnTap:!ne||[!1,!0],formatValue:h,tapSelect:Z,parseValue:function(e){return m(void 0===e?R.val():e),ne?[k,F]:[F]},validate:function(e){var t=e.index,a=[];return a[H]=U.invalid,ie&&!W&&void 0===t&&b(),W=!1,{disabled:a}},onRead:p,onFill:p,onMarkupReady:function(e,t){if(U.filter){var a,s,n,i=fe(".mbsc-fr-w",e.target),l=fe('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+U.filterClearIcon+'"></span>');"inline"==U.display?(a=T,T.parent().find(".mbsc-sel-filter-clear").remove()):(i.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),M=null,n=a[0],a.prop("readonly",!1).attr("placeholder",U.filterPlaceholderText).parent().append(l),i.find(".mbsc-fr-c").prepend(X),t._activeElm=n,t.tap(l,function(){M=null,n.value="",t.refresh(),l.removeClass("mbsc-sel-filter-show-clear"),_("")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(s),n.value.length?l.addClass("mbsc-sel-filter-show-clear"):l.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){M!==n.value&&_(n.value)!==!1&&(M=n.value,(M.length>=D||!M.length)&&(E&&U.data.remoteFilter?y(U.data.url+encodeURIComponent(M),function(e){t.refresh(g(e))},U.data.dataType):t.refresh(void 0,M)))},500)})}},onBeforeShow:function(){G&&U.counter&&(U.headerText=function(){var t=0;return fe.each(e._tempSelected[H],function(){t++}),(t>1?U.selectedPluralText||U.selectedText:U.selectedText).replace(/{count}/,t)}),m(R.val()),Z&&ne&&(e._selected[A]=i([k])),U.filter&&a(void 0),e.settings.wheels=u(),W=!0},onWheelGestureStart:function(e){e.index==A&&(U.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==A?(U.readonly=z,Z||w(a)):t.index==H&&a[H]!=F&&(F=a[H],ne&&j[F]&&j[F].group!=k&&(k=j[F].group,a[A]=k,e._tempSelected[A]=i([k]),e.setArrayVal(a,!1,!1,!0,O)))},onItemTap:function(t){var a;if(t.index==H&&($[t.value]=j[t.value].text,Z&&!G&&t.selected))return!1;if(t.index==A&&Z){if(t.selected)return!1;a=e.getArrayVal(!0),a[A]=t.value,w(a)}},onClose:function(){E&&U.data.remoteFilter&&M&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),R.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}},a("select",Ke);var Ze=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Je=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Qe=/^\d{1,2}(\/\d{1,2})?$/,et=/^w\d$/i,tt={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:Y,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};B.datetime={formatDate:A,parseDate:E};var at={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},st=function(e){function t(e){var t,a,s,n,i=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.end&&!Je.test(a.start))for(s=new Date($(a.start,B,X)),n=new Date($(a.end,B,X));s<=n;)i.push(Y(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function a(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function s(e,t,a){return Math.floor((a-t)/e)*e+t}function n(e){return X.getYear(e)}function i(e){return X.getMonth(e)}function l(e){return X.getDay(e)}function r(e){var t=e.getHours();return t=le&&t>=12?t-12:t,a(t,ce,he,ve)}function o(e){return a(e.getMinutes(),de,pe,ye)}function d(e){return a(e.getSeconds(),ue,be,xe)}function u(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+c(e.getMonth()+1)+"-"+c(e.getDate())}function h(e){return a(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),F,0,86400)}function p(e,t,a,s){var n;return void 0===H[t]||(n=+e[H[t]],isNaN(n))?a?De[t](a):void 0!==W[t]?W[t]:De[t](s):n}function b(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==H.dd&&(t=e[H.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==H.tt&&(t=t||a,t=new Date(t.getTime()+e[H.tt]%86400*1e3));var s=p(e,"y",t,a),n=p(e,"m",t,a),i=Math.min(p(e,"d",t,a),X.getMaxDayOfMonth(s,n)),l=p(e,"h",t,a);return X.getDate(s,n,i,le&&p(e,"a",t,a)?l+12:l,p(e,"i",t,a),p(e,"s",t,a),p(e,"u",t,a))}function v(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<n.length;a++)s=n[a],void 0!==H[s]&&(i[H[s]]=De[s](e)),t&&(W[s]=De[s](e));return i}function g(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function y(e){return{value:e,display:(/yy/i.test(J)?e:(e+"").substr(2,2))+(X.yearSuffix||"")}}function x(e){return e}function _(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:se?g(f(se),t):void 0,max:ne?g(f(ne),t):void 0,data:function(a){var s=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*a):new Date(1970,a,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!M(n,!0),value:f(n),display:s.getTime()==n.getTime()?X.todayText:A(e,n,X)}},getIndex:function(e){return g(e,t)}}}function w(e){var t,a,s,n=[];for(/s/i.test(e)?a=ue:/i/i.test(e)?a=60*de:/h/i.test(e)&&(a=3600*ce),F=Te.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:A(e,s,X)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function T(){var e,t,a,s,n,i,l,r,o=0,d=[],u=[],m=[];if(/date/i.test(z)){for(e=G.split(/\|/.test(G)?"|":""),s=0;s<e.length;s++)if(a=e[s],i=0,a.length)if(/y/i.test(a)&&(O.y=1,i++),/m/i.test(a)&&(O.y=1,O.m=1,i++),/d/i.test(a)&&(O.y=1,O.m=1,O.d=1,i++),i>1&&void 0===H.dd)H.dd=o,o++,u.push(_(a)),m=u,L=!0;else if(/y/i.test(a)&&void 0===H.y)H.y=o,o++,u.push({cssClass:"mbsc-dt-whl-y",label:X.yearText,min:se?X.getYear(se):void 0,max:ne?X.getYear(ne):void 0,data:y,getIndex:x});else if(/m/i.test(a)&&void 0===H.m){for(H.m=o,l=[],o++,n=0;n<12;n++)r=J.replace(/[dy|]/gi,"").replace(/mm/,c(n+1)+(X.monthSuffix||"")).replace(/m/,n+1+(X.monthSuffix||"")),l.push({value:n,display:/MM/.test(r)?r.replace(/MM/,'<span class="mbsc-dt-month">'+X.monthNames[n]+"</span>"):r.replace(/M/,'<span class="mbsc-dt-month">'+X.monthNamesShort[n]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:X.monthText,data:l})}else if(/d/i.test(a)&&void 0===H.d){for(H.d=o,l=[],o++,n=1;n<32;n++)l.push({value:n,display:(/dd/i.test(J)?c(n):n)+(X.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:X.dayText,data:l})}d.push(u)}if(/time/i.test(z)){for(t=Z.split(/\|/.test(Z)?"|":""),s=0;s<t.length;s++)if(a=t[s],i=0,a.length&&(/h/i.test(a)&&(O.h=1,i++),/i/i.test(a)&&(O.i=1,i++),/s/i.test(a)&&(O.s=1,i++),/a/i.test(a)&&i++),i>1&&void 0===H.tt)H.tt=o,o++,m.push(w(a));else if(/h/i.test(a)&&void 0===H.h){for(l=[],H.h=o,O.h=1,o++,n=he;n<(le?12:24);n+=ce)l.push({value:n,display:le&&0===n?12:/hh/i.test(Q)?c(n):n});m.push({cssClass:"mbsc-dt-whl-h",label:X.hourText,data:l})}else if(/i/i.test(a)&&void 0===H.i){for(l=[],H.i=o,O.i=1,o++,n=pe;n<60;n+=de)l.push({value:n,display:/ii/i.test(Q)?c(n):n});m.push({cssClass:"mbsc-dt-whl-i",label:X.minuteText,data:l})}else if(/s/i.test(a)&&void 0===H.s){for(l=[],H.s=o,O.s=1,o++,n=be;n<60;n+=ue)l.push({value:n,display:/ss/i.test(Q)?c(n):n});m.push({cssClass:"mbsc-dt-whl-s",label:X.secText,data:l})}else/a/i.test(a)&&void 0===H.a&&(H.a=o,o++,m.push({cssClass:"mbsc-dt-whl-a",label:X.ampmText,data:/A/.test(a)?[{value:0,display:X.amText.toUpperCase()},{value:1,display:X.pmText.toUpperCase()}]:[{value:0,display:X.amText},{value:1,display:X.pmText}]}));m!=u&&d.push(m)}return d}function C(e){var t,a,s,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,a=e.attr("min"),s=e.attr("max"),a&&"undefined"!=a&&(n.min=E(t,a)),s&&"undefined"!=s&&(n.max=E(t,s))}return n}function D(e,t){var a,s,n=!1,i=!1,l=0,r=0,o=se?b(v(se)):-(1/0),c=ne?b(v(ne)):1/0;if(M(e))return e;if(e<o&&(e=o),e>c&&(e=c),a=e,s=e,2!==t)for(n=M(a,!0);!n&&a<c;)a=new Date(a.getTime()+864e5),n=M(a,!0),l++;if(1!==t)for(i=M(s,!0);!i&&s>o;)s=new Date(s.getTime()-864e5),i=M(s,!0),r++;return 1===t&&n?a:2===t&&i?s:r<=l&&i?s:a}function M(e,t){return!(!t&&e<se)&&(!(!t&&e>ne)&&(!!k(e,ae)||!k(e,te)))}function k(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(et.test(n)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(Qe.test(n)){if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0}else if(a=$(a,B,X),e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0;return!1}function S(e,t,a,s,n,i,l){var r,o,c,d;if(e)for(o=0;o<e.length;o++)if(r=e[o],d=r+"",!r.start)if(et.test(d))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=l);else Qe.test(d)?(d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=l):i[d[0]]=l):(r=$(r,B,X),X.getYear(r)==t&&X.getMonth(r)==a&&(i[X.getDay(r)]=l))}function V(e,t,s,n,i,l,r,o){var c,d,u,m,f,h,p,b,v,g,y,x,_,w,T,C,D,M,k,S,V={},Y=X.getDate(n,i,l),A=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,u=y.d,D=u+"",M=D.split("/"),u&&(u.getTime&&n==X.getYear(u)&&i==X.getMonth(u)&&l==X.getDay(u)||!et.test(D)&&(M[1]&&l==M[1]&&i==M[0]-1||!M[1]&&l==M[0])||et.test(D)&&Y.getDay()==+D.replace("w",""))&&(y.apply=!0,V[Y]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,C=0,b=_e[s],v=we[s],w=!0,T=!0,d=!1,y.start&&(y.apply||!y.d&&!V[Y])){for(x=y.start.split(":"),_=y.end.split(":"),g=0;g<3;g++)void 0===x[g]&&(x[g]=0),void 0===_[g]&&(_[g]=59),x[g]=+x[g],_[g]=+_[g];if("tt"==s)b=a(Math.round((new Date(Y).setHours(x[0],x[1],x[2])-new Date(Y).setHours(0,0,0,0))/1e3),F,0,86400),v=a(Math.round((new Date(Y).setHours(_[0],_[1],_[2])-new Date(Y).setHours(0,0,0,0))/1e3),F,0,86400);else{for(x.unshift(x[0]>11?1:0),_.unshift(_[0]>11?1:0),le&&(x[1]>=12&&(x[1]=x[1]-12),_[1]>=12&&(_[1]=_[1]-12)),g=0;g<t;g++)void 0!==N[g]&&(k=a(x[g],Te[A[g]],_e[A[g]],we[A[g]]),S=a(_[g],Te[A[g]],_e[A[g]],we[A[g]]),m=0,f=0,h=0,le&&1==g&&(m=x[0]?12:0,f=_[0]?12:0,h=N[0]?12:0),w||(k=0),T||(S=we[A[g]]),(w||T)&&k+m<N[g]+h&&N[g]+h<S+f&&(d=!0),N[g]!=k&&(w=!1),N[g]!=S&&(T=!1));if(!o)for(g=t+1;g<4;g++)x[g]>0&&(c=Te[s]),_[g]<we[A[g]]&&(C=Te[s]);d||(k=a(x[t],Te[s],_e[s],we[s])+c,S=a(_[t],Te[s],_e[s],we[s])-C,w&&(b=k),T&&(v=S))}if(w||T||d)for(g=b;g<=v;g+=Te[s])r[g]=!o}}}var F,L,P,H={},W={},O={},N=[],R=C(fe(this)),q=ge({},e.settings),U=K[q.calendarSystem],X=ge(e.settings,tt,U,at,R,q),z=X.preset,j="datetime"==z?X.dateFormat+X.separator+X.timeFormat:"time"==z?X.timeFormat:X.dateFormat,B=R.format||j,G=X.dateWheels||X.dateFormat,Z=X.timeWheels||X.timeFormat,J=X.dateWheels||X.dateDisplay,Q=Z,ee=X.baseTheme||X.theme,te=t(X.invalid),ae=t(X.valid),se=$(X.min,B,X),ne=$(X.max,B,X),ie=/time/i.test(z),le=/h/.test(Q),re=/D/.test(J),oe=X.steps||{},ce=oe.hour||X.stepHour||1,de=oe.minute||X.stepMinute||1,ue=oe.second||X.stepSecond||1,me=oe.zeroBased,he=me||!se?0:se.getHours()%ce,pe=me||!se?0:se.getMinutes()%de,be=me||!se?0:se.getSeconds()%ue,ve=s(ce,he,le?11:23),ye=s(de,pe,59),xe=s(de,pe,59),_e={y:se?se.getFullYear():-(1/0),m:0,d:1,h:he,i:pe,s:be,a:0,tt:0},we={y:ne?ne.getFullYear():1/0,m:11,d:31,h:ve,i:ye,s:xe,a:1,tt:86400},Te={y:1,m:1,d:1,h:ce,i:de,s:ue,a:1,tt:1},Ce={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},De={y:n,m:i,d:l,h:r,i:o,s:d,u:u,a:m,dd:f,tt:h};return e.getVal=function(t){return e._hasValue||t?I(b(e.getArrayVal(t)),X,B):null},e.getDate=function(t){return e._hasValue||t?b(e.getArrayVal(t)):null},e.setDate=function(t,a,s,n,i){e.setArrayVal(v(t,!0),a,i,n,s)},P=T(),X.isoParts=O,e._format=j,e._order=H,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:X.nowText,icon:X.nowIcon,handler:"now"},{minWidth:L&&ie?Ce[ee]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:P,headerText:!!X.headerText&&function(){return A(j,b(e.getArrayVal(!0)),X)},formatValue:function(e){return A(B,b(e),X)},parseValue:function(e){return e||(W={}),v($(e||X.defaultValue||new Date,B,X,O),!!e)},validate:function(t){var a,s,n,i,l=t.values,r=t.index,o=t.direction,c=X.wheels[0][H.d],d=D(b(l),o),u=v(d),m=[],f={},h=De.y(d),p=De.m(d),g=X.getMaxDayOfMonth(h,p),y=!0,x=!0;if(fe.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){var a=_e[t],n=we[t],i=De[t](d);if(m[H[t]]=[],y&&se&&(a=De[t](se)),x&&ne&&(n=De[t](ne)),i<a&&(i=a),i>n&&(i=n),y&&(y=i==a),x&&(x=i==n),void 0!==H[t]){if("y"!=t&&"dd"!=t)for(s=_e[t];s<=we[t];s+=Te[t])(s<a||s>n)&&m[H[t]].push(s);if("d"==t){var l=X.getDate(h,p,1).getDay(),r={};S(te,h,p,l,g,r,1),S(ae,h,p,l,g,r,0),fe.each(r,function(e,a){a&&m[H[t]].push(e)})}}}),ie&&fe.each(["a","h","i","s","tt"],function(t,a){var s=De[a](d),n=De.d(d),i={};void 0!==H[a]&&(V(te,t,a,h,p,n,i,0),V(ae,t,a,h,p,n,i,1),fe.each(i,function(e,t){
t&&m[H[a]].push(e)}),N[t]=e.getValidValue(H[a],s,o,i))}),c&&(c._length!==g||re&&(void 0===r||r===H.y||r===H.m))){for(f[H.d]=c,c.data=[],a=1;a<=g;a++)i=X.getDate(h,p,a).getDay(),n=J.replace(/[my|]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(X.daySuffix||"")).replace(/d/,a+(X.daySuffix||"")),c.data.push({value:a,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+X.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+X.dayNamesShort[i]+"</span>")});e._tempWheelArray[H.d]=u[H.d],e.changeWheel(f)}return{disabled:m,valid:u}}}};ze.date=st,ze.time=st,ze.datetime=st,a("date",Ke),a("time",Ke),a("datetime",Ke);/* eslint-disable no-unused-vars */
var nt={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},it=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function a(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function n(e){e.hasClass("mbsc-cal-h")?t(e):a(e)}function i(){var t,a,s;he={},pe=[],_e={},mt=e.trigger,J=fe(wt),s=ge({},e.settings),dt=ge(e.settings,nt,s),t=dt.controls.join(","),De=dt.firstDay,Pe=dt.rtl,it=dt.pageBuffer,pt=dt.weekCounter,ce=dt.weeks,Le=6==ce,He="vertical"==dt.calendarScroll,me="inline"==dt.display?J.is("div")?J:J.parent():e._$window,bt="full"==dt.weekDays?"":"min"==dt.weekDays?"Min":"Short",a=dt.layout||("inline"==dt.display||/top|bottom/.test(dt.display)&&dt.touchUi?"liquid":""),Fe="liquid"==a,ue=Fe?null:dt.calendarWidth,ct=Pe&&!He?-1:1,be="mbsc-disabled "+(dt.disabledClass||""),ye="mbsc-selected "+(dt.selectedTabClass||""),ve="mbsc-selected "+(dt.selectedClass||""),Re=Math.max(1,Math.floor(((dt.calendarHeight||0)/ce-45)/18)),t.match(/calendar/)&&(he.calendar=1,Me=!0),t.match(/date/)&&!Me&&(he.date=1),t.match(/time/)&&(he.time=1),dt.controls.forEach(function(e){he[e]&&pe.push(e)}),Ye=dt.quickNav&&Me&&Le,vt=dt.yearChange&&Le,Fe&&Me&&"center"==dt.display&&(e._isFullScreen=!0),dt.layout=a,dt.preset=(he.date||Me?"date":"")+(he.time?"time":"")}function l(){Ze=vt?dt.monthNamesShort:dt.monthNames,xt=dt.yearSuffix||"",Ge=(dt.dateWheels||dt.dateFormat).search(/m/i),gt=(dt.dateWheels||dt.dateFormat).search(/y/i),Ce=e._format,dt.min&&(ze=L($(dt.min,Ce,dt)),Ke=dt.getYear(ze),Be=dt.getMonth(ze),je=dt.getDate(12*Math.floor(Ke/12),0,1)),dt.max&&(Oe=L($(dt.max,Ce,dt)),Ue=dt.getYear(Oe),qe=dt.getMonth(Oe),Ne=dt.getDate(12*Math.floor(Ue/12),0,1))}function r(e,t,a){e[t]=e[t]||[],e[t].push(a)}function o(e,t,a){var s,n,i,l,o=dt.getYear(t),c=dt.getMonth(t),d={};return e&&fe.each(e,function(e,u){if(s=u.d||u.start||u,n=s+"",u.start&&u.end)for(l=L($(u.start,Ce,dt)),i=L($(u.end,Ce,dt));l<=i;)r(d,l,u),l=dt.getDate(dt.getYear(l),dt.getMonth(l),dt.getDay(l)+1);else if(et.test(n))for(l=q(t,!1,+n.replace("w",""));l<=a;)r(d,l,u),l=dt.getDate(dt.getYear(l),dt.getMonth(l),dt.getDay(l)+7);else if(Qe.test(n))if(n=n.split("/"),n[1])for(l=dt.getDate(o,n[0]-1,n[1]);l<=a;)r(d,l,u),l=dt.getDate(dt.getYear(l)+1,dt.getMonth(l),n[1]);else for(l=dt.getDate(o,c,n[0]);l<=a;)r(d,l,u),l=dt.getDate(dt.getYear(l),dt.getMonth(l)+1,n[0]);else r(d,L($(s,Ce,dt)),u)}),d}function c(e){return!(e<ze)&&(!(e>Oe)&&(void 0===Ae[e]||void 0!==ft[e]))}function d(t){var a,s,n,i,l=!!Ie[t]&&Ie[t],r=!!$e[t]&&$e[t],o=r&&r[0].background?r[0].background:l&&l[0].background,c="";if(l){for(n='<div class="mbsc-cal-marks">',a=0;a<l.length;a++)s=l[a],c+=(s.cssClass||"")+" ",n+='<div class="mbsc-cal-mark"'+(s.color?' style="background:'+s.color+';"':"")+"></div>";n+="</div>"}return i={marked:l,background:o,cssClass:c,markup:_e[t]?_e[t].join(""):Se?n:""},ge(i,e._getDayProps(t,i))}function u(e){return' style="'+(He?"transform: translateY("+100*e+"%)":"left:"+100*e*ct+"%")+'"'}function f(){lt="auto"==dt.months?Math.max(1,Math.min(3,Math.floor((ue||N(me))/280))):+dt.months,ot=lt+2*it,rt=0,He=He&&lt<2,ut=void 0===dt.showOuterDays?lt<2&&!He:dt.showOuterDays}function h(e){return U(e,lt-1)>Oe&&(e=U(Oe,1-lt)),e<ze&&(e=ze),e}function p(e,t,a){var s=e.color,n=e.text;return'<div data-id="'+e._id+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+fe("<div>"+n+"</div>").text()+'"'+(s?' style="background:'+s+(a?";color:"+C(s):"")+';"':"")+">"+(a?n:"")+"</div>"}function b(t){var a=q(U(t,-rt-it),!1),s=q(U(t,-rt+lt+it-1),!1);s=dt.getDate(dt.getYear(s),dt.getMonth(s),dt.getDay(s)+7*ce),e._onGenMonth(a,s),Ae=o(dt.invalid,a,s),ft=o(dt.valid,a,s),Ie=o(dt.labels||dt.events||dt.marked,a,s),$e=o(dt.colors,a,s),We=e._labels||Ie||$e,ke=dt.labels||e._labels,ke&&!function(){_e={};for(var e={},t=a,n=function(){t.getDay()==De&&(e={});for(var a=Re,s=We[t]||[],n=s.length,i=[],l=void 0,r=void 0,o=0,c=0,d=0,u=void 0;o<a;)if(l=null,s.forEach(function(t,a){e[o]==t&&(l=t,r=a)}),o==a-1&&(c<n-1||n&&d==n&&!l)){var m=n-c,f=(m>1?dt.moreEventsPluralText||dt.moreEventsText:dt.moreEventsText).replace(/{count}/,m);m&&i.push('<div class="mbsc-cal-txt-more">'+f+"</div>"),l&&(e[o]=null,l._days.forEach(function(e){_e[e][o]='<div class="mbsc-cal-txt-more">'+dt.moreEventsText.replace(/{count}/,1)+"</div>"})),c++,o++}else if(l)r==d&&d++,O(t,$(l.end))&&(e[o]=null),i.push(p(l,r)),o++,c++,l._days.push(t);else if(d<n){var h=s[d],b=h.start&&$(h.start),v=h.end&&$(h.end),g=t.getDay(),y=De-g>0?7:0,x=v&&!O(b,v);b&&!O(t,b)&&g!=De||(void 0===h._id&&(h._id=_t++),x&&(e[o]=h),h._days=[t],u=x?100*Math.min(F(t,L(v))+1,7+De-g-y):100,i.push(x?'<div class="mbsc-cal-txt-w" style="width:'+u+'%">'+p(h,d,!0)+"</div>"+p(h,d):p(h,d,!0)),o++,c++),d++}else i.push('<div class="mbsc-cal-txt-ph"></div>'),o++;_e[t]=i,t=dt.getDate(dt.getYear(t),dt.getMonth(t),dt.getDay(t)+1)};t<s;)n()}()}function v(e){var t=dt.getYear(e),a=dt.getMonth(e);xe=e,re=e,E(e),mt("onMonthChange",{year:t,month:a}),mt("onMonthLoading",{year:t,month:a}),mt("onPageChange",{firstDay:e}),mt("onPageLoading",{firstDay:e}),b(e)}function g(e){var t=dt.getYear(e),a=dt.getMonth(e);void 0!==at&&D(e,at,!0),void 0===at&&y(e,t,a),M(re,Te.focus),Te.focus=!1}function y(e,t,a){var s=Te.$scroller;fe(".mbsc-cal-slide",s).removeClass("mbsc-cal-slide-a"),fe(".mbsc-cal-slide",s).slice(it,it+lt).addClass("mbsc-cal-slide-a"),ke&&fe(".mbsc-cal-slide-a .mbsc-cal-txt",s).on("mouseenter",function(){var e=fe(this).attr("data-id");fe('.mbsc-cal-txt[data-id="'+e+'"]',s).addClass("mbsc-hover")}).on("mouseleave",function(){fe(".mbsc-cal-txt.mbsc-hover",s).removeClass("mbsc-hover")}),mt("onMonthLoaded",{year:t,month:a}),mt("onPageLoaded",{firstDay:e})}function x(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',pe.forEach(function(a,s){t=dt[("calendar"==a?"date":a)+"Text"],e+='<div role="tab" aria-controls="'+(wt.id+"-mbsc-pnl-"+s)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(s?"":ye)+'" data-control="'+a+'"'+(dt.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function _(){var e,t,a,s,n,i="",l=Pe?dt.btnCalNextClass:dt.btnCalPrevClass,r=Pe?dt.btnCalPrevClass:dt.btnCalNextClass;for(s='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+dt.prevMonthText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(ce?lt:1);t++)s+='<div role="button" class="mbsc-cal-month"></div>';if(s+='<div data-step="1" role="button" tabindex="0" aria-label="'+dt.nextMonthText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',vt&&(i='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+dt.prevYearText+'" class="'+l+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+dt.nextYearText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),ce&&(n=D(xe)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(Le?"":" mbsc-cal-week-view")+(lt>1?" mbsc-cal-multi ":"")+(pt?" mbsc-cal-weeks ":"")+(He?" mbsc-cal-vertical":"")+(Se?" mbsc-cal-has-marks":"")+(ke?" mbsc-cal-has-labels":"")+(ut?"":" mbsc-cal-hide-diff ")+(dt.calendarClass||"")+'"'+(Fe?"":' style="width:'+(ue||280*lt)+'px;"')+'><div class="mbsc-cal-hdr">'+(gt<Ge||lt>1?i+s:s+i)+"</div>",ce){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',a=0;a<lt;a++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div aria-label="'+dt.dayNames[(t+De)%7]+'">'+dt["dayNames"+bt][(t+De)%7]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(dt.calendarClass||"")+'"'+(dt.calendarHeight?' style="height:'+dt.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/lt+'%">'+n+"</div></div>"}if(e+="</div>",Ye){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(dt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+u(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',a=0;a<12;a++)a&&a%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+dt.monthNames[a]+'" data-val="'+a+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?dt.monthNamesShort[a]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(dt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=w(X(xe,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function w(e,t){var a,s=dt.getYear(e),n='<div class="mbsc-cal-slide"'+u(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(a=0;a<12;a++)a&&a%3===0&&(n+='</div><div class="mbsc-cal-row">'),n+='<div role="gridcell" tabindex="-1" aria-label="'+s+'" data-val="'+s+'" class="mbsc-cal-cell mbsc-btn-e '+(s<Ke||s>Ue?" mbsc-disabled ":"")+(s==dt.getYear(xe)?ve:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+s+xt+"</div></div>",s++;return n+="</div></div></div>"}function T(t,a){var s,n,i,l,r,o,m,f,h,p,b,v,g,y,x,_,w=1,T=dt.getYear(t),D=dt.getMonth(t),M=dt.getDay(t),k=null!==dt.defaultValue||e._hasValue?e.getDate(!0):null,S=dt.getDate(T,D,M).getDay(),V=De-S>0?7:0,Y='<div class="mbsc-cal-slide"'+u(a)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(_=0;_<7*ce;_++)x=_+De-V,s=dt.getDate(T,D,x-S+M),i=s.getFullYear(),l=s.getMonth(),r=s.getDate(),o=dt.getMonth(s),m=dt.getDay(s),y=dt.getMaxDayOfMonth(i,l),f=i+"-"+(l+1)+"-"+r,h=ge({valid:c(s),selected:k&&O(k,s)},d(s)),p=h.valid,b=h.selected,n=h.cssClass,v=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=o!==D,we[f]=h,_&&_%7===0&&(Y+='</div><div class="mbsc-cal-row">'),pt&&_%7===0&&("month"==pt&&g&&w>1?w=1==r?1:2:"year"==pt&&(w=dt.getWeekNumber(dt.getDate(i,l,r+(7-De+1)%7))),Y+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+w+"</div>",w++),Y+='<div role="gridcell" aria-label="'+(v?dt.todayText+", ":"")+dt.dayNames[s.getDay()]+", "+dt.monthNames[o]+" "+m+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(g&&!ut?' aria-hidden="true"':' data-full="'+f+'"')+(b?' aria-selected="true"':"")+(p?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+x%7+" "+(dt.dayClass||"")+" "+(b?ve:"")+(v?" "+dt.todayClass:"")+(n?" "+n:"")+(1==m?" mbsc-cal-day-first":"")+(m==y?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(p?" mbsc-btn-e":" mbsc-disabled")+(h.marked?" mbsc-cal-day-marked":"")+(h.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(h.background?' style="background:'+h.background+";color:"+C(h.background)+'"':"")+">"+m+"</div>"+(h.markup||"")+"</div></div>";return Y+="</div></div></div>"}function D(e,t,a){var s,n=dt.getYear(e),i=dt.getMonth(e),l=Te?Te.pos:0,r="";if(we={},ce)for(t||(mt("onMonthLoading",{year:n,month:i}),mt("onPageLoading",{firstDay:e})),b(e),s=0;s<ot;s++)r+=T(U(e,s-rt-it),l*ct+s-it);return at=void 0,a&&Te&&(Te.$scroller.html(r),y(e,n,i)),r}function M(e,t){var a=Te.$active;a&&a.length&&(a[0].blur(),a.hasClass("mbsc-disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1")),Te.$active=fe('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+P(e)+'"]',Te.$scroller).attr("tabindex","0"),t&&Te.$active.length&&Te.$active[0].focus()}function S(t){var a=Te&&Te.$scroller;dt.highlight&&Te&&(fe(".mbsc-selected",a).removeClass(ve).removeAttr("aria-selected"),(null!==dt.defaultValue||e._hasValue)&&fe('.mbsc-cal-day[data-full="'+P(t)+'"]',a).addClass(ve).attr("aria-selected","true"))}function V(e,t){fe(".mbsc-selected",t).removeClass(ve).removeAttr("aria-selected"),fe('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(ve).attr("aria-selected","true")}function A(t,a,s,n){var i,l;ht&&(t<ze&&(t=ze),t>Oe&&(t=Oe),"calendar"!==ht&&Ve&&!a||(e._isSetDate=!0,Me&&ce&&(l=q(h(t),Le),tt&&(t<U(xe,-rt)||t>=U(xe,lt-rt))&&(i=Le?dt.getMonth(l)-dt.getMonth(xe)+12*(dt.getYear(l)-dt.getYear(xe)):Math.floor(F(xe,l)/(7*ce)),i&&(Te.queue=[],Te.focus=n&&s,z(Te,i,s))),i&&s||M(t,n),a||S(t),Le||E(t,!0),re=t,tt=!0),e._onSetDate(t,i),e._isSetDate=!1))}function E(e,t){var a,s,n,i=dt.getYear(e),l=dt.getMonth(e),r=i+xt;if(Ye){if(V(l,Je.$scroller),V(i,yt.$scroller),z(yt,Math.floor(i/12)-Math.floor(dt.getYear(yt.first)/12),!0),fe(".mbsc-cal-cell",Je.$scroller).removeClass("mbsc-disabled"),i===Ke)for(a=0;a<Be;a++)fe('.mbsc-cal-cell[data-val="'+a+'"]',Je.$scroller).addClass("mbsc-disabled");if(i===Ue)for(a=qe+1;a<=12;a++)fe('.mbsc-cal-cell[data-val="'+a+'"]',Je.$scroller).addClass("mbsc-disabled")}for(t||(H(fe(".mbsc-cal-prev-m",ee),U(e,-rt)<=ze),H(fe(".mbsc-cal-next-m",ee),U(e,lt-rt)>Oe),H(fe(".mbsc-cal-prev-y",ee),dt.getDate(i-1,l+1,1)<=ze),H(fe(".mbsc-cal-next-y",ee),dt.getDate(i+1,l,1)>Oe)),ie.attr("aria-label",i).html(r),a=0;a<lt;a++)e=dt.getDate(i,l-rt+a,1),s=dt.getYear(e),n=dt.getMonth(e),r=s+xt,te.eq(a).attr("aria-label",dt.monthNames[n]+(vt?"":" "+i)).html((!vt&&gt<Ge?r+" ":"")+Ze[n]+(!vt&&gt>Ge?" "+r:""))}function H(e,t){t?e.addClass(be).attr("aria-disabled","true"):e.removeClass(be).removeAttr("aria-disabled")}function W(t,a){var s=e.getDate(!0),n=t[0],i=t.attr("data-full"),l=i?i.split("-"):[],r=Y(l[0],l[1]-1,l[2]),o=Y(r.getFullYear(),r.getMonth(),r.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),c=t.hasClass("mbsc-selected"),d=fe(a.target),u=d[0];if(ut||!t.hasClass("mbsc-cal-day-diff")){if(ke&&n.contains(u))for(;u!=n;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),f=We[r];if(mt("onLabelTap",{date:o,domEvent:a,target:d[0],labels:f,label:f[m]})===!1)return;break}d=d.parent(),u=d[0]}mt("onDayChange",ge(we[i],{date:o,target:n,selected:c}))===!1||dt.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,r,o,c)}}function I(e){a(ae),A(dt.getDate(dt.getYear(Te.first),e.attr("data-val"),1),!0,!0)}function R(e){a(le),A(dt.getDate(e.attr("data-val"),dt.getMonth(Te.first),1),!0,!0)}function q(e,t,a){var s=dt.getYear(e),n=dt.getMonth(e),i=e.getDay(),l=De-i>0?7:0;return t?dt.getDate(s,n,1):dt.getDate(s,n,(a||De)-l-i+dt.getDay(e))}function U(e,t){var a=dt.getYear(e),s=dt.getMonth(e),n=dt.getDay(e);return Le?dt.getDate(a,s+t,1):dt.getDate(a,s,n+t*ce*7)}function X(e,t){var a=12*Math.floor(dt.getYear(e)/12);return dt.getDate(a+12*t,0,1)}function z(t,a,s,n){a&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&j(t,a,s,n))}function j(e,t,a,s){var n,i,l="",r=e.$scroller,o=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,f=e.genPage,h=e.getFirst,p=t>0?Math.min(t,o):Math.max(t,-o),b=e.pos*ct+p-t+c,v=Math.abs(t)>o;e.callback&&(e.load(),e.callback()),e.first=h(m,t),e.pos+=p*ct,e.changing=!0,e.load=function(){if(v){for(n=0;n<d;n++)i=t+n-c,l+=f(h(m,i),b+i);t>0?(fe(".mbsc-cal-slide",r).slice(-d).remove(),r.append(l)):t<0&&(fe(".mbsc-cal-slide",r).slice(0,d).remove(),r.prepend(l))}},e.callback=function(){var a=Math.abs(p),l="";for(n=0;n<a;n++)i=t+n-c-o+(t>0?u-a:0),l+=f(h(m,i),b+i);if(t>0?(r.append(l),fe(".mbsc-cal-slide",r).slice(0,p).remove()):t<0&&(r.prepend(l),fe(".mbsc-cal-slide",r).slice(p).remove()),v){for(l="",n=0;n<a;n++)i=t+n-c-o+(t>0?0:u-a),l+=f(h(m,i),b+i);t>0?(fe(".mbsc-cal-slide",r).slice(0,p).remove(),r.prepend(l)):t<0&&(fe(".mbsc-cal-slide",r).slice(p).remove(),r.append(l))}K(e),s&&s(),e.callback=null,e.load=null,e.queue.shift(),v=!1,e.queue.length?j.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load(),e.scroller.scroll(-e.pos*e.size,a?200:0,!1,e.callback)}function B(t,a,s,n,i,l,r,o,c,d,u,f,h){var p=He?"Y":"X",b={$scroller:fe(".mbsc-cal-scroll",t),queue:[],buffer:n,offset:i,pages:l,first:o,total:r,pos:0,min:a,max:s,genPage:f,getFirst:h,onBeforeChange:d,onAfterChange:u};return b.scroller=new Xe(t,{axis:p,easing:"",contSize:0,maxSnapScroll:n,mousewheel:dt.mousewheel,time:200,lock:!0,rtl:Pe,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&m(),c(fe(e.target),e.domEvent)},onAnimationStart:function(){b.changing=!0},onAnimationEnd:function(e){f&&z(b,Math.round((-b.pos*b.size-e["pos"+p])/b.size)*ct)}}),e._scrollers.push(b.scroller),b}function K(e,t){var a,s=0,n=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(s=e.buffer,n=e.buffer;n&&e.getFirst(i,n+e.pages-e.offset-1)>e.max;)n--;for(;s&&e.getFirst(i,1-s-e.offset)<=e.min;)s--}a=Math.round(de/e.pages),Fe&&a&&e.size!=a&&e.$scroller[He?"height":"width"](a),ge(e.scroller.settings,{snap:a,minScroll:(-e.pos*ct-n)*a,maxScroll:(-e.pos*ct+s)*a}),e.size=a,e.scroller.refresh()}}function G(t){e._onRefresh(t),e._isVisible&&Me&&ce&&(Te&&Te.changing?at=t:D(xe,t,!0))}function Z(){if(Me&&ce){var t=fe(".mbsc-cal-scroll-c",ee);Te=B(t[0],ze,Oe,it,rt,lt,ot,xe,W,v,g,T,U),Ye&&(Je=B(t[1],null,null,1,0,1,3,xe,I),yt=B(t[2],je,Ne,1,0,1,3,xe,R,s,s,w,X),e.tap(te,function(){n(ae),a(le)}),e.tap(ie,function(){n(le),a(ae)})),k(fe(".mbsc-cal-btn",ee),function(e,t,a,s){z(Te,t,!0,s)}),g(xe),null===dt.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=Te.$active[0]),Q.on("keydown",function(e){var t,a=dt.getYear(re),s=dt.getMonth(re),n=dt.getDay(re);switch(e.keyCode){case 32:W(Te.$active,e);break;case 37:t=dt.getDate(a,s,n-1);break;case 39:t=dt.getDate(a,s,n+1);break;case 38:t=dt.getDate(a,s,n-7);break;case 40:t=dt.getDate(a,s,n+7);break;case 36:t=dt.getDate(a,s,1);break;case 35:t=dt.getDate(a,s+1,0);break;case 33:t=e.altKey?dt.getDate(a-1,s,n):Le?dt.getDate(a,s-1,n):dt.getDate(a,s,n-7*ce);break;case 34:t=e.altKey?dt.getDate(a+1,s,n):Le?dt.getDate(a,s+1,n):dt.getDate(a,s,n+7*ce)}t&&(e.preventDefault(),A(t,!0,!1,!0))})}e.tap(fe(".mbsc-cal-tab",ee),function(){e.changeTab(fe(this).attr("data-control"))})}var J,Q,ee,te,ae,se,ne,ie,le,re,oe,ce,de,ue,me,he,pe,be,ve,ye,xe,_e,we,Te,Ce,De,Me,ke,Se,Ve,Ye,Ae,Ee,Fe,Le,Pe,He,We,Ie,$e,Oe,Ne,Re,qe,Ue,ze,je,Be,Ke,Ge,Ze,Je,tt,at,it,lt,rt,ot,ct,dt,ut,mt,ft,ht,pt,bt,vt,gt,yt,xt,_t=1,wt=this;return i(),oe=st.call(this,e),l(),e.refresh=function(){G(!1)},e.redraw=function(){G(!0)},e.navigate=function(e,t){A($(e,Ce,dt),!0,t)},e.changeTab=function(t){e._isVisible&&he[t]&&ht!=t&&(ht=t,fe(".mbsc-cal-tab",ee).removeClass(ye).removeAttr("aria-selected"),fe('.mbsc-cal-tab[data-control="'+t+'"]',ee).addClass(ye).attr("aria-selected","true"),Ve&&(ne.addClass("mbsc-cal-h"),he[ht].removeClass("mbsc-cal-h")),"calendar"==ht&&A(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:ht}))},e._onGenMonth=s,e._onSelectShow=s,e._onSetDate=s,e._onRefresh=s,e._getDayProps=s,e._prepareObj=o,e._showDayPicker=function(){Ye&&(a(le,!0),a(ae,!0))},e._selectDay=e.__selectDay=function(t,a,s){var n=e.live;tt=dt.outerMonthChange,Ee=!0,e.setDate(s,n,1e3,!n,!0),n&&mt("onSet",{valueText:e._value})},ge(oe,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var a=0;ee=fe(t.target),se=fe(".mbsc-fr-c",ee),re=e.getDate(!0),de=0,Me&&(Se=!(!dt.marked&&!dt.data||dt.labels||dt.multiLabel||dt.showEventCount),tt=!0,ht="calendar",f(),xe=q(h(re),Le),se.append(_()),te=fe(".mbsc-cal-month",ee),ie=fe(".mbsc-cal-year",ee),Q=fe(".mbsc-cal-day-scroll-c",ee)),Ye&&(le=fe(".mbsc-cal-year-picker",ee),ae=fe(".mbsc-cal-month-picker",ee)),ne=fe(".mbsc-w-p",ee),pe.length>1&&se.before(x()),["date","time","calendar"].forEach(function(e){he[e]?(he[e]=ne.eq(a),a++):"date"==e&&!he.date&&Me&&(ne.eq(a).remove(),a++)}),pe.forEach(function(e){se.append(he[e])}),!Me&&he.date&&he.date.css("position","relative"),e._scrollers=[],Z()},onShow:function(){Me&&ce&&E(Le?xe:re)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),we=null,Te=null,Je=null,yt=null,ht=null},onValidated:function(t){var a,s,n=t.index,i=e._order;s=e.getDate(!0),Ee?a="calendar":void 0!==n&&(a=i.dd==n||i.d==n||i.m==n||i.y==n?"date":"time"),mt("onSetDate",{date:s,control:a}),"time"!==a&&A(s,!1,!!t.time,Ee&&!e._multiple),Ee=!1},onPosition:function(t){var a,s,n,i,l,r,o,c=t.oldHeight,d=t.windowHeight;if(Ve=(t.hasTabs||dt.tabs===!0||dt.tabs!==!1&&Fe)&&pe.length>1,Fe&&(t.windowWidth>=dt.breakPointMd?fe(t.target).addClass("mbsc-fr-md"):fe(t.target).removeClass("mbsc-fr-md")),Ve?(ee.addClass("mbsc-cal-tabbed"),ht=fe(".mbsc-cal-tab.mbsc-selected",ee).attr("data-control"),ne.addClass("mbsc-cal-h"),he[ht].removeClass("mbsc-cal-h")):(ee.removeClass("mbsc-cal-tabbed"),ne.removeClass("mbsc-cal-h")),e._isFullScreen&&(Q.height(""),l=t.popup.offsetHeight,o=d-l+Q[0].offsetHeight,d>=l&&Q.height(o)),ke&&ce&&d!=c){var u=o||Q[0].offsetHeight,m=fe(".mbsc-cal-txt-ph")[0],f=m.offsetTop,h=m.offsetHeight,p=Math.max(1,Math.floor((u/ce-f)/(h+2)));Re!=p&&(Re=p,e.redraw())}if(Me&&ce){if(r=Fe||He||Ve?Q[0][He?"offsetHeight":"offsetWidth"]:ue||280*lt,i=r!=de,de=r,Fe&&i&&vt)for(Ze=dt.maxMonthWidth>te[0].offsetWidth?dt.monthNamesShort:dt.monthNames,s=dt.getYear(xe),n=dt.getMonth(xe),a=0;a<lt;a++)te.eq(a).text(Ze[dt.getMonth(dt.getDate(s,n-rt+a,1))]);i&&K(Te,!0)}Ye&&i&&(K(Je,!0),K(yt,!0))}})},lt={};ze.calendar=function(e){function t(e){return Y(e.getFullYear(),e.getMonth(),e.getDate())}function a(e){var a,s,n=null;if(v={},e&&e.length)for(s=0;s<e.length;s++)a=$(e[s],o,m,m.isoParts),n=n||a,v[t(a)]=a;return n}function s(){e.redraw()}var i,r,o,c,d,u=ge({},e.settings),m=ge(e.settings,lt,u),f="mbsc-selected "+(m.selectedClass||""),h=m.defaultValue,p="multiple"==m.select||m.select>1||"week"==m.selectType,b=l(m.select)?m.select:1/0,v={};return i=it.call(this,e),c=void 0===m.firstSelectDay?m.firstDay:m.firstSelectDay,o=e._format,p&&a(h),e._multiple=p,e._getDayProps=function(e){return{selected:p?void 0!==v[e]:void 0}},e._selectDay=function(t,a,i,l){if(m.setOnDayTap&&"multiple"!=m.select&&"inline"!=m.display)return e.setDate(i),void e.select();if(p)if("week"==m.selectType){var o,d,u=a.getDay()-c;for(u=u<0?7+u:u,"multiple"!=m.select&&(v={}),o=0;o<7;o++)d=Y(a.getFullYear(),a.getMonth(),a.getDate()-u+o),l?delete v[d]:n(v).length/7<b&&(v[d]=d);s()}else{var h=fe('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',r);l?(h.removeClass(f).removeAttr("aria-selected"),delete v[a]):n(v).length<b&&(h.addClass(f).attr("aria-selected","true"),v[a]=a)}e.__selectDay(t,a,i)},e.setVal=function(t,n,i,l,r){p&&(t=a(t)),e._setVal(t,n,i,l,r),p&&s()},e.getVal=function(t){var a,s=[];if(p){for(a in v)s.push(I(v[a],m,o));return s}return I(e.getDate(t),m,o)},ge({},i,{highlight:!p,outerMonthChange:!p,parseValue:function(e){return p&&e&&"string"==typeof e&&(e=a(e.split(","))),p&&h&&h.length&&(m.defaultValue=h[0]),i.parseValue.call(this,e)},formatValue:function(t){var a,s=[];if(p){for(a in v)s.push(A(o,v[a],m));return s.join(", ")}return i.formatValue.call(this,t,e)},onClear:function(){p&&(v={},s())},onBeforeShow:function(){void 0!==m.setOnDayTap||m.buttons&&m.buttons.length||1!=m.controls.length||(m.setOnDayTap=!0),m.setOnDayTap&&"inline"!=m.display&&(m.outerMonthChange=!1),m.counter&&p&&(m.headerText=function(){var e=0,t="week"==m.selectType?7:1;return fe.each(v,function(){e++}),e=Math.round(e/t),(e>1?m.selectedPluralText||m.selectedText:m.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=fe(e.target),p&&(fe(".mbsc-fr-hdr",r).attr("aria-live","off"),d=ge({},v))},onCancel:function(){!e.live&&p&&(v=ge({},d))}})},a("calendar",Ke);var rt={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide",mode:"countdown"};ze.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function a(e){var a={};if(H&&D[F].index>D.days.index){var s,n,i,l,r=new Date,o=b?r:P,c=b?P:r;for(c=t(c),o=t(o),a.years=o.getFullYear()-c.getFullYear(),a.months=o.getMonth()-c.getMonth(),a.days=o.getDate()-c.getDate(),a.hours=o.getHours()-c.getHours(),a.minutes=o.getMinutes()-c.getMinutes(),a.seconds=o.getSeconds()-c.getSeconds(),a.fract=(o.getMilliseconds()-c.getMilliseconds())/10,s=C.length;s>0;s--)n=C[s-1],i=D[n],l=C[fe.inArray(n,C)-1],D[l]&&a[n]<0&&(a[l]--,a[n]+="months"==l?32-new Date(o.getFullYear(),o.getMonth(),32).getDate():i.until+1);"months"==F&&(a.months+=12*a.years,delete a.years)}else fe(C).each(function(t,s){D[s].index<=D[F].index&&(a[s]=Math.floor(e/D[s].limit),e-=a[s]*D[s].limit)});return a}function s(e){var t=1,a=D[e],s=a.wheel,i=a.prefix,l=0,r=a.until,c=D[C[fe.inArray(e,C)-1]];if(a.index<=D[F].index&&(!c||c.limit>E))if(M[e]||W[0].push(s),M[e]=1,s.data=[],s.label=a.label||"",s.cssClass="mbsc-timer-whl-"+e,E>=a.limit&&(t=Math.max(Math.round(E/a.limit),1),d=t*a.limit),e==F)s.min=0,s.data=function(e){return{value:e,display:n(e,i,a.label)}},s.getIndex=function(e){return e};else for(o=l;o<=r;o+=t)s.data.push({value:o,display:n(o,i,a.label)})}function n(e,t,a){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+a+"</span>"}function i(e){var t,s=[],n=a(e);return fe(C).each(function(e,a){M[a]&&(t=Math.max(Math.round(E/D[a].limit),1),s.push(Math.round(n[a]/t)*t))}),s}function l(e){H?(h=P-new Date,h<0?(h*=-1,b=!0):b=!1,p=0,A=!0):void 0!==P?(A=!1,h=1e3*P,b="countdown"!=x.mode,e&&(p=0)):(h=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function r(){V?(fe(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),fe(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&fe(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&fe(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(fe(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&fe(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&fe(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(fe(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),fe(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&fe(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&fe(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(fe(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&fe(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&fe(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var o,c,d,u,m,f,h,p,b,v,g,y=ge({},e.settings),x=ge(e.settings,rt,y),_=x.useShortLabels?x.labelsShort:x.labels,w=1e3,T=["resetlap","toggle"],C=["years","months","days","hours","minutes","seconds","fract"],D={years:{index:6,until:10,limit:31536e6,label:_[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:_[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:_[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:_[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:_[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:_[5],wheel:{}},fract:{index:0,until:99,limit:10,label:_[6],prefix:".",wheel:{}}},M={},k=[],S=0,V=!1,Y=!0,A=!1,E=Math.max(10,1e3*x.step),F=x.maxWheel,L="stopwatch"==x.mode||H,P=x.targetTime,H=P&&void 0!==P.getTime,W=[[]];return e.start=function(){if(Y&&e.reset(),!V){if(l(),!A&&p>=h)return;V=!0,Y=!1,m=new Date,u=p,x.readonly=!0,e.setVal(i(b?p:h-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-m+u,e.setVal(i(b?p:h-p),!0,!0,!1,Math.min(100,d-10)),!A&&p+d>=h&&(clearInterval(c),setTimeout(function(){e.stop(),p=h,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:h}),Y=!0},h-p))},d),r(),e.trigger("onStart")}},e.stop=function(){V&&(V=!1,clearInterval(c),p=new Date-m+u,r(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){V?e.stop():e.start()},e.reset=function(){e.stop(),p=0,k=[],S=0,e.setVal(i(b?0:h),!0,!0,!1,w),e.settings.readonly=L,Y=!0,L||fe(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){V&&(f=new Date-m+u,g=f-S,S=f,k.push(f),e.trigger("onLap",{ellapsed:f,lap:g,laps:k}))},e.resetlap=function(){V&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return h},e.setTime=function(e){P=e/1e3,h=e},e.getEllapsedTime=function(){return Y?0:V?new Date-m+u:p},e.setEllapsedTime=function(t,a){Y||(u=p=t,m=new Date,e.setVal(i(b?p:h-p),!0,a,!1,w))},l(!0),F||h||(F="minutes"),"inline"!==x.display&&T.unshift("hide"),F||fe(C).each(function(e,t){if(!F&&h>=D[t].limit)return F=t,!1}),fe(C).each(function(e,t){s(t)}),d=Math.max(97,d),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:W,headerText:!1,readonly:L,buttons:T,compClass:"mbsc-timer mbsc-sc",parseValue:function(){return i(b?0:h)},formatValue:function(e){var t="",a=0;return fe(C).each(function(s,n){"fract"!=n&&M[n]&&(t+=e[a]+("seconds"==n&&M.fract?"."+e[a+1]:"")+" "+_[s]+" ",a++)}),t},validate:function(e){var t=e.values,a=e.index,s=0;Y&&void 0!==a&&(P=0,fe(C).each(function(e,a){M[a]&&(P+=D[a].limit*t[s],s++)}),P/=1e3,l(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=fe(e.target),r(),L&&fe(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){fe(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",fe(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}},a("timer",Ke),a("scroller",Ke,!1);var ot={},ct=function(e,t,a){function s(t){var a,s=x.validate.call(e,{values:A.slice(0),variables:O},W)||[],i=s&&s.disabled||[];if(W._isValid=!s.invalid,W._tempValue=x.formatValue.call(e,A.slice(0),O,W),y=A.length,E=s.length||L,W._isVisible){if(fe(".mbsc-np-ph",b).each(function(e){fe(this).html("ltr"==x.fill?e>=y?g:_||A[e]:e>=L-E?e+y<L?g:_||A[e+y-L]:"")}),fe(".mbsc-np-cph",b).each(function(){fe(this).html(O[fe(this).attr("data-var")]||fe(this).attr("data-ph"))}),y===L)for(a=0;a<=9;a++)i.push(a);for(fe(".mbsc-np-btn",b).removeClass(v),a=0;a<i.length;a++)fe('.mbsc-np-btn[data-val="'+i[a]+'"]',b).addClass(v);W._isValid?fe(".mbsc-fr-btn-s .mbsc-fr-btn",b).removeClass(v):fe(".mbsc-fr-btn-s .mbsc-fr-btn",b).addClass(v),W.live&&(W._hasValue=t||W._hasValue,n(t,!1,t),t&&F("onSet",{valueText:W._value}))}}function n(e,t,a,n){t&&s(),n||(P=A.slice(0),N=ge({},O),I=$.slice(0),W._value=W._hasValue?W._tempValue:null),e&&(W._isInput&&H.val(W._hasValue&&W._isValid?W._value:""),F("onFill",{valueText:W._hasValue?W._tempValue:"",change:a}),a&&(W._preventChange=!0,H.trigger("change")))}function i(e){var t,a,s=e||[],n=[];for($=[],O={},t=0;t<s.length;t++)/:/.test(s[t])?(a=s[t].split(":"),O[a[0]]=a[1],
$.push(a[0])):(n.push(s[t]),$.push("digit"));return n}function r(e,t){!(y||t||x.allowLeadingZero)||e.hasClass("mbsc-disabled")||e.hasClass("mbsc-np-btn-empty")||y<L&&($.push("digit"),A.push(t),s(!0))}function o(e){var t,a,n=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-disabled")){if(r&&(a=r.split(":"),i&&$.push(a[0]),O[a[0]]=void 0===a[2]?a[1]:O[a[0]]==a[1]?a[2]:a[1]),n.length+y<=E)for(t=0;t<n.length;++t)a=l(n[t])?+n[t]:n[t],(x.allowLeadingZero||y||a)&&($.push("digit"),A.push(a),y=A.length);s(!0)}}function c(){var e,t,a=$.pop();if(y||"digit"!==a){if("digit"!==a&&O[a])for(delete O[a],t=$.slice(0),$=[],e=0;e<t.length;e++)t[e]!==a&&$.push(t[e]);else A.pop();s(!0)}}function d(e){V=!0,T=h(e,"X"),C=h(e,"Y"),clearInterval(Y),clearTimeout(Y),c(),Y=setInterval(function(){c()},150)}function u(){clearInterval(Y),V=!1}function m(e){if(w(e,this)){if("keydown"==e.type&&32!=e.keyCode)return;d(e),"mousedown"==e.type&&fe(document).on("mousemove",f).on("mouseup",p)}}function f(e){V&&(D=h(e,"X"),M=h(e,"Y"),k=D-T,S=M-C,(Math.abs(k)>7||Math.abs(S)>7)&&u())}function p(e){V&&(e.preventDefault(),u(),"mouseup"==e.type&&fe(document).off("mousemove",f).off("mouseup",p))}var b,v,g,y,x,_,T,C,D,M,k,S,V,Y,A,E,F,L,P,H=fe(e),W=this,I=[],$=[],O={},N={},R={107:"+",109:"-"},q={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};qe.call(this,e,t,!0),W.setVal=W._setVal=function(t,a,s,l){W._hasValue=null!==t&&void 0!==t,A=i(fe.isArray(t)?t.slice(0):x.parseValue.call(e,t,W)),n(a,!0,void 0===s?a:s,l)},W.getVal=W._getVal=function(e){return W._hasValue||e?W[e?"_tempValue":"_value"]:null},W.setArrayVal=W.setVal,W.getArrayVal=function(e){return e?A.slice(0):W._hasValue?P.slice(0):null},W._readValue=function(){var t=H.val()||"";""!==t&&(W._hasValue=!0),_?(O={},$=[],A=[]):(O=W._hasValue?N:{},$=W._hasValue?I:[],A=W._hasValue&&P?P.slice(0):i(x.parseValue.call(e,t,W)),n(!1,!0))},W._fillValue=function(){W._hasValue=!0,n(!0,!1,!0)},W._generateContent=function(){var e,t,a,s=1,n="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+x.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+x.deleteIcon+'"></div><div class="mbsc-np-dsp">',n=x.template.replace(/d/g,'<span class="mbsc-np-ph">'+g+"</span>").replace(/&#100;/g,"d"),n=n.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=n,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)a=s,10==s||12==s?a="":11==s&&(a=0),i+=""===a?10==s&&x.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(x.leftKey.variable?'data-var="'+x.leftKey.variable+'"':"")+' data-val="'+(x.leftKey.value||"")+'" '+(void 0!==x.leftKey.track?' data-track="'+x.leftKey.track+'"':"")+">"+x.leftKey.text+"</div>":12==s&&x.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(x.rightKey.variable?'data-var="'+x.rightKey.variable+'"':"")+' data-val="'+(x.rightKey.value||"")+'" '+(void 0!==x.rightKey.track?' data-track="'+x.rightKey.track+'"':"")+" >"+x.rightKey.text+"</div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",s++;i+="</div>"}return i+="</div></div>"},W._markupReady=function(){b=W._markup,s()},W._attachEvents=function(e){e.on("keydown",function(t){var a;void 0!==R[t.keyCode]?(a=fe('.mbsc-np-btn[data-var="sign:-:"]',e),a.length&&(O.sign=107==t.keyCode?"-":"",o(a))):void 0!==q[t.keyCode]?r(fe('.mbsc-np-btn[data-val="'+q[t.keyCode]+'"]',e),q[t.keyCode]):8==t.keyCode&&(t.preventDefault(),c())}),W.tap(fe(".mbsc-np-btn",e),function(){var e=fe(this);e.hasClass("mbsc-np-btn-custom")?o(e):r(e,+e.attr("data-val"))},!1,30,!0),fe(".mbsc-np-del",e).on("touchstart mousedown keydown",m).on("touchmove mousemove",f).on("touchend mouseup keyup",p)},W.__init=function(){x=W.settings,x.template=x.template.replace(/\\d/,"&#100;"),g=x.placeholder,L=(x.template.match(/d/g)||[]).length,v="mbsc-disabled "+(x.disabledClass||""),_=x.mask,F=W.trigger,_&&H.is("input")&&H.attr("type","password")},W._indexOf=function(e,t){var a;for(a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},a||W.init()};ct.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"numpad",_presets:ot,_defaults:ge({},qe.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",compClass:"mbsc-np",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:s,parseValue:s,formatValue:function(e,t,a){var s,n=1,i=a.settings,l=i.placeholder,r=i.template,o=e.length,c=r.length,d="";for(s=0;s<c;s++)"d"==r[c-s-1]?(d=n<=o?e[o-n]+d:l+d,n++):d=r[c-s-1]+d;return fe.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),fe("<div>"+d+"</div>").text()}})},be.Numpad=ct,j.themes.numpad=j.themes.frame;var dt={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};ot.decimal=function(e){function t(e,t){for(var a,s=e.slice(0),i=0;s.length;)i=10*i+s.shift();for(a=0;a<n.scale;a++)i/=10;return t?i*-1:i}function a(e){var a=t(e).toFixed(n.scale).split("."),s=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,n.thousandsSeparator);return s+(a[1]?n.decimalSeparator+a[1]:"")}var s=ge({},e.settings),n=ge(e.settings,dt,s),i=n.min<0,r=new RegExp(n.thousandsSeparator,"g");return e.getVal=function(t){var a=e._getVal(t),s=(a+"").replace(r,"").replace(n.decimalSeparator,".");return l(s)?+s:a},{template:(i?"{sign}":"")+n.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(n.max,Math.abs(n.min)))+"").length+1).join("d")+(n.scale?"."+Array(n.scale+1).join("d"):"")+n.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,a,s=e||n.defaultValue,i=[];if(s&&(s=(s+"").replace(r,"").replace(n.decimalSeparator,"."),a=s.match(/\d+\.?\d*/g)))for(a=(+a[0]).toFixed(n.scale),t=0;t<a.length;t++)"."!=a[t]&&(+a[t]?i.push(+a[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,s){var i=a(e),l=t(e,s&&"-"==s.sign);return(l<0?"-":"")+(n.returnAffix?n.prefix+i+n.suffix:i)},validate:function(s){var i=s.values,l=a(i),r=t(i,s.variables&&"-"==s.variables.sign),o=[];return i.length||n.allowLeadingZero||o.push(0),e.isVisible()&&fe(".mbsc-np-dsp",e._markup).html((s.variables.sign||"")+n.prefix+l+n.suffix),{disabled:o,invalid:r>n.max||r<n.min||!!n.invalid&&e._indexOf(n.invalid,r)!=-1}}}};var ut=["h","m","s"],mt={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};ot.timespan=function(e){function t(e){var t,a="",s=3600;return fe(ut).each(function(i,l){t=Math.floor(e/s),e-=t*s,s/=60,(t>0||"s"==l&&!a)&&(a=a+(a?" ":"")+t+n[l])}),a}var a=ge({},e.settings),s=ge(e.settings,mt,a),n={h:s.hourTextShort.replace(/d/g,"\\d"),m:s.minuteTextShort.replace(/d/g,"\\d"),s:s.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+n.s+"</span>";return s.max>9&&(i="d"+i),s.max>99&&(i='<span class="mbsc-np-ts-m">'+(s.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.m+"</span>"+i),s.max>6039&&(i='<span class="mbsc-np-ts-h">'+(s.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.h+"</span>"+i),e.setVal=function(a,s,n,i){return l(a)&&(a=t(a)),e._setVal(a,s,n,i)},e.getVal=function(t){return e._hasValue||t?R(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var a,i=e||t(s.defaultValue),l=[];return i&&fe(ut).each(function(e,t){a=new RegExp("(\\d+)"+n[t],"gi").exec(i),a?(a=+a[1],a>9?(l.push(Math.floor(a/10)),l.push(a%10)):(l.length&&l.push(0),(a||l.length)&&l.push(a))):l.length&&(l.push(0),l.push(0))}),l},formatValue:function(e){return t(R(e))},validate:function(t){var a=t.values,n=R(a.slice(0)),i=[];return a.length||i.push(0),{disabled:i,invalid:n>s.max||n<s.min||!!s.invalid&&e._indexOf(s.invalid,+n)!=-1}}}};var ft={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};ot.time=function(e){function t(e,t){var a,s="";for(a=0;a<e.length;++a)s+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return fe.each(t,function(e,t){s+=" "+t}),s}function a(e){var t,a,s,r,o,b,v,g,y,x,_=[],w=2*i.length;if(c=w,e.length||(l&&(_.push(0),_.push(n.leftKey.value)),_.push(n.rightKey.value)),!l&&(w-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&w-e.length<=2)&&(_.push("30"),_.push("00")),(l?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=w-1),e.length==w)for(t=0;t<=9;++t)_.push(t);else if(1==e.length&&l&&1==e[0]||e.length&&e.length%2===0||!l&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)_.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+f==+(void 0!==e[3]?""+e[2]+e[3]:""),n.invalid)for(t=0;t<n.invalid.length;++t)if(b=n.invalid[t].getHours(),v=n.invalid[t].getMinutes(),g=n.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){_.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){_.push(g<10?g:+(""+g)[1]);break}}if(n.min||n.max){if(a=+d==+y,s=+u==+y,o=s&&x,r=a&&x,0===e.length){for(t=l?2:d>19?d[0]:3;t<=(1==d[0]?9:d[0]-1);++t)_.push(t);if(d>=10&&(_.push(0),2==d[0]))for(t=3;t<=9;++t)_.push(t);if(u&&u<10||d&&d>=10)for(t=u&&u<10?+u[0]+1:0;t<(d&&d>=10?d[0]:10);++t)_.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<d[0];++t)_.push(t);if(d&&0!==e[0]&&(l?1==e[0]:2==e[0]))for(t=l?3:4;t<=9;++t)_.push(t);if(e[0]==d[0])for(t=0;t<d[1];++t)_.push(t);if(e[0]==u[0]&&!l)for(t=+u[1]+1;t<=9;++t)_.push(t)}if(2==e.length&&(a||s))for(t=s?+f[0]+1:0;t<(a?+m[0]:10);++t)_.push(t);if(3==e.length&&(s&&e[2]==f[0]||a&&e[2]==m[0]))for(t=s&&e[2]==f[0]?+f[1]+1:0;t<(a&&e[2]==m[0]?+m[1]:10);++t)_.push(t);if(4==e.length&&(r||o))for(t=o?+p[0]+1:0;t<(r?+h[0]:10);++t)_.push(t);if(5==e.length&&(r&&e[4]==h[0]||o&&e[4]==p[0]))for(t=o&&e[4]==p[0]?+p[1]+1:0;t<(r&&e[4]==h[0]?+h[1]:10);++t)_.push(t)}return _}var s=ge({},e.settings),n=ge(e.settings,ft,s),i=n.timeFormat.split(":"),l=n.timeFormat.match(/a/i),r=l?"a"==l[0]?n.amText:n.amText.toUpperCase():"",o=l?"a"==l[0]?n.pmText:n.pmText.toUpperCase():"",c=0,d=n.min?""+n.min.getHours():"",u=n.max?""+n.max.getHours():"",m=n.min?""+(n.min.getMinutes()<10?"0"+n.min.getMinutes():n.min.getMinutes()):"",f=n.max?""+(n.max.getMinutes()<10?"0"+n.max.getMinutes():n.max.getMinutes()):"",h=n.min?""+(n.min.getSeconds()<10?"0"+n.min.getSeconds():n.min.getSeconds()):"",p=n.max?""+(n.max.getSeconds()<10?"0"+n.max.getSeconds():n.max.getSeconds()):"";return n.min?n.min.setFullYear(2014,7,20):"",n.max?n.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(l?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:l?{text:r,variable:"ampm:"+r,value:"00"}:{text:":00",value:"00"},rightKey:l?{text:o,variable:"ampm:"+o,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,s=e||n.defaultValue,i=[];if(s){if(s+="",a=s.match(/\d/g))for(t=0;t<a.length;t++)i.push(+a[t]);l&&i.push("ampm:"+(s.match(new RegExp(n.pmText,"gi"))?o:r))}return i},formatValue:function(e,a){return t(e,a)},validate:function(s){var i=s.values,r=s.variables,o=t(i,r),d=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2===0?i[1]:""),""+i[i.length%2===0?2:1]+i[i.length%2===0?3:2]):"";return{disabled:a(i),length:c,invalid:(l?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+n.amText+"|"+n.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!n.invalid&&e._indexOf(n.invalid,d)!=-1||!((!n.min||n.min<=d)&&(!n.max||d<=n.max))}}}};var ht={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};ot.date=function(e){function t(e){return e%4===0&&e%100!==0||e%400===0}function a(e){var a,s,r,o,c,u=[],g=void 0!==e[n+3]?""+e[n]+e[n+1]+e[n+2]+e[n+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[l+1]?""+e[l]+e[l+1]:"",_=""+d.getMaxDayOfMonth(g||2012,y-1||0),w=b===g&&+m===+y,T=v===g&&+f===+y;if(d.invalid)for(a=0;a<d.invalid.length;++a){if(r=d.getYear(d.invalid[a]),o=d.getMonth(d.invalid[a]),c=d.getDay(d.invalid[a]),r==+g&&o+1==+y&&(c<10?0:+(""+c)[0])==+e[l]){u.push(c<10?c:+(""+c)[1]);break}if(o+1==+y&&c==+x&&(""+r).substring(0,3)==""+e[n]+e[n+1]+e[n+2]){u.push((""+r)[3]);break}if(r==+g&&c==+x&&(o<10?0:+(""+(o+1))[0])==+e[i]){u.push(o<10?o:+(""+(o+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?u.push(2,4,6,9,11):u.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&u.push(2),e.length==i){for(a=v===g&&+f<10?1:2;a<=9;++a)u.push(a);b===g&&+m>=10&&u.push(0)}if(e.length==i+1){if(1==e[i]){for(a=v===g?+f[1]+1:3;a<=9;++a)u.push(a);if(b==g)for(a=0;a<+m[1];++a)u.push(a)}if(0===e[i]&&(u.push(0),v===g||b===g))for(a=v===g?+x>+p?+f:+f+1:0;a<=(b===g?+x<+h?+m-1:+m-1:9);++a)u.push(a)}if(e.length==l){for(a=T?(+p>10?+p[0]:0)+1:+_[0]+1;a<=9;++a)u.push(a);if(w)for(a=0;a<(+h<10?0:h[0]);++a)u.push(a)}if(e.length==l+1){if(e[l]>=3||"02"==y)for(a=+_[1]+1;a<=9;++a)u.push(a);if(T&&+p[0]==e[l])for(a=+p[1]+1;a<=9;++a)u.push(a);if(w&&h[0]==e[l])for(a=0;a<+h[1];++a)u.push(a);if(0===e[l]&&(u.push(0),T||w))for(a=T?+p+1:1;a<=(w?+h-1:9);++a)u.push(a)}if(void 0!==e[n+2]&&"02"==y&&"29"==x)for(s=+(""+e[n]+e[n+1]+e[n+2]+0);s<=+(""+e[n]+e[n+1]+e[n+2]+9);++s)u.push(t(s)?"":s%10);if(e.length==n){if(d.min)for(a=0;a<+b[0];++a)u.push(a);if(d.max)for(a=+v[0]+1;a<=9;++a)u.push(a);u.push(0)}if(d.min||d.max)for(s=1;s<4;++s)if(e.length==n+s){if(e[n+s-1]==+b[s-1]&&(3!=s||e[n+s-2]==+b[s-2]))for(a=0;a<+b[s]+(3==s&&e[i+1]&&+m>+y?1:0);++a)u.push(a);if(e[n+s-1]==+v[s-1]&&(3!=s||e[n+s-2]==+v[s-2]))for(a=+v[s]+(3==s&&+f<+y?0:1);a<=9;++a)u.push(a)}return u}function s(e){return new Date(+(""+e[n]+e[n+1]+e[n+2]+e[n+3]),+(""+e[i]+e[i+1])-1,+(""+e[l]+e[l+1]))}var n,i,l,r,o=[],c=ge({},e.settings),d=ge(e.settings,tt,ht,c),u=d.dateOrder,m=d.min?""+(d.getMonth(d.min)+1):0,f=d.max?""+(d.getMonth(d.max)+1):0,h=d.min?""+d.getDay(d.min):0,p=d.max?""+d.getDay(d.max):0,b=d.min?""+d.getYear(d.min):0,v=d.max?""+d.getYear(d.max):0;for(u=u.replace(/y+/gi,"yyyy"),u=u.replace(/m+/gi,"mm"),u=u.replace(/d+/gi,"dd"),n=u.toUpperCase().indexOf("Y"),i=u.toUpperCase().indexOf("M"),l=u.toUpperCase().indexOf("D"),u="",o.push({val:n,n:"yyyy"},{val:i,n:"mm"},{val:l,n:"dd"}),o.sort(function(e,t){return e.val-t.val}),fe.each(o,function(e,t){u+=t.n}),n=u.indexOf("y"),i=u.indexOf("m"),l=u.indexOf("d"),u="",r=0;r<8;++r)u+="d",r+1!=n&&r+1!=i&&r+1!=l||(u+=d.delimiter);return e.getVal=function(t){return e._hasValue||t?s(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:u,parseValue:function(e){var t,a=[],s=e||d.defaultValue,n=E(d.dateFormat,s,d);if(s)for(t=0;t<o.length;++t)a=/m/i.test(o[t].n)?a.concat(((d.getMonth(n)<9?"0":"")+(d.getMonth(n)+1)).split("")):/d/i.test(o[t].n)?a.concat(((d.getDay(n)<10?"0":"")+d.getDay(n)).split("")):a.concat((d.getYear(n)+"").split(""));return a},formatValue:function(e){return A(d.dateFormat,s(e),d)},validate:function(t){var n=t.values,i=s(n);return{disabled:a(n),invalid:!("Invalid Date"!=i&&(!d.min||d.min<=i)&&(!d.max||i<=d.max))||!!d.invalid&&e._indexOf(d.invalid,i)!=-1}}}},a("numpad",ct,!1);var pt=function(e,t,a){function s(e){fe(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(fe(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(l.show()),fe(".mbsc-w-p",e).length||fe(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,l=fe(e),r=this;qe.call(this,e,t,!0),r._generateContent=function(){return""},r._markupReady=function(e){"inline"!=n.display&&s(e)},r._markupInserted=function(e){"inline"==n.display&&s(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},r._markupRemove=function(){l.hide(),i&&i.parent().length&&i.after(l)},r.__processSettings=function(){n=r.settings,r.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),!i&&l.parent().length&&(i=fe(document.createComment("popup")),l.before(i)),l.hide()},a||r.init()};pt.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_class:"popup",_defaults:ge({},qe.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})},be.Popup=pt,be.Widget=pt,j.themes.popup=j.themes.frame;var bt={view:{calendar:{type:"month",popover:!0}},allDayText:"All-day",labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events",noEventsText:"No events"},vt={yearChange:!1,weekDays:"short"};ze.eventcalendar=function(e,t){function a(){var e=Q.view,t=e.calendar,a=e.eventList,s=Q.months,n=Q.weeks;t?("week"==t.type?n=t.size||1:t.size&&(s=t.size),H=!1):(n=0,H=!0),a&&(W=a.type,I=a.size||1),N=t&&t.labels,j=a&&a.scrollable,B=e.eventList,K=void 0===Q.eventBubble?t&&t.popover:Q.eventBubble,Q.weeks=n,Q.months=s}function s(e,t){var a,s=(Q.dateWheels||Q.dateFormat).search(/m/i),n=(Q.dateWheels||Q.dateFormat).search(/y/i),i=Q.getYear(e),l=Q.getMonth(e),r=Q.getYear(t),o=Q.getMonth(t);"day"==W?a=A(Q.dateFormat,e,Q)+(I>1?" - "+A(Q.dateFormat,t,Q):""):"week"==W?a=A(Q.dateFormat,e,Q)+" - "+A(Q.dateFormat,t,Q):"month"==W?a=1==I?n<s?i+" "+Q.monthNames[l]:Q.monthNames[l]+" "+i:n<s?i+" "+Q.monthNamesShort[l]+" - "+r+" "+Q.monthNamesShort[o]:Q.monthNamesShort[l]+" "+i+" - "+Q.monthNamesShort[o]+" "+r:"year"==W&&(a=i+(I>1?" - "+r:"")),x.html(a)}function n(t,a,s){var n,i,l,o,c=0,d=[],u="",m=[];for(s||(s=e._prepareObj(ae,t,a)),n=L(t);n<=a;n.setDate(n.getDate()+1))o=s[n],o&&o.length&&m.push({d:new Date(n),list:r(o)});if(m.length>0)for(i=0;i<m.length;i++){for(o=m[i],u+='<div><div class="mbsc-lv-gr-title mbsc-event-day" data-full="'+P(o.d)+'">'+A(Q.dateFormat,o.d,Q)+"</div>",l=0;l<o.list.length;l++){var f=o.list[l],h=f.start?$(f.start):null,p=f.end?$(f.end):null,b=f.color,v=et.test(f.d)||Qe.test(f.d),g=f.d?v?f.d:$(f.d):h,x=f.allDay||v||h&&p&&h.toDateString()!==p.toDateString();d.push({d:o.d,e:f}),u+='<div class="mbsc-lv-item mbsc-lv-item-actionable" data-index="'+c+'"><div class="mbsc-event-time">'+(x?Q.allDayText:g&&g.getTime?A(Q.timeFormat,g):"")+(!x&&p&&p.getTime?"<br/>"+A(Q.timeFormat,p):"")+'</div><div class="mbsc-event-color"'+(b?' style="background:'+b+';"':"")+'></div><div class="mbsc-event-txt">'+f.text+"</div></div>",c++}u+="</div>"}else u+='<div class="mbsc-lv-gr-title mbsc-event-empty"><div class="mbsc-empty"><h3>'+Q.noEventsText+"</h3></div></div>";ee++,y.html('<div class="mbsc-lv mbsc-lv-v">'+u+"</div>").scrollTop(0),setTimeout(function(){ee--},150),e.tap(fe(".mbsc-lv-item",y),function(e){var t=d[fe(this).attr("data-index")];ne("onEventSelect",{domEvent:e,event:t.e,date:t.d})})}function i(){if(R){var t=L(R.d),a=R.events||S[t],s=R.cell||fe('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+P(t)+'"]',e._markup)[0];o(a,t,s),R=null}}function l(e,t){var a=Q.labelsShort,s=t-e,n=Math.abs(s)/1e3,i=n/60,l=i/60,r=l/24,o=r/365;return n<45&&Math.round(n)+" "+a[5].toLowerCase()||i<45&&Math.round(i)+" "+a[4].toLowerCase()||l<24&&Math.round(l)+" "+a[3].toLowerCase()||r<30&&Math.round(r)+" "+a[2].toLowerCase()||r<365&&Math.round(r/30)+" "+a[1].toLowerCase()||Math.round(o)+" "+a[0].toLowerCase()}function r(e){return e.sort(function(e,t){var a=e.start?$(e.start):null,s=t.start?$(t.start):null,n=e.end?$(e.end):null,i=t.end?$(t.end):null,l=et.test(e.d)||Qe.test(e.d),r=et.test(t.d)||Qe.test(t.d),o=e.d?l?e.d:$(e.d):a,c=t.d?r?t.d:$(t.d):s,d=o.getTime?a&&n&&a.toDateString()!==n.toDateString()?1:e.allDay?2:o.getTime():0,u=c.getTime?s&&i&&s.toDateString()!==i.toDateString()?1:t.allDay?2:c.getTime():0;return d==u?e.text>t.text?1:-1:d-u})}function o(t,a,s){if(t){var n,i,l,o,c,d,m,f,h,p,b,v,g,y='<div class="mbsc-cal-event-list">';p=fe('<div class="mbsc-cal-events '+(Q.eventBubbleClass||"")+'"><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div><div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div></div></div>'),b=fe(".mbsc-cal-events-i",p),v=fe(".mbsc-cal-events-sc",p),g=new Xe(b[0],{scrollbar:fe(".mbsc-sc-bar-c",p)}),e.tap(b,function(){g.scrolled||u()}),U=new pt(p[0],{display:"bubble",theme:Q.theme,lang:Q.lang,context:Q.context,buttons:[],anchor:s,cssClass:"mbsc-no-padding mbsc-cal-events-popup",onClose:function(e,t){t.destroy(),g.destroy()}}),C=s,t=r(t),fe.each(t,function(e,t){m=t.start?$(t.start):null,f=t.end?$(t.end):null,h=et.test(t.d)||Qe.test(t.d),c=t.d?h?t.d:$(t.d):m,d=m&&f&&m.toDateString()!==f.toDateString(),o=t.color,i="",l="",n=fe("<div>"+t.text+"</div>").text(),c.getTime&&(i=A((d?"MM d yy ":"")+Q.timeFormat,c)),f&&(l=A((d?"MM d yy ":"")+Q.timeFormat,f)),y+='<div role="button" title="'+n+'" aria-label="'+n+(i?", "+Q.fromText+": "+i:"")+(l?", "+Q.toText+": "+l:"")+'" class="mbsc-cal-event mbsc-lv-item mbsc-lv-item-actionable"><div class="mbsc-cal-event-color" style="'+(o?"background:"+o+";":"")+'"></div><div class="mbsc-cal-event-text"><div class="mbsc-cal-event-time">'+(!c.getTime||d||t.allDay?Q.allDayText:A(Q.timeFormat,c))+"</div>"+t.text+"</div>"+(m&&f&&!t.allDay?'<div class="mbsc-cal-event-dur">'+Q.formatDuration(m,f)+"</div>":"")+"</div>"}),y+="</div>",v.html(y),U.show(),ne("onEventBubbleShow",{target:C,eventList:p[0]}),g.refresh(),g.scroll(0),e.tap(fe(".mbsc-cal-event",v),function(e){g.scrolled||ne("onEventSelect",{domEvent:e,event:t[fe(this).index()],date:a})}),V=!0}}function c(){var t,a,s;ee||fe(".mbsc-event-day",this).each(function(){if(a=this.offsetTop-D.scrollTop,a>=0&&a<35)return s=fe(this).attr("data-full").split("-"),t=Y(s[0],s[1]-1,s[2]),O(t,_)||(X=!0,e.setVal(t)),!1})}function u(){U&&V&&U.hide(),C=null,V=!1}function m(e){0==fe(e.target).closest(".mbsc-cal-day").length&&u()}function f(){u(),e.redraw()}function h(e){var t=Q.getYear(e),a=Q.getMonth(e),s=Q.getDay(e);if(w=e,"day"==W)T=Q.getDate(t,a,s+I-1);else if("week"==W){var n,i=w.getDay();n=s+Q.firstDay-(Q.firstDay-i>0?7:0)-i,w=Q.getDate(t,a,n),T=Q.getDate(t,a,n+7*I-1)}else"month"==W?(w=Q.getDate(t,a,1),T=Q.getDate(t,a+I,0)):"year"==W&&(w=Q.getDate(t,0,1),T=Q.getDate(t+I,0,0))}function p(e,t){if(B&&!X){var a=fe('.mbsc-event-day[data-full="'+P(e)+'"]',y);a.length&&(ee++,M(D,a.parent()[0].offsetTop,t,function(){setTimeout(function(){ee--},150)}))}}function b(e,t){e&&ne("onPageChange",{firstDay:w,lastDay:T}),t||ne("onPageLoading",{firstDay:w,lastDay:T}),ne("onPageLoaded",{firstDay:w,lastDay:T})}var v,g,y,x,_,w,T,C,D,S,V,E,F,H,W,I,N,R,U,X,z,j,B,K,G,Z=this,J=ge({},e.settings),Q=ge(e.settings,bt,J,vt,t),ee=0,te=0,ae=ge(!0,[],Q.data),se=!0,ne=e.trigger;return Q.data=ae,fe.each(ae,function(e,t){void 0===t._id&&(t._id=te++)}),a(),v=it.call(this,e),e._onSelectShow=function(){u()},e._onGenMonth=function(t,a){S=e._prepareObj(ae,t,a),e._labels=N?S:null},e._onRefresh=function(e){z=!0,H&&b(!1,e)},e._onSetDate=function(e,t){H?(h(e),b(!0)):t||E||(B&&"day"==W&&n(e,e,S),!K&&!G||F||i(),p(e)),_=e,X=!1,G=!1,F=!1},e._getDayProps=function(e){var t=S[e],a={events:t};return Q.marked||Q.labels||N||(t?(a.background=t[0]&&t[0].background,a.marked=t,a.markup=Q.showEventCount?'<div class="mbsc-cal-txt">'+t.length+" "+(t.length>1?Q.eventsText:Q.eventText)+"</div>":'<div class="mbsc-cal-marks"><div class="mbsc-cal-mark"></div></div>'):a.markup=Q.showEventCount?'<div class="mbsc-cal-txt-ph"></div>':""),a},e.addEvent=function(e){var t=[];return e=ge(!0,[],fe.isArray(e)?e:[e]),fe.each(e,function(e,a){void 0===a._id&&(a._id=te++),ae.push(a),t.push(a._id)}),f(),t},e.updateEvent=function(e){fe.each(ae,function(t,a){if(a._id===e._id)return ae.splice(t,1,e),!1}),f()},e.removeEvent=function(e){e=fe.isArray(e)?e:[e],fe.each(e,function(e,t){fe.each(ae,function(e,a){if(a._id===t)return ae.splice(e,1),!1})}),f()},e.getEvents=function(t){var a;return t?(t.setHours(0,0,0,0),a=e._prepareObj(ae,t,t),a[t]?r(a[t]):[]):ge(!0,[],ae)},e.setEvents=function(e){var t=[];return Q.data=ae=ge(!0,[],e),fe.each(ae,function(e,a){void 0===a._id&&(a._id=te++),t.push(a._id)}),f(),t},e.navigate=function(t,a,s){s&&(R={d:t}),e.setVal(t,!0,!0,!1,a?200:0)},ge({},v,{multiLabel:N,headerText:!1,buttons:"inline"!==Q.display?["close"]:Q.buttons,compClass:"mbsc-ev-cal mbsc-calendar mbsc-dt mbsc-sc",formatDuration:l,onMarkupReady:function(e,t){g=fe(e.target),_=t.getDate(!0),B&&(y=fe('<div class="mbsc-lv-cont mbsc-lv-'+Q.theme+(Q.baseTheme?" mbsc-lv-"+Q.baseTheme:"")+(j?" mbsc-event-list-h":"")+' mbsc-event-list"></div>').appendTo(fe(".mbsc-fr-w",g)),y.on("scroll",d(c)),D=y[0]),v.onMarkupReady.call(this,e),x=fe(".mbsc-cal-month",g),V=!1,h(_),B&&H&&(b(),k(fe(".mbsc-cal-btn",g),function(e,t){var a=Q.getYear(w),s=Q.getMonth(w),n=Q.getDay(w);"day"==W?(w=Q.getDate(a,s,n+t*I),T=Q.getDate(a,s,n+(t+1)*I-1)):"week"==W?(w=Q.getDate(a,s,n+t*I*7),T=Q.getDate(a,s,n+(t+1)*I*7-1)):"month"==W?(w=Q.getDate(a,s+t*I,1),T=Q.getDate(a,s+(t+1)*I,0)):"year"==W&&(w=Q.getDate(a+t*I,0,1),T=Q.getDate(a+(t+1)*I,0,0)),b(!0)},200)),fe(document).on("click",m)},onDayChange:function(e){var t=e.target,a=t!==C;u(),a&&(G=K!==!1&&fe(".mbsc-cal-txt-more",t).length,R={d:e.date,cell:Q.outerMonthChange&&fe(t).hasClass("mbsc-cal-day-diff")?null:t,events:e.events})},onLabelTap:function(e){e.label&&(ne("onEventSelect",{domEvent:e.domEvent,event:e.label,date:e.date}),F=!0)},onPageChange:function(t){u(),E=!0,e._isSetDate||e.setVal(t.firstDay)},onPageLoaded:function(t){var a=t.firstDay,l=t.lastDay;B&&(H?(n(a,l),s(a,l)):("month"==W?l=Q.getDate(Q.getYear(a),Q.getMonth(a)+I,0):"week"==W?l=Q.getDate(Q.getYear(a),Q.getMonth(a),Q.getDay(a)+7*I-1):(a=e.getVal(!0),l=a),n(a,l,S)),se||O(_,a)||(p(_,z),z=!1)),K&&i(),E=!1},onPosition:function(e){if(v.onPosition.call(this,e),U&&U.position(),B&&j){y.addClass("mbsc-event-list-h");var t="inline"==Q.display?Z.parentNode:window,a=q(t),s=a-e.popup.offsetHeight;D.style.height=s>200?s+"px":"",y.removeClass("mbsc-event-list-h"),se&&s&&(p(_,!0),se=!1)}},onHide:function(){v.onHide.call(this),U&&U.destroy(),fe(document).off("click",m)}})},a("eventcalendar",Ke);var gt=j.themes;gt.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:"wp"!=Q&&("android"!=Q||te>7)},gt.scroller.ios=ge({},gt.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),gt.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},gt.form.ios={},j.customTheme("mobiscroll-dark","mobiscroll");var yt,xt,_t=j.themes;_t.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){z(fe(e.target),".mbsc-fr-btn-e","mbsc-disabled","mbsc-fr-btn-nhl")}},_t.scroller.material=ge({},_t.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right"}),_t.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){U(fe(e.target),e.domEvent)},onItemDeactivate:function(){X(xt)},onSlideStart:function(e){fe(".mbsc-ripple",e.target).remove()},onSortStart:function(e){fe(".mbsc-ripple",e.target).remove()}},_t.navigation.material={onInit:function(){z(fe(this),".mbsc-ms-item.mbsc-btn-e","mbsc-disabled","mbsc-btn-nhl")},onMarkupInit:function(){fe(".mbsc-ripple",this).remove()},onDestroy:function(){fe(this).off(".mbsc-ripple")}},_t.form.material={addRipple:function(e,t){U(e,t)},removeRipple:function(){X(xt)}},j.customTheme("material-dark","material"),j.customTheme("ios-dark","ios");var wt=j.themes,Tt="mobiscroll";return"android"==Q?Tt="material":"ios"==Q?Tt="ios":"wp"==Q&&(Tt="windows"),fe.each(wt.frame,function(e,t){return Tt&&t.baseTheme==Tt&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(j.autoTheme=e,!1):void(e==Tt&&(j.autoTheme=e))}),j.uid="e3a43ac6",j});

{
    "user":{
        "display":"User",
        "name":"Add Player",
        "title":"Add Player",
        "action":"Add!",
        "isAccount":1,
        "icon":"icon-user-circle-o",
        "graph":{
            "location.id":{
                "coll":"place",
                "to":"location.data",
                "match":"id"
            },
            "address.id":{
                "coll":"place",
                "to":"address.info",
                "match":"id"
            },
            "level":{
                "coll":"levels",
                "to":"level_info",
                "match":"id"
            },
            "roles":{
                "coll":"roles",
                "to":"role_info",
                "match":"id",
                "collapseList":true
            },
            "domains":{
                "coll":"domains",
                "to":"domain_info",
                "match":"id",
                "collapseList":true
            },
            "skills":{
                "coll":"tags_skills",
                "to":"skills_info",
                "match":"id",
                "collapseList":true
            },
            "refered_by":{
                "coll":{
                    "field":"refered_type",
                    "id":"refered_by"
                },
                "to":"refered_by_info",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                }
            },
            "id":{
                "coll":"points",
                "to":"points",
                "match":"id"
            },
            "~~~id":{
                "coll":"user_badge",
                "to":"badges",
                "match":"to.id",
                "keyOn":"id",
                "isList":true,
                "graph":{
                    "badge":{
                        "coll":"badge",
                        "to":"badge_info",
                        "match":"id"
                    }
                }
            },
            "~~~~id":{
                "coll":"user_waiver",
                "to":"waviers",
                "match":"id"
            },
            "~id":{
                "coll":"user_questions",
                "to":"questions",
                "match":"id"
            },
            "~~id":{
                "coll":"user_profiles",
                "to":"profiles",
                "match":"id"
            }
        },
        "query":{
            "level":{"$in":["player","facilitator","steward"]},
            "pic":{"$exists":true}
        },
        "createFields":["name","email"],
        "keep":["id","email","birthday","name","ratio","pic","bg","domains","level","domain_info","skills","skills_info","level_info","roles","role_info","phone","points","founder","score","verified","storeTester","questions","profiles","health","refered_by","refered_by_info","privacy","badges","onboard","onepass","level_active","blocked","location"],
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "roles":["human"],
        "order":["id","name","pic","bg","email","ratio","score","pass","birthday","stripe_id","created","la","admin","loc_address","loc_city","phone","location","skills","birthday_ts","gender","address","display_email","email_token","url_name","timezone","roles","domains","level","level_active","verified","storeTester","founder","email_notifications","refered_by","refered_type","source","score_hot","accounts","health","privacy","status","onboard","email_invalid","onepass","blocked"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"U",
                "create":{
                    "len":11,
                    "pre":"U"
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeCreate":{
                        "checkLevel":{
                        }
                    },
                    "onCreate":{
                        "welcome":{
                        }
                    }
                }
            },
            "score":{
                "_index":1,
                "type":"float",
                "internal":1,
                "name":"Score",
                "permission":["internal"],
                "form":{
                    "type":"hidden"
                }
            },
            "level_active":{
                "type":"int",
                "name":"Level Active",
                "permission":["admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "score_hot":{
                "_index":1,
                "type":"float",
                "internal":1,
                "name":"Hot Score",
                "permission":["internal"],
                "form":{
                    "type":"hidden"
                }
            },
            "stripe_id":{
                "_index":1,
                "type":"text",
                "name":"Stripe ID",
                "system":true,
                "form":{
                    "type":"hidden"
                }
            },
            "verified":{
                "_index":1,
                "type":"int",
                "name":"Verified",
                "permission":["internal","admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "blocked":{
                "_index":1,
                "type":"int",
                "name":"Blocked",
                "permission":["internal","admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "onboard":{
                "type":"int",
                "name":"Onboard Version",
                "form":{
                    "type":"hidden"
                }
            },
            "email_invalid":{
                "type":"int",
                "name":"Email Invalid",
                "permission":["internal","admin"],
                "form":{
                    "type":"hidden"
                }
            },
            "onepass":{
                "type":"int",
                "name":"ONE|Pass Flag",
                "permission":["internal","admin"],
                "form":{
                    "type":"hidden"
                }
            },
            "storeTester":{
                "_index":1,
                "type":"int",
                "name":"App Store Tester",
                "permission":["internal","admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "email_notifications":{
                "type":"int",
                "name":"Email Notification",
                "form":{
                    "type":"hidden"
                }
            },
            "ratio":{
                "_index":1,
                "type":"float",
                "internal":1,
                "permission":["internal"],
                "name":"ONE|Ratio",
                "form":{
                    "type":"hidden"
                }
            },
            "health":{
                "type":"object",
                "name":"Health",
                "fields":{
                    "crown":{
                        "required":true,
                        "type":"float"
                    },
                    "thirdeye":{
                        "required":true,
                        "type":"float"
                    },
                    "throat":{
                        "required":true,
                        "type":"float"
                    },
                    "heart":{
                        "required":true,
                        "type":"float"
                    },
                    "solarplexus":{
                        "required":true,
                        "type":"float"
                    },
                    "sacral":{
                        "required":true,
                        "type":"float"
                    },
                    "root":{
                        "required":true,
                        "type":"float"
                    }
                },
                "permission":["internal"],
                "form":{
                    "type":"hidden"
                }
            },
            "birthday":{
                "type":"object",
                "name":"Birthday",
                "fields":{
                    "birthday":{
                        "type":"string"
                    },
                    "sign":{
                        "type":"string"
                    },
                    "month":{
                        "type":"int"
                    },
                    "day":{
                        "type":"int"
                    },
                    "year":{
                        "type":"int"
                    },
                    "ts":{
                        "type":"int"
                    }
                },
                "form":{
                    "type":"birthday"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "setBirthdayTime":{
                            "key":"birthday_ts"
                        }
                    },
                    "onAfterSave":{
                        "checkBirthdayGame":{}
                    }
                }
            },
            "birthday.month":{
                "_index":1,
                "type":"int",
                "name":"Birthday Month"
            },
            "birthday.day":{
                "_index":1,
                "type":"int",
                "name":"Birthday Day"
            },
            "birthday.ts":{
                "_index":1,
                "type":"int",
                "name":"Birthday Timestamp"
            },
            "skills":{
                "type":"tag",
                "name":"Skills",
                "form":{
                    "type":"tags",
                    "allowAdd":true,
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"tags_skills"
                    },
                    "icon":"",
                    "placeholder":"Skills",
                    "info":"skills_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_skills",
                            "dataField":"skills_info"
                        }
                    },
                    "onAfterSave":{
                        "checkSkillsGame":{}
                    }
                }
            },
            "domains":{
                "type":"tag",
                "name":"Domains",
                "permission":["admin"],
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"domains"
                    },
                    "icon":"",
                    "placeholder":"Domains",
                    "info":"domain_info"
                }
            },
            "founder":{
                "type":"int",
                "name":"Founder?",
                "permission":["admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "refered_by":{
                "type":"string",
                "name":"Refered By",
                "permission":["human","internal"],
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeSave":{
                        "ensureReferedType":{}
                    },
                    "onAfterSave":{
                        "issueReferedBy":{}
                    }
                }
            },
            "refered_type":{
                "type":"string",
                "name":"Refered By Type",
                "permission":["human","internal"],
                "form":{
                    "type":"hidden"
                }
            },
            "source":{
                "type":"string",
                "required":true,
                "name":"Source",
                "permission":["internal","human"],
                "form":{
                    "type":"hidden"
                }
            },
            "level":{
                "type":"string",
                "name":"Level",
                "permission":["admin","internal"],
                "form":{
                    "default":"explorer",
                    "default_info":{
                        "id":"explorer",
                        "name":"1 - Explorer"
                    },
                    "type":"tag",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"levels"
                    },
                    "icon":"",
                    "placeholder":"Level",
                    "info":"level_info"
                },
                "hooks":{
                    "onBeforeCreate":{
                        "ensureLevel":{}
                    },
                    "onAfterSave":{
                        "ensureLevel":{}
                    }
                }
            },
            "phone":{
                "type":"object",
                "fields":{
                    "code":{
                        "type":"string"
                    },
                    "number":{
                        "type":"string"
                    },
                    "iso2":{
                        "type":"string"
                    }
                },
                "name":"Phone Number",
                "form":{
                    "type":"phone",
                    "privacy":{
                        "type":"basic",
                        "key":"privacy.phone"
                    }
                }
            },
            "privacy":{
                "type":"object",
                "fields":{
                    "phone":{
                        "type":"string"
                    }
                },
                "name":"Privacy",
                "form":{
                    "type":"hidden"
                }
            },
            "roles":{
                "type":"tag",
                "name":"Roles",
                "permission":["admin"],
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"roles"
                    },
                    "icon":"",
                    "placeholder":"Roles",
                    "info":"role_info"
                }
            },
            "email_token":{
                "type":"text",
                "name":"Email Unsubscribe Token",
                "system":true,
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Name",
                    "minHeight":30
                }
            },
            "url_name":{
                "type":"text",
                "name":"Short URL",
                "form":{
                    "type":"url_name"
                },
                "form":{
                    "type":"hidden"
                }
            },
            "la":{
                "_index":1,
                "type":"int",
                "name":"Last Active",
                "system":true,
                "form":{
                    "type":"hidden"
                }
            },
            "gender":{
                "type":"object",
                "name":"Gender",
                "fields":{
                    "gender":{
                        "type":"string"
                    },
                    "more":{
                        "type":"string"
                    },
                    "perm":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "status":{
                "type":"object",
                "name":"Status",
                "form":{
                    "type":"hidden"
                },
                "fields":{
                    "active":{
                        "type":"bool"
                    },
                    "amount":{
                        "type":"int"
                    },
                    "overdue":{
                        "type":"bool"
                    },
                    "stopped":{
                        "type":"bool"
                    },
                    "validUntil":{
                        "type":"int"
                    }
                },
                "system":true
            },
            "status.active":{
                "_index":1,
                "type":"bool"
            },
            "status.paid":{
                "_index":1,
                "type":"bool"
            },
            "status.overdue":{
                "_index":1,
                "type":"bool"
            },
            "status.stopped":{
                "_index":1,
                "type":"bool"
            },
            "location":{
                "type":"object",
                "name":"Location (city)",
                "types":["place"],
                "nomore":"1",
                "fields":{
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"location",
                    "info":"location.data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureLocation":{
                            "key":"loc_city",
                            "info":"location.data",
                            "gameHook":"profile_city"
                        }
                    }
                }
            },
            "address":{
                "type":"object",
                "name":"Address",
                "fields":{
                    "id":{
                        "type":"string"
                    },
                    "apt":{
                        "type":"string"
                    },
                    "perm":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "loc_city":{
                "_index":"2dsphere",
                "type":"object",
                "name":"Location",
                "form":{
                    "type":"hidden"
                }
            },
            "loc_address":{
                "_index":"2dsphere",
                "type":"object",
                "name":"Location",
                "form":{
                    "type":"hidden"
                }
            },
            "pic":{
                "type":"image",
                "required":true,
                "name":"Profile Picture",
                "form":{
                    "type":"hidden",
                    "default":{
                        "path":"/static/blank_user",
                        "ext":"jpg",
                        "ar":1
                    }
                },
                "hooks":{
                    "onAfterSave":{
                        "checkProfilePicGame":{}
                    }
                }
            },
            "bg":{
                "type":"image",
                "required":false,
                "name":"Profile Background Picture",
                "form":{
                    "type":"hidden"
                }
            },
            "email":{
                "_index":1,
                "type":"email",
                "name":"Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Email Address",
                    "minHeight":30
                },
                "hooks":{
                    "onBeforeValidation":{
                        "checkEmail":1
                    }
                }

            },
            "pass":{
                "_index":1,
                "type":"password",
                "name":"Password",
                "validate":"validate",
                "enableBlank":true,
                "requiredIfNot":"fbid",
                "system":true,
                "form":{
                    "type":"hidden"
                }
            },
            "timezone":{
                "type":"string",
                "name":"Timezone",
                "form":{
                    "type":"hidden"
                }
            },
            "created":{
                "type":"timestamp",
                "name":"Created Timestamp",
                "create":true,
                "required":true,
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "user_trust":{
        "name":"User Trust",
        "title":"User Trust",
        "roles":["admin","internal"],
        "canAdd":[false],
        "order":["id","to","from","status"],
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"U",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "status":{
                "type":"text",
                "name":"Page",
                "required":true,
                "hooks":{
                    "onAfterSave":{
                        "checkTrustStatus":{}
                    }
                }
            },
            "to":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "from":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            }
        }
    },
    "app_text":{
        "name":"App Text",
        "title":"App Text",
        "roles":["admin"],
        "canAdd":[false],
        "order":["id","content","name","complex","scopes"],
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "updatePermissionCheck":"checkUpdatePermissions",
        "graph":{
            "scopes":{
                "coll":"tags_scope",
                "to":"scopes_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"U",
                "required":true,
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "form":{
                    "type":"hidden"
                }
            },
            "scopes":{
                "_index":1,
                "type":"tag",
                "name":"Scopes",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_scope"
                    },
                    "allowAdd":false,
                    "keyUpOnFocus":true,
                    "placeholder":"Scopes",
                    "info":"scopes_info"
                }
            },
            "complex":{
                "type":"int",
                "name":"Complex Text",
                "form":{
                    "type":"hidden",
                    "default":0
                }
            },
            "name":{
                "_index":1,
                "name":"Name",
                "type":"string",
                "form":{
                    "type":"textarea",
                    "placeholder":"Name",
                    "minHeight":30
                }
            },
            "content":{
                "type":"text",
                "name":"Content",
                "form":{
                    "type":"redactor",
                    "plugins":["imagemanager_nectar"],
                    "redactorOpts":{
                        "breakline": true
                    },
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    }
                }
            }
        }
    },
    "user_profiles":{
        "name":"User Profiles",
        "title":"User Profiles",
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","genekeys","humandesign"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"U",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "genekeys":{
                "type":"object",
                "name":"Gene Keys Info",
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onAfterSave":{
                        "checkGenekeyGame":{}
                    }
                }
            },
            "humandesign":{
                "type":"object",
                "name":"Human Design Info",
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "checkHumanDesignImage":{}
                    },
                    "onAfterSave":{
                        "checkHumanDesignGame":{}
                    }
                }
            }
        }
    },
    "user_badge":{
        "icon":"icon-sprout",
        "name":"Issue Badge",
        "title":"Issue Badge",
        "action":"Save",
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "roles":["admin"],
        "canAdd":["admin"],
        "order":["id","to","badge","issued_by"],
        "graph":{
            "badge":{
                "coll":"badge",
                "to":"badge_info",
                "match":"id"
            },
            "issued_by.id":{
                "coll":{
                    "field":"issued_by.type",
                    "id":"issued_by.id"
                },
                "to":"issued_by.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "to.id":{
                "coll":{
                    "field":"to.type",
                    "id":"to.id"
                },
                "to":"to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "create":{
                    "len":11,
                    "pre":"BA"
                },
                "prefix":"BA",
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeCreate":{
                        "checkBadge":{}
                    }
                }
            },
            "badge":{
                "type":"text",
                "name":"Badge",
                "form":{
                    "type":"tag",
                    "allowAdd":false,
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"badge"
                    },
                    "icon":"",
                    "placeholder":"Badge",
                    "info":"badge_info"
                }
            },
            "issued_by.id":{
                "_index":1,
                "type":"text"
            },
            "issued_by":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Issued By",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["me"]
                    },
                    "info":"issued_by.data"
                },
                "name":"Issued By",
                "required":true
            },
            "to.id":{
                "_index":1,
                "type":"text"
            },
            "to":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Issue To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["me","people"]
                    },
                    "info":"to.data"
                },
                "name":"To",
                "required":true
            }
        }
    },
    "user_prefs":{
        "name":"User Prefs",
        "title":"User Prefs",
        "order":["id","last_changelog"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "last_changelog":{
                "type":"string",
                "name":"Last Changelog view"
            }
        }
    },
    "user_health":{
        "name":"User Health",
        "title":"User Health",
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "canAdd":[false],
        "order":["id","page","health"],
        "fields":{
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"string"
            },
            "health":{
                "type":"object",
                "name":"Health",
                "fields":{
                    "crown":{
                        "type":"float",
                        "required":true
                    },
                    "thirdeye":{
                        "required":true,
                        "type":"float"
                    },
                    "throat":{
                        "required":true,
                        "type":"float"
                    },
                    "heart":{
                        "required":true,
                        "type":"float"
                    },
                    "solarplexus":{
                        "required":true,
                        "type":"float"
                    },
                    "sacral":{
                        "required":true,
                        "type":"float"
                    },
                    "root":{
                        "required":true,
                        "type":"float"
                    }
                },
                "permission":["internal"],
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "awards":{
        "name":"User Awards",
        "title":"User Awards",
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","page","game","points","extra","unique_id"],
        "graph":{
            "game":{
                "coll":"games",
                "to":"game_info",
                "match":"id"
            },
            "extra.page.id":{
                "coll":{
                    "field":"extra.page.type",
                    "id":"extra.page.id"
                },
                "to":"extra.page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onCreate":{
                        "sendGamePoints":{}
                    }
                }
            },
            "unique_id":{
                "_index":1,
                "type":"id",
                "name":"ID"
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"string"
            },
            "game":{
                "_index":1,
                "required":true,
                "type":"string"
            },
            "extra":{
                "type":"object",
                "name":"Extra data"
            },
            "extra.page.id":{
                "_index":1,
                "type":"string",
                "name":"Page Index"
            },
            "points":{
                "required":true,
                "type":"int"
            }
        }
    },
    "user_account":{
        "name":"User Accounts",
        "title":"User Accounts",
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "canAdd":[false],
        "order":["id","cobot"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "cobot":{
                "type":"object",
                "name":"Cobot",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "user_questions":{
        "name":"Profile Questions",
        "title":"Profile Questions",
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","question_5","question_6","question_7","question_8","question_9",
            "question_10"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onAfterSave":{
                        "checkQuestionGame":{}
                    }
                }
            },
            "question_5":{
                "type":"string",
                "name":"",
                "form":{
                    "type":"textarea",
                    "placeholder_full":"What excites you about being a part of this community?"
                }
            },
            "question_6":{
                "type":"string",
                "name":"",
                "form":{
                    "type":"textarea",
                    "placeholder_full":"What do you want this community to know about you?"
                }
            },
            "question_7":{
                "type":"string",
                "name":"",
                "form":{
                    "type":"textarea",
                    "placeholder_full":"How do you want to engage with this community? What do you hope to receive?"
                }
            },
            "question_8":{
                "type":"string",
                "name":"",
                "form":{
                    "type":"textarea",
                    "placeholder_full":"What does the world you know in your heart is possible look like?"
                }
            },
            "question_9":{
                "type":"string",
                "name":"",
                "form":{
                    "type":"textarea",
                    "placeholder_full":"What value do you see yourself bringing? What are your superpowers?"
                }
            },
            "question_10":{
                "type":"string",
                "name":"",
                "form":{
                    "type":"textarea",
                    "placeholder_full":"Do you feel like you are currently thriving (purpose/finances/health)? If not, where do you want to focus and what support would be most useful to you?"
                }
            }
        }
    },
    "page":{
        "name":"Add Domain",
        "title":"Add Domain",
        "action":"Add!",
        "icon":"icon-user-circle-o",
        "graph":{
            "id":{
                "coll":"points",
                "to":"points",
                "match":"id"
            }
        },
        "roles":["human"],
        "canAdd":[false],
        "keep":["id","name","ratio","pic","bg","admins","email","onepass","onepass_description"],
        "module_path":"/api/class/page.php",
        "module":"page",
        "graph":{
            "admins":{
                "coll":"user",
                "to":"admin_info",
                "match":"id",
                "collapseList":true,
                "fields":{"id":1,"pic":1,"name":1}
            }
        },
        "order":["id","name","pic","bg","ratio","score","admins","email","onepass","onepass_description","short_url"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"P",
                "create":{
                    "len":11,
                    "pre":"P"
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "email":{
                "type":"email",
                "name":"Email",
                "form":{
                    "type":"textarea",
                    "placeholder":"Email Address",
                    "minHeight":30
                },
                "hooks":{
                    "onBeforeValidation":{
                        "checkEmail":1
                    }
                }
            },
            "short_url":{
                "type":"text",
                "name":"Short URL",
                "form":{
                    "type":"textarea",
                    "format":"tag",
                    "placeholder":"Short URL",
                    "minHeight":30
                },
                "hooks":{
                    "onBeforeValidation":{
                        "checkEmail":1
                    }
                }
            },
            "ratio":{
                "_index":1,
                "type":"float",
                "name":"ONE|Ratio",
                "form":{
                    "type":"hidden"
                }
            },
            "score":{
                "_index":1,
                "type":"float",
                "form":{
                    "type":"hidden"
                }
            },
            "score_hot":{
                "_index":1,
                "type":"float",
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Name",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "onepass":{
                "type":"int",
                "name":"ONE|Pass Location",
                "form":{
                    "type":"onoff",
                    "default":0,
                    "toggle":{
                        "1":{
                            "on":["onepass_description"],
                            "off":[]
                        },
                        "0":{
                            "on":[],
                            "off":["onepass_description"]
                        }
                    }
                }
            },
            "onepass_description":{
                "type":"text",
                "name":"ONE|Pass Description",
                "form":{
                    "type":"textarea",
                    "placeholder":"ONE|Pass Description",
                    "maxlength":500,
                    "minHeight":30
                }
            },
            "la":{
                "_index":1,
                "type":"int",
                "name":"Last Active",
                "system":true,
                "form":{
                    "type":"hidden"
                }
            },
            "bg":{
                "type":"image",
                "multiple":false,
                "name":"Cover Photo",
                "required":true,
                "form":{
                    "placeholder":"Splash / Cover Image",
                    "type":"image",
                    "display":"background",
                    "crop":"background"
                }
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Page Profile Pic",
                "required":true,
                "form":{
                    "placeholder":"Page Profile Pic",
                    "type":"image",
                    "crop":"square",
                    "display":"square"
                }
            },
            "admins":{
                "_index":1,
                "type":"tag",
                "name":"Admins",
                "form":{
                    "type":"tags",
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people","me"]
                    },
                    "info":"admin_info",
                    "icon":"icon-groups",
                    "placeholder":"Admins"
                }
            }
        }
    },
    "heartbeat":{
        "name":"heartbeat",
        "icon":"",
        "order":["created_on"],
        "fields":{
            "created_on":{
                "_index":1,
                "type":"timestamp",
                "name":"Created Timestamp"
            }
        }
    },
    "user_onepass_location":{
        "name":"Onepass Location",
        "icon":"",
        "order":["id","user","location"],
        "allowEdit":true,
        "module_path":"/api/class/profile.php",
        "module":"profile",
        "fields":{
            "id":{
                "_index":1,
                "type":"text",
                "name":"ID",
                "unique":true
            },
            "user":{
                "_index":1,
                "type":"text",
                "name":"ID"
            },
            "location":{
                "_index":1,
                "type":"text",
                "name":"ID"
            }
        }
    },
    "user_settings":{
        "name":"User Settings",
        "icon":"",
        "order":["app","push","email","syncrotimer"],
        "fields":{
            "app":{
                "type":"object",
                "name":"App Notifications"
            },
            "push":{
                "type":"object",
                "name":"Push Notifications"
            },
            "email":{
                "type":"object",
                "name":"Email Notifications"
            },
            "syncrotimer":{
                "type":"object",
                "name":"Syncro-Timer"
            }
        }
    },
    "notification":{
        "name":"notification",
        "icon":"",
        "order":["unique_key","to","notice_id","data"],
        "module_path":"/api/class/notifications.php",
        "module":"notifications",
        "onChange":"onChange",
        "fields":{
            "unique_key":{
                "_index":1,
                "type":"text",
                "name":"Unique Key"
            },
            "to":{
                "_index":1,
                "type":"text",
                "name":"User Id"
            },
            "notice_id":{
                "required":true,
                "type":"string",
                "name":"Notice ID"
            },
            "data":{
                "type":"object"
            }
        }
    },
    "invoice":{
        "name":"Bi-Weekly Invoice",
        "icon":"",
        "module_path":"/api/class/invoice.php",
        "module":"invoice",
        "order":["id","page","total","start","end","status","key","type","transfer_id","paid","description","link","paid_info","updated"],
        "graph":{
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "~page.id":{
                "coll":"stripe",
                "match":"id",
                "to":"page.stripe"
            },
            "paid_info.by.id":{
                "coll":{
                    "field":"paid_info.by.type",
                    "id":"paid_info.by.id"
                },
                "to":"paid_info.by.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "link.id":{
                "coll":{
                    "field":"link.type",
                    "id":"link.id"
                },
                "to":"link.data",
                "opts":{
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"start":1}
                    }
                },
                "match":"id"
            },
            "transfer_id":{
                "coll":"stripe_transfer",
                "to":"transfer",
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"I",
                "create":{
                    "len":11,
                    "pre":"I"
                },
                "required":true,
                "hooks":{
                    "onBeforeSave":{
                        "ensureUpdate":{}
                    }
                }
            },
            "updated":{
                "_index":1,
                "type":"int",
                "name":"Updated TS",
                "form":{
                    "type":"hidden"
                }
            },
            "start":{
                "type":"timestamp",
                "name":"Issue Time",
                "required":true,
                "create":true,
                "form":{
                    "type":"hidden"
                }
            },
            "end":{
                "type":"timestamp",
                "name":"End Time",
                "form":{
                    "type":"hidden"
                }
            },
            "key":{
                "_index":1,
                "type":"string",
                "name":"Key",
                "form":{
                    "type":"hidden"
                }
            },
            "paid":{
                "type":"int",
                "name":"Paid",
                "form":{
                    "type":"hidden",
                    "default":0
                }
            },
            "paid_info":{
                "type":"object",
                "name":"Paid Info",
                "fields":{
                    "ts":{
                        "type":"timestamp"
                    },
                    "by":{
                        "type":"object",
                        "fields":{
                            "id":{
                                "type":"string"
                            },
                            "type":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "status":{
                "type":"string",
                "name":"Status",
                "form":{
                    "type":"hidden",
                    "default":"finalized"
                }
            },
            "description":{
                "type":"string",
                "name":"Description",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Description",
                    "minHeight":30
                }
            },
            "type":{
                "type":"string",
                "name":"Type",
                "form":{
                    "type":"hidden",
                    "default":"singleton"
                }
            },
            "link":{
                "type":"object",
                "name":"Link",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people","page","me"]
                    }
                }
            },
            "total":{
                "type":"int",
                "name":"Invoice Amount",
                "form":{
                    "placeholder":"Invoice Amount",
                    "type":"money"
                }
            },
            "transfer_id":{
                "_index":1,
                "type":"string",
                "name":"Stripe Transfer ID"
            }
        }
    },
    "stat":{
        "name":"Stats",
        "icon":"",
        "order":["page","action","link","unique_key"],
        "fields":{
            "page":{
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true
            },
            "action":{
                "_index":1,
                "type":"string",
                "name":"Action",
                "required":true
            },
            "page.id":{
                "_index":1,
                "type":"text"
            },
            "unique_key":{
                "_index":1,
                "type":"text",
                "name":"Unique Key",
                "unique":true
            },
            "link":{
                "type":"object",
                "name":"Link",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true
            },
            "link.id":{
                "_index":1,
                "type":"text"
            }
        }
    },
    "donation":{
        "name":"Donation Transaction",
        "icon":"",
        "order":["id","to","from","amount","message","fees","net","method","payment_id"],
        "module_path":"/api/class/donation.php",
        "roles":["human"],
        "canAdd":[false],
        "module":"donation",
        "route":"/donation/[id]",
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "to.id":{
                "coll":{
                    "field":"to.type",
                    "id":"to.id"
                },
                "to":"to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"name":1,"pic":1,"start":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"D",
                "create":{
                    "len":14,
                    "pre":"D",
                    "unique":{
                        "collection":"one",
                        "table":"user",
                        "field":"id"
                    }
                },
                "form":{
                    "type":"hidden"
                },
                "required":true,
                "hooks":{
                    "onBeforeCreate":{
                        "charge":{}
                    },
                    "onCreate":{
                        "notify":{},
                        "createReceipt":{}
                    }
                }
            },
            "message":{
                "type":"text",
                "required":true,
                "name":"Message",
                "form":{
                    "type":"textarea",
                    "maxlength":500
                }
            },
            "method":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "data":{
                        "type":"object"
                    }
                },
                "name":"Payment Method",
                "required":true,
                "form":{
                    "type":"payment"
                }
            },
            "amount":{
                "type":"int",
                "name":"Amount",
                "required":true,
                "form":{
                    "placeholder":"Amount",
                    "type":"money",
                    "min":1,
                    "max":5000
                }
            },
            "payment_id":{
                "type":"string",
                "name":"Payment ID",
                "requiredOnCreate":true,
                "form":{
                    "type":"hidden"
                }
            },
            "net":{
                "type":"int",
                "name":"Net",
                "form":{
                    "type":"hidden"
                }
            },
            "fees":{
                "type":"int",
                "name":"Fees",
                "form":{
                    "type":"hidden"
                }
            },
            "to":{
                "type":"object",
                "name":"To",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "keyUpOnFocus":true,
                    "endpointOpts":{
                        "filters":["event","page"]
                    }
                }
            },
            "to.id":{
                "_index":1,
                "type":"text"
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "from":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                },
                "name":"From",
                "required":true
            }
        }
    },
    "transaction":{
        "name":"Bank Transaction",
        "icon":"",
        "order":["id","currency","description","to","from","amount","fees"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"T",
                "create":{
                    "len":14,
                    "pre":"T",
                    "unique":{
                        "collection":"one",
                        "table":"user",
                        "field":"id"
                    }
                },
                "required":true
            },
            "description":{
                "type":"text",
                "name":"Description",
                "required":true
            },
            "absorb":{
                "type":"int",
                "name":"Absorb Flag"
            },
            "amount":{
                "type":"int",
                "name":"Amount",
                "required":true
            },
            "fees":{
                "type":"int",
                "name":"Fees"
            },
            "to":{
                "type":"object",
                "name":"To Identity",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true
            },
            "to.id":{
                "_index":1,
                "type":"text"
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "from":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"From Identity",
                "required":true
            }
        }
    },
    "payment_info":{
        "name":"Subscription Payment Info",
        "icon":"",
        "order":["id","page","to","description","charge_info","subscription_info","split","total","net","ts","refunded","tag","fees"],
        "graph":{
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "ticket_anon":{
                        "coll":"ticket_anon",
                        "match":"id",
                        "fields":{"id":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            },
            "to.id":{
                "coll":{
                    "field":"to.type",
                    "id":"to.id"
                },
                "to":"to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"name":1,"pic":1,"start":1}
                    }
                },
                "match":"id"
            },
            "refunded.by.id":{
                "coll":{
                    "field":"refunded.by.type",
                    "id":"refunded.by.id"
                },
                "to":"refunded.by.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "ticket_anon":{
                        "coll":"ticket_anon",
                        "match":"id",
                        "fields":{"id":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            },
            "charge_info":{
                "coll":{
                    "field":"charge_info.type",
                    "id":"charge_info.id"
                },
                "to":"charge_info.data",
                "opts":{
                    "charge":{
                        "coll":"paid_charge",
                        "match":"id"
                    },
                    "subscription":{
                        "coll":"paid_subscription",
                        "match":"id"
                    }
                },
                "match":"id"
            },
            "split":{
                "coll":"page",
                "to":"page_data",
                "match":"id",
                "collapseList":true,
                "fields":{"id":1,"pic":1,"name":1},
                "keys":1
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"SI",
                "create":{
                    "len":11,
                    "pre":"SI"
                },
                "required":true
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "to":{
                "type":"object",
                "name":"To Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "refunded":{
                "type":"object",
                "name":"Refund Object",
                "form":{
                    "type":"hidden"
                }
            },
            "platformFee":{
                "type":"int",
                "name":"Platform Fee",
                "form":{
                    "type":"hidden"
                }
            },
            "tag":{
                "_index":1,
                "type":"string",
                "name":"Tag",
                "form":{
                    "type":"hidden"
                }
            },
            "refunded.by.id":{
                "_index":1,
                "type":"text",
                "name":"refund id"
            },
            "charge_info":{
                "type":"object",
                "name":"Charge Info",
                "required":true
            },
            "description":{
                "type":"text",
                "name":"Description",
                "required":true
            },
            "split":{
                "type":"object",
                "name":"Split Info"
            },
            "fees":{
                "type":"object",
                "name":"Fee Info"
            },
            "subscription_info":{
                "type":"object",
                "name":"Subscription Info"
            },
            "page.id":{
                "_index":1,
                "type":"string"
            },
            "total":{
                "_index":1,
                "type":"int"
            },
            "net":{
                "type":"int"
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "type":"timestamp",
                "required":true
            }
        }
    },
    "subscription":{
        "name":"Subscription",
        "icon":"",
        "order":["id","page","stripe","ts","status"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"SI",
                "create":{
                    "len":11,
                    "pre":"SI"
                },
                "required":true
            },
            "stripe":{
                "type":"object",
                "name":"Stripe",
                "required":true
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"string"
            },
            "status":{
                "_index":1,
                "type":"string"
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "type":"timestamp",
                "required":true
            }
        }
    },
    "onboard_slide":{
        "name":"Onboard Slide",
        "title":"Onboard Slide",
        "allowEdit":true,
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "updatePermissionCheck":"checkUpdatePermissions",
        "order":["id","icon","title","content","visible","background","color","order"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"O",
                "create":{
                    "len":11,
                    "pre":"O"
                },
                "required":true
            },
            "visible":{
                "_index":1,
                "type":"int",
                "name":"Visibility",
                "form":{
                    "type":"onoff"
                }
            },
            "content":{
                "type":"text",
                "name":"Content",
                "required":true,
                "form":{
                    "type":"redactor",
                    "plugins":["button"]
                }
            },
            "title":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "icon":{
                "type":"text",
                "name":"Icon",
                "form":{
                    "type":"icon"
                }
            },
            "background":{
                "type":"hexcolor",
                "name":"Background Color",
                "form":{
                    "type":"color"
                }
            },
            "color":{
                "type":"hexcolor",
                "name":"Text Color",
                "form":{
                    "type":"color",
                    "default":"#ffffff"
                }
            },
            "order":{
                "type":"float",
                "name":"Order (# 1-10)",
                "form":{
                    "type":"int",
                    "min":0,
                    "max":10
                }
            }
        }
    },
    "academy":{
        "name":"Academy",
        "title":"Academy",
        "allowEdit":true,
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "channels":[{
            "variables":{},
            "template":"admin_cms_academy"
        }],
        "updatePermissionCheck":"checkUpdatePermissions",
        "order":["id","page_name","content","folder","order","children","comment_id","link_to","video","visible","temp_id"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"O",
                "create":{
                    "len":11,
                    "pre":"O"
                },
                "required":true,
                "hooks":{
                    "onAfterSave":{
                        "updateCMSChildren":{
                        }
                    }
                }
            },
            "temp_id":{
                "type":"id",
                "name":"ID",
                "form":{
                    "hidden":true
                }
            },
            "folder":{
                "type":"text",
                "name":"Folder",
                "required":true,
                "form":{
                    "hidden":true
                }
            },
            "comment_id":{
                "type":"text",
                "name":"Comment ID (legacy)",
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }
            },
            "link_to":{
                "type":"text",
                "name":"Link to Page",
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }
            },
            "video":{
                "type":"object",
                "name":"Video",
                "form":{
                    "type":"video"
                }
            },
            "content":{
                "type":"text",
                "name":"Content",
                "form":{
                    "type":"redactor",
                    "plugins":["button","video"]
                }
            },
            "visible":{
                "_index":1,
                "type":"int",
                "name":"Visibility",
                "form":{
                    "type":"onoff"
                }
            },
            "page_name":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"redactor",
                    "minHeight":30,
                    "singleLine":true
                }
            },
            "order":{
                "type":"float",
                "name":"Order",
                "form":{
                    "type":"hidden"
                }
            },
            "children":{
                "type":"array",
                "name":"Children",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "game_guide":{
        "name":"Game Guide",
        "title":"Game Guide",
        "allowEdit":true,
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "channels":[{
            "variables":{},
            "template":"admin_cms_game_guide"
        }],
        "updatePermissionCheck":"checkUpdatePermissions",
        "order":["id","page_name","content","folder","order","children","comment_id","link_to","video","visible","temp_id"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"O",
                "create":{
                    "len":11,
                    "pre":"O"
                },
                "required":true,
                "hooks":{
                    "onAfterSave":{
                        "updateCMSChildren":{
                        }
                    }
                }
            },
            "temp_id":{
                "type":"id",
                "name":"ID",
                "form":{
                    "hidden":true
                }
            },
            "folder":{
                "type":"text",
                "name":"Folder",
                "required":true,
                "form":{
                    "hidden":true
                }
            },
            "comment_id":{
                "type":"text",
                "name":"Comment ID (legacy)",
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }
            },
            "link_to":{
                "type":"text",
                "name":"Link to Page",
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }
            },
            "video":{
                "type":"object",
                "name":"Video",
                "form":{
                    "type":"video"
                }
            },
            "content":{
                "type":"text",
                "name":"Content",
                "form":{
                    "type":"redactor",
                    "plugins":["button","video"]
                }
            },
            "visible":{
                "_index":1,
                "type":"int",
                "name":"Visibility",
                "form":{
                    "type":"onoff"
                }
            },
            "page_name":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"redactor",
                    "minHeight":30,
                    "singleLine":true
                }
            },
            "order":{
                "type":"float",
                "name":"Order",
                "form":{
                    "type":"hidden"
                }
            },
            "children":{
                "type":"array",
                "name":"Children",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "waiver":{
        "name":"Waiver",
        "title":"Waiver",
        "allowEdit":true,
        "order":["id","icon","title","agree","version","content","order"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"O",
                "create":{
                    "len":11,
                    "pre":"O"
                },
                "required":true
            },
            "content":{
                "type":"text",
                "name":"Content",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "agree":{
                "type":"int",
                "name":"Require Agree",
                "required":true,
                "form":{
                    "type":"onoff",
                    "default":1
                }
            },
            "title":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "icon":{
                "type":"text",
                "name":"Icon",
                "form":{
                    "type":"icon"
                }
            },
            "version":{
                "type":"int",
                "name":"Version",
                "form":{
                    "type":"int",
                    "default":0
                }
            },
            "background":{
                "type":"hexcolor",
                "name":"Background Color",
                "form":{
                    "type":"color"
                }
            },
            "button":{
                "type":"text",
                "name":"Button Text",
                "form":{
                    "type":"textarea"
                }
            },
            "button_color":{
                "type":"hexcolor",
                "name":"Button Color",
                "form":{
                    "type":"color"
                }
            },
            "order":{
                "type":"float",
                "name":"Order (# 1-10)",
                "form":{
                    "type":"int",
                    "min":0,
                    "max":10
                }
            }
        }
    },
    "gameguide":{
        "name":"Game Guide",
        "title":"Game Guide",
        "allowEdit":true,
        "order":["id","title","content","order","parent"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"O",
                "create":{
                    "len":11,
                    "pre":"O"
                },
                "required":true
            },
            "content":{
                "type":"text",
                "name":"Content",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "parent":{
                "type":"string",
                "name":"Parent",
                "form":{
                    "type":"tag",
                    "info":"parent_info",
                    "endpoint":"[apiurl]/search/gameguide",
                    "template":"formbuilder_tag_guide",
                    "endpointOpts":{
                        "dontInclude":"[id]"
                    },
                    "allowAdd":false
                }
            },
            "title":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "order":{
                "type":"float",
                "name":"Order (# 1-10)",
                "form":{
                    "type":"int",
                    "min":0,
                    "max":10
                }
            }
        }
    },
    "current_subscription_info":{
        "name":"Current Subscription Info",
        "icon":"",
        "order":["id","page","membership","membership_order","valid_until","canceled","ts","overdue","stopped","donation","discount","currentTotal","card"],
        "graph":{
            "membership_order":{
                "coll":"page",
                "to":"membership_page",
                "match":"id",
                "fields":{"name":1,"id":1,"pic":1},
                "collapseList":true
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"SI",
                "create":{
                    "len":11,
                    "pre":"SI"
                },
                "required":true
            },
            "valid_until":{
                "type":"timestamp"
            },
            "membership":{
                "type":"object",
                "name":"Membership",
                "required":true
            },
            "card":{
                "type":"text",
                "name":"Default card to be used"
            },
            "discount":{
                "type":"object",
                "name":"Discounts"
            },
            "currentTotal":{
                "type":"int",
                "name":"Current Total"
            },
            "donation":{
                "type":"int",
                "name":"Donation"
            },
            "membership_order":{
                "type":"object",
                "name":"Membership Order",
                "required":true
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"string"
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "type":"timestamp",
                "required":true
            },
            "canceled":{
                "name":"timestamp",
                "type":"timestamp"
            },
            "overdue":{
                "name":"Overdue",
                "type":"int"
            },
            "stopped":{
                "name":"Stopped",
                "type":"int"
            }
        }
    },
    "subscription_info_history":{
        "name":"Current Subscription Info",
        "icon":"",
        "order":["id","page","membership","membership_order","ts"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"SI",
                "create":{
                    "len":11,
                    "pre":"SI"
                },
                "required":true
            },
            "membership_order":{
                "type":"object",
                "name":"Membership Order",
                "required":true
            },
            "membership":{
                "type":"object",
                "name":"Membership",
                "required":true
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"string"
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "type":"timestamp",
                "required":true
            }
        }
    },
    "deal_claim":{
        "name":"Deal Claim",
        "admin_only":1,
        "icon":"",
        "graph":{
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"level":1,"waivers":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "deal":{
                "coll":"deal",
                "to":"deal_info",
                "match":"id"
            }
        },
        "graph2":{
            "deal_info.page.id":{
                "coll":{
                    "field":"deal_info.page.type",
                    "id":"deal_info.page.id"
                },
                "to":"deal_info.page.data",
                "opts":{
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "module_path":"/api/class/deal_claim.php",
        "module":"deal_claim",
        "order":["id","deal","page","ts"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                    "onBeforeCreate":{
                        "ensureClaim":{}
                    },
                    "onAfterSave":{
                        "updateCount":{}
                    }
                }
            },
            "deal":{
                "type":"string",
                "_index":1,
                "name":"Deal ID"
            },
            "page.id":{
                "type":"string",
                "_index":1
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "create":true,
                "type":"timestamp",
                "required":true
            }
        }
    },
    "checkin":{
        "name":"Checkin Item",
        "admin_only":1,
        "icon":"",
        "graph":{
            "location.id":{
                "coll":{
                    "field":"location.type",
                    "id":"location.id"
                },
                "to":"location.data",
                "opts":{
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"points":1,"health":1,"start":1,"page":1}
                    },
                    "location":{
                        "coll":"checkin_locations",
                        "match":"id",
                        "fields":{"id":1,"name":1,"points":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"name":1,"pic":1}
                    }
                },
                "match":"id"
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"level":1,"waivers":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "~page.id":{
                "coll":"current_subscription_info",
                "to":"page.current_subscription_info",
                "match":"page.id"
            }
        },
        "graph2":{
            "page.data.level":{
                "coll":"levels",
                "to":"page.data.level_info",
                "match":"id"
            },
            "location.data.id":{
                "coll":"ticket_settings",
                "to":"location.data.ticket_settings",
                "match":"id"
            }
        },
        "channels":[{
            "variables":{},
            "template":"admin_checkin"
        }],
        "module_path":"/api/class/checkin.php",
        "module":"checkin",
        "order":["id","location","page","ts"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                    "onBeforeCreate":{
                        "verifyLocation":{}
                    },
                    "onCreate":{
                        "verifyUser":{},
                        "awardPoints":{},
                        "incrimentLocation":{}
                    }
                }
            },
            "location":{
                "type":"object",
                "name":"Location",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "page.id":{
                "type":"string",
                "_index":1
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "create":true,
                "type":"timestamp",
                "required":true
            }
        }
    },
    "checkin_locations":{
        "name":"Checkin Item",
        "admin_only":1,
        "icon":"",
        "module_path":"/api/class/checkin.php",
        "module":"checkin",
        "roles":["admin"],
        "order":["id","name","data","points","health","tsu"],
        "graph":{
            "data.id":{
                "coll":{
                    "field":"data.type",
                    "id":"data.id"
                },
                "to":"data.data",
                "opts":{
                    "event":{
                        "coll":"event",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"start":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true
            },
            "points":{
                "type":"int",
                "name":"Points on Checkin",
                "form":{
                    "placeholder":"Points on Checkin",
                    "type":"points",
                    "min":0,
                    "max":1000
                }
            },
            "health":{
                "type":"object",
                "name":"Health on Checkin"
            },
            "data":{
                "type":"object",
                "name":"Data",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "_index":1,
                "name":"Location Name",
                "required":true,
                "type":"string",
                "form":{
                    "type":"textarea",
                    "placeholder":"Location Name",
                    "minHeight":30
                }
            },
            "tsu":{
                "_index":1,
                "type":"object",
                "name":"TSU",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "notice":{
        "name":"Notice Item",
        "icon":"",
        "order":["id","status"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID"
            },
            "opts.Destination.ToAddresses":{
                "_index":1,
                "type":"array"
            },
            "status":{
                "_index":1,
                "type":"int",
                "name":"Status of request"
            }
        }
    },
    "tags_map":{
        "name":"Tags used for maps",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"TM"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_skills":{
        "name":"Tags used for skills",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_skills_staging":{
        "name":"Tags used for skills Staging",
        "admin_only":1,
        "order":["id","name","order","folder","children"],
        "module_path":"/api/class/tags.php",
        "module":"tags",
        "roles":["admin"],
        "fields":{
             "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Tag ID",
                    "format":"tag",
                    "minHeight":30
                },
                "hooks":{
                    "onAfterSave":{
                        "updateCMSChildren":{
                        }
                    },
                    "onDelete":{
                        "updateCMSChildren":{
                        }
                    }
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Tag Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Tag Name...",
                    "minHeight":30
                }
            },
            "order":{
                "type":"float",
                "name":"Order (# 1-1000)",
                "form":{
                    "type":"int",
                    "min":0,
                    "max":1000
                }
            },
            "folder":{
                "type":"text",
                "name":"Folder",
                "required":true,
                "form":{
                    "hidden":true
                }
            },
            "children":{
                "type":"array",
                "name":"Children",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "tags_story":{
        "name":"Tags used for stories",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_exchange":{
        "name":"Tags used for exchange",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_service":{
        "name":"Tags used for service",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_fundraiser":{
        "name":"Tags used for fundraiser",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_event":{
        "name":"Tags used for event",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_need":{
        "name":"Tags used for needs",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_update":{
        "name":"Tags used for updates",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_offer":{
        "name":"Tags used for offers",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_deal":{
        "name":"Tags used for deals",
        "admin_only":1,
        "order":["id","name","order","folder","children"],
        "module_path":"/api/class/tags.php",
        "module":"tags",
        "roles":["admin"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Tag ID",
                    "format":"tag",
                    "minHeight":30
                },
                "hooks":{
                    "onAfterSave":{
                        "updateCMSChildren":{
                        }
                    },
                    "onDelete":{
                        "updateCMSChildren":{
                        }
                    }
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Tag Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Tag Name...",
                    "minHeight":30
                }
            },
            "order":{
                "type":"float",
                "name":"Order (# 1-100)",
                "form":{
                    "type":"int",
                    "min":0,
                    "max":100
                }
            },
            "folder":{
                "type":"text",
                "name":"Folder",
                "required":true,
                "form":{
                    "hidden":true
                }
            },
            "children":{
                "type":"array",
                "name":"Children",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "tags_music":{
        "name":"Tags used for music",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "tags_podcast":{
        "name":"Tags used for music",
        "order":["id","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"T",
                "create":{
                    "len":11,
                    "pre":"T"
                },
                "required":true
            },
            "name":{
                "_index":1,
                "type":"text",
                "required":true
            }
        }
    },
    "points_month":{
        "name":"Monthly Points Cache - used for timelines",
        "order":["id","balance","ratio","score","sent","received","sent_count","received_count","tags"],
        "fields":{
            "uid":{
                "_index":1,
                "type":"id",
                "required":true
            },
            "points":{
                "type":"object",
                 "required":true
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "type":"timestamp",
                "required":true
            }
        }
    },
    "points":{
        "name":"Points Cache",
        "order":["id","balance","ratio","score","sent","received","sent_count","received_count","tags","volume"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "required":true
            },
            "balance":{
                "_index":1,
                "type":"int",
                "required":true,
                "name":"Balance"
            },
            "ratio":{
                "_index":1,
                "type":"float",
                "required":true
            },
            "score":{
                "_index":1,
                "type":"float",
                "required":true
            },
            "sent":{
                "type":"int",
                "required":true
            },
            "received":{
                "type":"int",
                "required":true
            },
            "sent_count":{
                "type":"int",
                "required":true
            },
            "received_count":{
                "type":"int",
                "required":true
            },
            "volume":{
                "type":"int",
                "required":true
            },
            "tags":{
                "type":"object"
            }

        }
    },
    "points_hot":{
        "name":"Hot Points Cache",
        "order":["id","balance","ratio","score","sent","received","sent_count","received_count","tags"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "required":true
            },
            "balance":{
                "_index":1,
                "type":"int",
                "required":true
            },
            "ratio":{
                "_index":1,
                "type":"float",
                "required":true
            },
            "score":{
                "_index":1,
                "type":"float",
                "required":true
            },
            "sent":{
                "type":"int",
                "required":true
            },
            "received":{
                "type":"int",
                "required":true
            },
            "sent_count":{
                "type":"int",
                "required":true
            },
            "received_count":{
                "type":"int",
                "required":true
            },
            "volume":{
                "type":"int",
                "required":true
            },
            "tags":{
                "type":"object"
            }

        }
    },
    "scheduled_jobs":{
        "name":"Scheduled Job",
        "icon":"",
        "order":["id","opts","ts","resp","status"],
        "fields":{
            "_id":{
                "private":true
            },
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"J",
                "create":{
                    "len":12,
                    "pre":"J",
                    "unique":{
                        "collection":"one",
                        "table":"scheduled_jobs",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "opts":{
                "type":"object"
            },
            "resp":{
                "type":"object"
            },
            "ts":{
                "_index":1,
                "name":"timestamp",
                "type":"timestamp",
                "required":true
            },
            "status":{
                "_index":1,
                "name":"Status",
                "type":"int"
            }
        }
    },
    "news":{
        "name":"News Item",
        "icon":"",
        "module_path":"/api/class/news.php",
        "module":"news",
        "route":"/news/[id]",
        "graph":{
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media.id":{
                "coll":{
                    "field":"media.type",
                    "id":"media.id"
                },
                "to":"media.data",
                "opts":{
                    "media":{
                        "coll":"media",
                        "match":"id"
                    }
                },
                "match":"id"
            }
        },
        "order":["id","media","page","created_ts","tags","approved"],
        "fields":{
            "_id":{
                "private":true
            },
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"L",
                "create":{
                    "len":12,
                    "pre":"L",
                    "unique":{
                        "collection":"one",
                        "table":"news",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "approved":{
                "_index":1,
                "type":"int",
                "name":"Approved",
                "form":{
                    "type":"toggle"
                }
            },
            "created_ts":{
                "type":"timestamp",
                "name":"TSU",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "admin_notification":{
        "name":"Admin Notification",
        "admin_only":1,
        "icon":"",
        "channels":[{
            "variables":{},
            "template":"admin_engagement"
        }],
        "graph":{
            "system_id":{
                "coll":"system_hooks",
                "to":"system_info",
                "match":"id"
            },
            "notification_type":{
                "coll":"notification_types",
                "to":"notification_type_info",
                "match":"id"
            }
        },
        "roles":["admin"],
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "updatePermissionCheck":"checkUpdatePermissions",
        "order":["id","system_id","live","app_enabled","notification_type","unique_key","app_icon","app_pic","app_message","push_title","push_message","email_enabled","email_subject","email_message","tsu"],
        "fields":{
            "_id":{
                "private":true
            },
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"Z",
                "create":{
                    "len":12,
                    "pre":"Z",
                    "unique":{
                        "collection":"one",
                        "table":"admin_push",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "email_enabled":{
                "type":"int",
                "name":"Email Notifications",
                "form":{
                    "type":"onoff",
                    "default":0,
                    "toggle":{
                        "1":{
                            "on":["email_subject","email_message"],
                            "off":[]
                        },
                        "0":{
                            "on":[],
                            "off":["email_subject","email_message"]
                        }
                    }
                }
            },
            "unique_key":{
                "type":"text",
                "name":"Unique Key",
                "form":{
                    "type":"redactor",
                    "placeholder":"Unique Key",
                    "maxlength":100,
                    "minHeight":30,
                    "singleLine":true,
                    "plugins":["variable"],
                    "buttons":[],
                    "variables":["[user.name]","[user.firstname]"],
                    "nohtml":true
                }
            },
            "app_pic":{
                "type":"text",
                "name":"Notification Picture",
                "form":{
                    "type":"redactor",
                    "placeholder":"Notification Picture",
                    "maxlength":100,
                    "minHeight":30,
                    "singleLine":true,
                    "plugins":["variable"],
                    "buttons":[],
                    "variables":["[user.name]","[user.firstname]"],
                    "nohtml":true,
                    "default":"[from.data.pic]"
                }
            },
            "email_subject":{
                "type":"text",
                "name":"Email Subject",
                "form":{
                    "type":"redactor",
                    "placeholder":"Email Subject",
                    "maxlength":100,
                    "minHeight":30,
                    "singleLine":true,
                    "plugins":["variable"],
                    "buttons":[],
                    "variables":["[user.name]","[user.firstname]"],
                    "nohtml":true
                }
            },
            "email_message":{
                "type":"text",
                "name":"Email Message",
                "form":{
                    "type":"redactor",
                    "placeholder":"Email Message",
                    "maxlength":10000,
                    "fixed":true,
                    "minHeight":30,
                    "plugins":["variable","imagemanager_nectar","alignment","button","table"],
                    "variables":["[user.name]","[user.firstname]","[user.links.account]","[user.plan.plan_title]","[user.plan.display_value]","[module.systemstats]"],
                    "checkData":{
                        "key":"type",
                        "value":"system_push"
                    }
                }
            },
            "push_title":{
                "type":"text",
                "name":"Push Title",
                "form":{
                    "type":"redactor",
                    "placeholder":"Push Title",
                    "maxlength":100,
                    "minHeight":30,
                    "singleLine":true,
                    "plugins":["variable"],
                    "buttons":[],
                    "variables":["[user.name]","[user.firstname]"],
                    "nohtml":true
                }
            },
            "push_message":{
                "type":"text",
                "name":"Push Message",
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "placeholder":"Push Message",
                    "fixed":true,
                    "minHeight":30,
                    "plugins":["variable"],
                    "variables":["[user.name]","[user.firstname]"],
                    "buttons":[],
                    "singleLine":true,
                    "nohtml":true
                }
            },
            "app_message":{
                "type":"text",
                "name":"App Message",
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "placeholder":"App Message",
                    "fixed":true,
                    "minHeight":30,
                    "plugins":["variable","font"],
                    "variables":["[user.name]","[user.firstname]"],
                    "buttons":[ "bold", "italic"],
                    "singleLine":true
                }
            },
            "app_icon":{
                "type":"text",
                "name":"App Notification Icon",
                "form":{
                    "type":"icon"
                }
            },
            "app_enabled":{
                "type":"int",
                "name":"App Notifications",
                "form":{
                    "type":"onoff",
                    "default":1,
                    "toggle":{
                        "1":{
                            "on":["app_message","app_icon","push_title","push_message","app_pic"],
                            "off":[]
                        },
                        "0":{
                            "on":[],
                            "off":["app_message","app_icon","push_title","push_message","app_pic","unique_key"]
                        }
                    }
                }
            },
            "system_id":{
                "_index":1,
                "type":"string",
                "name":"System ID",
                "required":true,
                "form":{
                    "type":"tag",
                    "info":"system_info",
                    "endpoint":"[apiurl]/search/system_tags",
                    "template":"formbuilder_tag_systemitem",
                    "allowAdd":false,
                    "icon":"icon-tag",
                    "onSet":{
                        "set":{
                            "linkTo":{
                                "fields":["push_message","push_title","email_subject","email_message","app_message","unique_key","app_pic"]
                            },
                            "action":"variables_set",
                            "dataKey":"variables"
                        },
                        "clear":{
                            "linkTo":{
                                "fields":["push_message","push_title","email_subject","email_message","app_message","unique_key","app_pic"]
                            },
                            "action":"variables_clear"
                        }
                    },
                    "toggle":{
                        "set":{
                            "on":["live"],
                            "off":[]
                        },
                        "default":{
                            "on":[],
                            "off":["live"]
                        }
                    }
                }
            },
            "notification_type":{
                "type":"string",
                "name":"Notification Type",
                "form":{
                    "type":"tag",
                    "info":"notification_type_info",
                    "endpoint":"[apiurl]/search/tags",
                    "endpointOpts":{
                        "collection":"notification_types"
                    },
                    "template":"formbuilder_tag_item_plain",
                    "allowAdd":false
                }
            },
            "live":{
                "_index":1,
                "type":"int",
                "name":"Production Ready?",
                "form":{
                    "type":"onoff"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureSystemEmailId":{
                        }
                    }
                }
            },
            "filter":{
                "type":"object",
                "name":"Filter",
                "form":{
                    "type":"hidden"
                }
            },
            "tsu":{
                "_index":1,
                "type":"object",
                "name":"TSU",
                "form":{
                    "type":"hidden"
                }
            }
        }
    },
    "feedback":{
        "name":"Give Feedback",
        "title":"Give Feedback",
        "action":"Send!",
        "icon":"icon-refresh",
        "order":["id","to","from","message","tags"],
        "scopes":{
        },
        "channels":[{
            "variables":{},
            "template":"feedback"
        }],
        "updatePermissionCheck":"checkUpdatePermissions",
        "module_path":"/api/class/feedback.php",
        "module":"feedback",
        "route":"/feedback/[id]",
        "graph":{
            "to.id":{
                "coll":{
                    "field":"to.type",
                    "id":"to.id"
                },
                "to":"to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_feedback",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"Y",
                "create":{
                    "len":11,
                    "pre":"Y"
                },
                "required":true
            },
            "message":{
                "type":"text",
                "name":"Message",
                "form":{
                    "type":"textarea",
                    "placeholder":"Message...",
                    "minHeight":30
                }
            },
            "to":{
                "type":"object",
                "name":"To",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "auth":{
                        "type":"object",
                        "name":"To",
                        "required":true,
                        "fields":{
                            "type":{
                                "type":"string"
                            },
                            "id":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "keyUpOnFocus":true,
                    "endpointOpts":{
                        "filters":["page"]
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "auth":{
                        "type":"object",
                        "name":"From",
                        "required":true,
                        "fields":{
                            "type":{
                                "type":"string"
                            },
                            "id":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"From",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["me"]
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_feedback"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_feedback",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "update":{
        "name":"Create Update",
        "title":"Create Update",
        "action":"Add!",
        "icon":"icon-megaphone",
        "order":["id","from","title","message","tags","link","approved"],
        "scopes":{
            "write":["admin"]
        },
        "roles":["marketing","admin"],
        "canAdd":["admin"],
        "channels":[{
            "variables":{},
            "template":"updates"
        }],
        "updatePermissionCheck":"checkUpdatePermissions",
        "module_path":"/api/class/update.php",
        "module":"update",
        "route":"/update/[id]",
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
            "link.id":{
                "coll":{
                    "field":"link.type",
                    "id":"link.id"
                },
                "to":"link.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    },
                    "event":{
                        "coll":"event",
                        "match":"id"
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_update",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"Y",
                "create":{
                    "len":11,
                    "pre":"Y"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "notifyStewards":{}
                    }
                }
            },
            "message":{
                "type":"text",
                "name":"Message",
                "required":true,
                "form":{
                    "type":"redactor",
                    "plugins":["imagemanager_nectar","button"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    }
                }
            },
            "title":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }
            },
            "approved":{
                "_index":1,
                "permission":["admin"],
                "type":"int",
                "name":"Approved",
                "form":{
                    "type":"onoff"
                }
            },
            "link":{
                "type":"object",
                "name":"Link To",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Link To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","event"]
                    }
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "auth":{
                        "type":"object",
                        "name":"From",
                        "required":true,
                        "fields":{
                            "type":{
                                "type":"string"
                            },
                            "id":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"From",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page"],
                        "page_permission":["page::admin"]
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_update"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_update",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "request_fulfilled":{
        "name":"Request Fulfilled",
        "title":"Request Fulfilled",
        "action":"Save",
        "order":["id","request_id","by","approved"],
        "module_path":"/api/class/need.php",
        "module":"need",
        "graph":{
            "by.id":{
                "coll":{
                    "field":"by.type",
                    "id":"by.id"
                },
                "to":"by.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "request_id":{
                "coll":"need",
                "to":"request",
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"RF",
                "create":{
                    "len":11,
                    "pre":"RF"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "sendFulfilledConfirmation":{}
                    }
                }
            },
            "request_id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "required":true
            },
            "approved":{
                "_index":1,
                "type":"int",
                "name":"Approved Flag",
                "hooks":{
                    "onAfterSave":{
                        "sendRequestGame":{}
                    }
                }
            },
            "by":{
                "type":"object",
                "name":"By",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "by.id":{
                "_index":1,
                "type":"text"
            }
        }
    },
    "exchange":{
        "name":"Send Points",
        "title":"Send Points",
        "action":"Send",
        "disableStoreTester":true,
        "icon":"icon-hands_heart",
        "order":["id","to","from","currency","amount","message","tags","media","seed","unique_id"],
        "scopes":{
            "read":["self::read::exchange"],
            "write":["self::write::exchange"]
        },
        "roles":["human"],
        "channels":[{
            "variables":{},
            "template":"exchange"
        }],
        "query":{
            "seed":0
        },
        "updatePermissionCheck":"checkUpdatePermissions",
        "module_path":"/api/class/exchange.php",
        "module":"exchange",
        "route":"/exchange/[id]",
        "graph":{
            "to.id":{
                "coll":{
                    "field":"to.type",
                    "id":"to.id"
                },
                "to":"to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            },
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_exchange",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"E",
                "create":{
                    "len":11,
                    "pre":"E"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "checkGiftGame":{}
                    }
                }
            },
            "unique_id":{
                "_index":1,
                "type":"id",
                "name":"ID"
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "message":{
                "type":"text",
                "name":"Message",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"You helped me thrive by...",
                    "maxlength":1000,
                    "minHeight":30
                }
            },
            "seed":{
                "_index":1,
                "type":"int",
                "name":"Seed",
                "form":{
                    "type":"hidden"
                }
            },
            "to":{
                "type":"object",
                "name":"To",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Send To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people","page"]
                    }
                },
                "hooks":{
                    "onAfterSave":{
                        "recalcBalance":{
                            "notify":1
                        }
                    }
                }
            },
            "to.id":{
                "_index":1,
                "type":"text"
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "auth":{
                        "type":"object",
                        "name":"From",
                        "required":true,
                        "fields":{
                            "type":{
                                "type":"string"
                            },
                            "id":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"From",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","me"],
                        "page_permission":["page::admin"]
                    }
                },
                "hooks":{
                    "onBeforeCreate":{
                        "addSigner":{
                        }
                    },
                    "onAfterSave":{
                        "recalcBalance":{
                        }
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "currency":{
                "type":"text",
                "name":"Currency",
                "form":{
                    "placeholder":"Amount"
                }
            },
            "amount":{
                "type":"int",
                "name":"Points",
                "required":true,
                "form":{
                    "placeholder":"Points",
                    "type":"points",
                    "min":1,
                    "max":1000
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureFunds":{
                        }
                    }
                }
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_exchange"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "placeholder":"Tags",
                    "format":"tag_pretty",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_exchange",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "podcast":{
        "name":"Add Podcast",
        "title":"Add Podcast",
        "action":"Add!",
        "icon":"icon-mic",
        "order":["id","artist","album","title","message","src","cover","tags"],
        "roles":["podcast_tender"],
        "module_path":"/api/class/podcast.php",
        "module":"podcast",
        "route":"/podcast/[id]",
        "graph":{
            "artist.id":{
                "coll":{
                    "field":"artist.type",
                    "id":"artist.id"
                },
                "to":"artist.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "podcast_artist":{
                        "coll":"podcast_artist",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_music",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "album":{
                "coll":"podcast_album",
                "to":"album_info",
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "title":{
                "type":"text",
                "name":"Podcast Name",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Podcast Name"
                }
            },
            "album":{
                "type":"string",
                "name":"Album",
                "form":{
                    "type":"tag",
                    "placeholder":"Album",
                    "info":"album_info",
                    "keyUpOnFocus":true,
                    "template":"formbuilder_tag_album",
                    "endpoint":"[apiurl]/module/formbuilder/feed",
                    "endpointOpts":{
                        "search_field":"name",
                        "schema":"podcast_album"
                    }
                }
            },
            "message":{
                "type":"text",
                "name":"Message",
                "form":{
                    "type":"textarea",
                    "placeholder":"Info about the podcast.",
                    "maxlength":2500,
                    "minHeight":30
                }
            },
            "cover":{
                "type":"image",
                "multiple":false,
                "name":"Cover Art",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square"
                }
            },
            "artist":{
                "type":"object",
                "name":"Artist",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Artist",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","podcast_artist","me"]
                    }
                }
            },
            "artist.id":{
                "_index":1,
                "type":"text"
            },
            "src":{
                "type":"url",
                "name":"Podcast URL",
                "required":true,
                "form":{
                    "type":"url",
                    "validate":true
                }
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_podcast"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_podcast",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "podcast_album":{
        "name":"Add Podcast Album",
        "title":"Add Podcast Album",
        "action":"Add!",
        "icon":"icon-mic",
        "order":["id","artist","name","pic","tags"],
        "roles":["podcast_tender"],
        "module_path":"/api/class/podcast.php",
        "module":"podcast",
        "graph":{
            "artist.id":{
                "coll":{
                    "field":"artist.type",
                    "id":"artist.id"
                },
                "to":"artist.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "podcast_artist":{
                        "coll":"podcast_artist",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_music",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "name":{
                "type":"text",
                "name":"Album Name",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Album Name"
                }
            },
            "artist":{
                "type":"object",
                "name":"Artist",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Artist",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","podcast_artist","me"]
                    }
                }
            },
            "artist.id":{
                "_index":1,
                "type":"text"
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Album Art",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square"
                }
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_music"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_music",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "deal":{
        "name":"Add Deal",
        "title":"Add Deal",
        "action":"Add!",
        "icon":"icon-offers",
        "order":["id","page","title","description","expires","categories","max","claimed"],
        "roles":["human"],
        "module_path":"/api/class/deal.php",
        "module":"deal",
        "route":"/deal/[id]",
        "getFilter":"getFilter",
        "graph":{
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "categories":{
                "coll":"tags_deal",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "max":{
                 "type":"int",
                 "required":1,
                 "name":"Max Quantity",
                 "form":{
                    "placeholder":"Set Max Quantity",
                    "type":"int",
                    "min":1
                }
            },
            "claimed":{
                "type":"int",
                "name":"Claimed Count"
            },
            "title":{
                "type":"text",
                "name":"Deal Title",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Deal Title",
                    "maxlength":50
                }
            },
            "description":{
                "type":"text",
                "name":"Deal Description",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Deal Description"
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page"],
                        "onepass":1
                    }
                }
            },
            "expires":{
                "type":"timestamp",
                "name":"Deal Expires",
                "type":"timestamp",
                "name":"Expires",
                "form":{
                    "type":"date",
                    "format":"event",
                    "canClear":true
                }
            },
            "categories":{
                "_index":1,
                "type":"tag",
                "name":"Main Categories",
                "required":true,
                "form":{
                    "type":"multiselect",
                    "max":2,
                    "template":"formbuilder_mulitselect_items2",
                    "keepPlaceholder":true,
                    "linkTo":{
                        "field":"tag_info"
                    },
                    "loadOptions":{
                        "collection":"tags_deal"
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"text"
            }
        }
    },
    "music_album":{
        "name":"Add Music Album",
        "title":"Add Music Album",
        "action":"Add!",
        "icon":"icon-music",
        "order":["id","artist","name","pic","tags"],
        "roles":["music_tender"],
        "keyOn":"id",
        "module_path":"/api/class/music.php",
        "module":"music",
        "graph":{
            "artist.id":{
                "coll":{
                    "field":"artist.type",
                    "id":"artist.id"
                },
                "to":"artist.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_music",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "name":{
                "type":"text",
                "name":"Album Name",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Album Name"
                }
            },
            "artist":{
                "type":"object",
                "name":"Artist",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Artist",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","music_artist","me"]
                    }
                }
            },
            "artist.id":{
                "_index":1,
                "type":"text"
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Album Art",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square"
                }
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_music"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_music",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "podcast_artist":{
        "name":"Add Podcast Artist",
        "title":"Add Podcast Artist",
        "action":"Add!",
        "icon":"icon-mic",
        "order":["id","name","pic","people"],
        "roles":["podcast_tender"],
        "module_path":"/api/class/podcast.php",
        "module":"podcast",
        "graph":{
            "people":{
                "coll":"user",
                "to":"people_list",
                "match":"id",
                "fields":{"id":1,"pic":1,"name":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Artist Pic",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square"
                }
            },
            "name":{
                "type":"text",
                "name":"Artist Name",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Artist Name"
                }
            },
            "people":{
                "_index":1,
                "type":"tag",
                "name":"People",
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"]
                    },
                    "info":"people_list"
                }
            }
        }
    },
    "music_artist":{
        "name":"Add Music Artist",
        "title":"Add Music Artist",
        "action":"Add!",
        "icon":"icon-music",
        "order":["id","name","pic","people"],
        "roles":["music_tender"],
        "module_path":"/api/class/music.php",
        "module":"music",
        "graph":{
            "people":{
                "coll":"user",
                "to":"people_list",
                "match":"id",
                "fields":{"id":1,"pic":1,"name":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Artist Pic",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square"
                }
            },
            "name":{
                "type":"text",
                "name":"Artist Name",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Artist Name"
                }
            },
            "people":{
                "_index":1,
                "type":"tag",
                "name":"People",
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"]
                    },
                    "info":"people_list"
                }
            }
        }
    },
    "music":{
        "name":"Add Music",
        "title":"Add Music",
        "action":"Add!",
        "icon":"icon-music",
        "order":["id","album","artist","title","message","src","tags","pic"],
        "roles":["music_tender"],
        "module_path":"/api/class/music.php",
        "module":"music",
        "route":"/music/[id]",
        "graph":{
            "artist.id":{
                "coll":{
                    "field":"artist.type",
                    "id":"artist.id"
                },
                "to":"artist.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "music_artist":{
                        "coll":"music_artist",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "tags":{
                "coll":"tags_music",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "album":{
                "coll":"music_album",
                "to":"album_info",
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true
            },
            "title":{
                "type":"text",
                "name":"Set Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Set Name"
                }
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Album Art",
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square",
                    "placeholder":"Track Image (optional)"
                }
            },
            "message":{
                "type":"text",
                "name":"Message",
                "form":{
                    "type":"textarea",
                    "placeholder":"Info about the music.",
                    "maxlength":2500,
                    "minHeight":30
                }
            },
            "album":{
                "type":"string",
                "name":"Album",
                "required":true,
                "form":{
                    "type":"tag",
                    "placeholder":"Album",
                    "keyUpOnFocus":true,
                    "info":"album_info",
                    "template":"formbuilder_tag_album",
                    "endpoint":"[apiurl]/module/formbuilder/feed",
                    "endpointOpts":{
                        "search_field":"name",
                        "schema":"music_album"
                    }
                }
            },
            "artist":{
                "type":"object",
                "name":"Artist",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Artist",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","music_artist","me"]
                    }
                }
            },
            "artist.id":{
                "_index":1,
                "type":"text"
            },
            "src":{
                "type":"url",
                "name":"Music URL",
                "required":true,
                "form":{
                    "type":"url",
                    "validate":true
                }
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_music"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_music",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "music_stream":{
        "name":"Start Music Steam",
        "title":"Start Music Stream",
        "action":"Start!",
        "icon":"icon-music",
        "order":["id","from","title","message","start","end"],
        "roles":["music_tender"],
        "module_path":"/api/class/music.php",
        "route":"/music_stream",
        "module":"music",
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"M",
                "create":{
                    "len":11,
                    "pre":"M"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "broadcast":{}
                    }
                }
            },
            "start":{
                "type":"timestamp",
                "name":"Start Timestamp",
                "create":true,
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "end":{
                "type":"timestamp",
                "name":"Stop Stream Time",
                "form":{
                    "type":"date",
                    "format":"event"
                }
            },
            "title":{
                "type":"text",
                "name":"Set Name",
                "form":{
                    "type":"textarea",
                    "minHeight":30,
                    "placeholder":"Set Name"
                }
            },
            "message":{
                "type":"text",
                "name":"Message",
                "form":{
                    "type":"textarea",
                    "placeholder":"Message to include in the stream announcement.",
                    "maxlength":2500,
                    "minHeight":30
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"From",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page"]
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            }
        }
    },
    "need":{
        "name":"Create a Request",
        "title":"Create a Request",
        "disableStoreTester":true,
        "action":"Create!",
        "icon":"icon-mentor",
        "order":["id","from","message","offer","tags","media","fulfilled","fulfilled_by","approved","not_approved_message"],
        "scopes":{
            "read":["self::read::needs"],
            "write":["self::write::needs"]
        },
        "roles":["human"],
        "module_path":"/api/class/need.php",
        "module":"need",
        "route":"/need/[id]",
        "guidelines":"Requests are something you’d like to receive, whether to purchase, to trade, or to be freely given (please specify your desire). If there is any promise or giving required in response, it’s a request.",
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            },
            "tags":{
                "coll":"tags_need",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"N",
                "create":{
                    "len":11,
                    "pre":"N"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "notifyStewards":{}
                    }
                }
            },
            "approved":{
                "_index":1,
                "permission":["admin"],
                "type":"int",
                "name":"Approved",
                "form":{
                    "type":"onoff",
                    "default":0,
                    "toggle":{
                        "0":{
                            "on":["not_approved_message"],
                            "off":[]
                        },
                        "1":{
                            "on":[],
                            "off":["not_approved_message"]
                        }
                    }
                },
                "hooks":{
                    "onUpdate":{
                        "issuePoints":{}
                    }
                }
            },
            "not_approved_message":{
                "permission":["admin"],
                "type":"text",
                "name":"Not Approved Message",
                "form":{
                    "type":"textarea",
                    "placeholder":"Please give a reason for the post not being approved",
                    "minHeight":30
                },
                "hooks":{
                    "onAfterSave":{
                        "notifyPoster":{}
                    }
                }
            },
            "message":{
                "type":"text",
                "name":"Request",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Request - what do you want to call in?",
                    "minHeight":30
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "offer":{
                "type":"text",
                "name":"Offer",
                "form":{
                    "type":"textarea",
                    "placeholder":"Offer - what do you have to offer? Points, money, time...?",
                    "minHeight":30
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "auth":{
                        "type":"object",
                        "name":"From",
                        "required":true,
                        "fields":{
                            "type":{
                                "type":"string"
                            },
                            "id":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeCreate":{
                        "addSigner":{
                        }
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_need"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_need",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "report":{
        "name":"Report",
        "icon":"",
        "order":["id","item","context","report","immediate","by"],
        "module_path":"/api/class/report.php",
        "module":"report",
        "route":"/report/[id]",
        "graph":{
            "by":{
                "coll":"user",
                "to":"by_info",
                "fields":{"id":1,"pic":1,"name":1},
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"R",
                "create":{
                    "len":12,
                    "pre":"R",
                    "unique":{
                        "collection":"one",
                        "table":"report",
                        "field":"id"
                    }
                },
                "hooks":{
                    "onCreate":{
                        "takeAction":{}
                    }
                },
                "required":true
            },
            "context":{
                "type":"object",
                "name":"Context",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
           "item":{
                "type":"object",
                "name":"Item",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                }
            },
            "report":{
                "type":"text",
                "name":"Report",
                "required":true
            },
            "immediate":{
                "type":"int",
                "name":"if it is immediately requiring attention",
                "required":true
            },
            "by":{
                "type":"text",
                "name":"By User",
                "required":true
            }
        }
    },
    "archetype":{
        "name":"Archetype",
        "title":"Archetype",
        "action":"Save",
        "icon":"icon-heart-meeting",
        "order":["id","name","start","end","link"],
        "module_path":"/api/class/archetype.php",
        "module":"archetype",
        "roles":["admin"],
        "canAdd":["admin"],
        "graph":{
            
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                }
            },
            "name":{
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }  
            },
            "start":{
                "_index":1,
                "type":"timestamp",
                "name":"Start Time",
                "required":true,
                "form":{
                    "type":"date",
                    "format":"event"
                }
            },
            "end":{
                "_index":1,
                "type":"timestamp",
                "name":"End Time",
                "required":true,
                "form":{
                    "type":"date",
                    "format":"event"
                }
            },
            "link":{
                "type":"url",
                "name":"URL",
                "required":true,
                "form":{
                    "type":"url",
                    "validate":true
                }
            }
        }
    },
    "genekey":{
        "name":"Gene Keys",
        "title":"Gene Key",
        "action":"Save",
        "icon":"icon-heart-meeting",
        "order":["id","name","start","end","link"],
        "module_path":"/api/class/genekey.php",
        "module":"genekey",
        "roles":["admin"],
        "canAdd":["admin"],
        "graph":{
            
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                }
            },
            "name":{
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "minHeight":30
                }  
            },
            "start":{
                "_index":1,
                "type":"timestamp",
                "name":"Start Time",
                "required":true,
                "form":{
                    "type":"date",
                    "format":"event"
                }
            },
            "end":{
                "_index":1,
                "type":"timestamp",
                "name":"End Time",
                "required":true,
                "form":{
                    "type":"date",
                    "format":"event"
                }
            },
            "link":{
                "type":"url",
                "name":"URL",
                "required":true,
                "form":{
                    "type":"url",
                    "validate":true
                }
            }
        }
    },
    "changelog":{
        "name":"Changelog",
        "title":"Changelog",
        "action":"Save",
        "icon":"icon-heart-meeting",
        "order":["id","from","message","media"],
        "module_path":"/api/class/changelog.php",
        "module":"changelog",
        "roles":["admin"],
        "canAdd":["admin"],
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"From",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["me"]
                    }
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "message":{
                "type":"text",
                "name":"Changelog Message",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "plugins":["imagemanager_nectar"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    }
                }  
            }
        }
    },
    "upset":{
        "name":"Report an Upset",
        "title":"Report an Upset",
        "action":"Save",
        "icon":"icon-warning-sign",
        "order":["id","from","message","media"],
        "module_path":"/api/class/upset.php",
        "module":"upset",
        "roles":["human"],
        "route":"/upset/[id]",
        "canAdd":["human"],
        "guidelines":"Upsets are a violation of our personal standards not being met. In the ONE|Boulder community, we assume positive intent and recognize upsets as an opportunity to more clearly express our standards. <span>Get more information on our Upset Resolution Protocol <span link='https://docs.google.com/document/d/1CUQaUH1PKBTwROU9SZM2Gw1kfuxVd-4dmfJU3t7AUk0/edit?usp=sharing' style='font-weight:bold'>here</span>.</span>",
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "takeAction":{}
                    }
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "message":{
                "type":"text",
                "name":"Message about what the upset is...",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "plugins":["imagemanager_nectar"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    }
                }  
            }
        }
    },
    "chat":{
        "name":"Chat/Comment Message",
        "order":["id","content","room","by","tsu","status","link"],
        "module_path":"/api/class/chat.php",
        "module":"chat",
        "roles":["human"],
        "canAdd":[false],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true
            },
            "content":{
                "type":"text",
                "name":"Message about the bug and how to reproduce it",
                "required":true 
            },
            "room":{
                "_index":1,
                "type":"text",
                "required":true 
            },
            "by":{
                "_index":1,
                "type":"text",
                "required":true 
            },
            "tsu":{
                "_index":1,
                "type":"object",
                "name":"TSU"
            },
            "attachment":{
                "type":"object",
                "name":"Attachment",
                "fields":{
                    "id":{
                        "type":"text"
                    },
                    "context":{
                        "type":"text"
                    },
                    "status":{
                        "type":"object"
                    }
                }
            },
            "status":{
                "type":"text",
                "name":"Status"
            }
        }
    },
    "bug":{
        "name":"Report a Bug",
        "title":"Report a Bug",
        "action":"Save",
        "icon":"icon-bug",
        "route":"/bug/[id]",
        "order":["id","from","message","media"],
        "module_path":"/api/class/bug.php",
        "module":"bug",
        "roles":["human"],
        "canAdd":["human"],
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"C",
                "create":{
                    "len":11,
                    "pre":"C"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "takeAction":{}
                    }
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "message":{
                "type":"text",
                "name":"Message about the bug and how to reproduce it",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30
                }  
            }
        }
    },
    "offer":{
        "name":"Share an Offer",
        "title":"Share an Offer",
        "action":"Share",
        "icon":"icon-hand_planet",
        "order":["id","from","offer","purpose","ask","media","tags","fulfilled","fulfilled_by","approved","not_approved_message"],
        "scopes":{
            "read":["self::read::offers"],
            "write":["self::write::offers"]
        },
        "roles":["human"],
        "channels":[{
            "variables":{},
            "template":"offer"
        }],
        "module_path":"/api/class/offer.php",
        "module":"offer",
        "route":"/offer/[id]",
        "guidelines":"Offers are something you’d like to gift the community or someone in the community (a social outing or adventure, a physical item to be reused or upcycled, etc)",
        "graph":{
            "from.id":{
                "coll":{
                    "field":"from.type",
                    "id":"from.id"
                },
                "to":"from.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "fulfilled_by":{
                "coll":"user",
                "to":"fulfilled_by_info",
                "fields":{"id":1,"pic":1,"name":1},
                "collapseList":true,
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            },
            "tags":{
                "coll":"tags_offer",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"ID",
                "prefix":"O",
                "create":{
                    "len":11,
                    "pre":"O"
                },
                "required":true,
                "hooks":{
                    "onCreate":{
                        "notifyStewards":{}
                    }
                }
            },
            "approved":{
                "_index":1,
                "permission":["admin"],
                "type":"int",
                "name":"Approved",
                "form":{
                    "type":"onoff",
                    "default":0,
                    "toggle":{
                        "0":{
                            "on":["not_approved_message"],
                            "off":[]
                        },
                        "1":{
                            "on":[],
                            "off":["not_approved_message"]
                        }
                    }
                },
                "hooks":{
                    "onUpdate":{
                        "issuePoints":{}
                    }
                }
            },
            "not_approved_message":{
                "permission":["admin"],
                "type":"text",
                "name":"Not Approved Message",
                "form":{
                    "type":"textarea",
                    "placeholder":"Please give a reason for the post not being approved",
                    "minHeight":30
                },
                "hooks":{
                    "onAfterSave":{
                        "notifyPoster":{}
                    }
                }
            },
            "offer":{
                "type":"text",
                "name":"Offer",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Offer - What do you want to give?",
                    "maxlength":1000,
                    "minHeight":50
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "fulfilled":{
                "_index":1,
                "type":"int",
                "name":"Fulfilled?",
                "form":{
                    "type":"onoff",
                    "default":0,
                    "toggle":{
                        "1":{
                            "on":["fulfilled_by"],
                            "off":[]
                        },
                        "0":{
                            "on":[],
                            "off":["fulfilled_by"]
                        }
                    }
                }
            },
            "fulfilled_by":{
                "_index":1,
                "type":"tag",
                "name":"Fulfilled By",
                "form":{
                    "type":"tags",
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"]
                    },
                    "info":"fulfilled_by_info",
                    "icon":"icon-groups"
                }
            },
            "ask":{
                "type":"text",
                "name":"Ask",
                "form":{
                    "type":"textarea",
                    "placeholder":"Ask - would you like anything in exchange?  Points or Trade?  You may set a “buy it now” price in $USD but in this ecosystem requests for money can be supplemented with points. While points are not a transactional currency the intention is that our social capital (points) can lower our dependency on money over time.",
                    "maxlength":200,
                    "minHeight":30
                }
            },
            "purpose":{
                "type":"text",
                "name":"Purpose",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Purpose - Why are you offering this? How does it contribute to or forward the game?",
                    "infoLink":{
                        "text":"<i class='icon-eye'></i> View the Game Guide!",
                        "link":"https://docs.google.com/document/d/1g7WEuypmLCkOV3WfG4dqcHP7ykriCmQvev2yUiF12GU/edit?usp=sharingF"
                    },
                    "maxlength":400,
                    "minHeight":30
                }
            },
            "from":{
                "type":"object",
                "name":"From",
                "required":true,
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "auth":{
                        "type":"object",
                        "name":"From",
                        "required":true,
                        "fields":{
                            "type":{
                                "type":"string"
                            },
                            "id":{
                                "type":"string"
                            }
                        }
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "from.id":{
                "_index":1,
                "type":"text"
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item",
                    "endpointOpts":{
                        "collection":"tags_offer"
                    },
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "placeholder":"Tags",
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_offer",
                            "dataField":"tag_info"
                        }
                    }
                }
            }
        }
    },
    "pageload":{
        "name":"Page Load",
        "icon":"",
        "order":["identity","page"],
        "fields":{
            "identity":{
               "type":"object",
                "name":"To Identity",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true
            },
            "page":{
               "type":"object",
                "name":"To Identity",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true
            }
        }
    },
    "badge":{
        "name":"Badge",
        "icon":"",
        "roles":["admin"],
        "canAdd":[false],
        "order":["id","name","pic","description"],
        "allowEdit":1,
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "create":{
                    "len":12,
                    "pre":"B",
                    "unique":{
                        "collection":"one",
                        "table":"badge",
                        "field":"id"
                    }
                },
                "form":{
                    "type":"hidden"
                }  
            },
            "name":{
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea"
                }  
            },
            "pic":{
                "type":"image",
                "required":true,
                "name":"Badge Picture",
                "form":{
                    "placeholder":"Badge Picture",
                    "type":"image",
                    "crop":"square",
                    "display":"square"
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "type":"redactor"
                }
            }
        }
    },
    "fundraiser_settings":{
        "name":"Fundraiser Settings",
        "icon":"",
        "graph":{
            "notify_list":{
                "coll":"user",
                "to":"notify_list_info",
                "match":"id",
                "fields":{"name":1,"pic":1,"id":1},
                "collapseList":true
            },
            "scanlist":{
                "coll":"user",
                "to":"scanlist_info",
                "match":"id",
                "fields":{"name":1,"pic":1,"id":1},
                "collapseList":true
            },
            "payout_to.id":{
                 "coll":{
                    "field":"payout_to.type",
                    "id":"payout_to.id"
                },
                "to":"payout_to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "roles":["human"],
        "canAdd":[false],
        "module":"fundraiser",
        "module_path":"/api/class/fundraiser.php",
        "permissionCheck":"checkUpdatePermissions",
        "order":["id","statement_descriptor","notify_list","absorb_fees","payout_to"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }  
            },
            "payout_to":{
                "type":"object",
                "name":"Payout To",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Payout To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","me","people"],
                        "page_permission":["page::admin"]
                    }
                }
            },
            "showremaining":{
                "type":"int",
                "name":"Show Remaining Tickets on event page",
                "form":{
                    "type":"onoff" 
                }  
            },
            "absorb_fees":{
                "type":"int",
                "name":"Absorb Fees",
                "form":{
                    "type":"onoff" 
                }  
            },
            "statement_descriptor":{
                "type":"text",
                "name":"Credit Card Charge Description",
                "form":{
                    "type":"textarea",
                    "maxlength":11,
                    "minHeight":30
                }  
            },
            "notify_list":{
                "type":"tag",
                "name":"Organizers to Notify on Purchase",
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    },
                    "info":"notify_list_info"
                }
            }
        }
    },
    "ticket_settings":{
        "name":"Ticket Settings",
        "icon":"",
        "graph":{
            "notify_list":{
                "coll":"user",
                "to":"notify_list_info",
                "match":"id",
                "fields":{"name":1,"pic":1,"id":1},
                "collapseList":true
            },
            "scanlist":{
                "coll":"user",
                "to":"scanlist_info",
                "match":"id",
                "fields":{"name":1,"pic":1,"id":1},
                "collapseList":true
            }
        },
        "roles":["human"],
        "canAdd":[false],
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "order":["id","statement_descriptor","notify_list","absorb_fees","scanlist","stopsales","stoptime","stopmessage","onboard","require_approval","approval_visibility","approval_donation","approval_donation_min","approval_donation_max"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }  
            },
            "payout_to":{
                "type":"object",
                "name":"Payout To",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Payout To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","me","people"],
                        "page_permission":["page::admin"]
                    }
                }
            },
            "require_approval":{
                "type":"int",
                "name":"Require Approval to purchase Tickets",
                "form":{
                    "type":"onoff" 
                }  
            },
            "approval_donation":{
                "type":"int",
                "name":"Suggested donation on questionaire to attend event",
                "form":{
                    "type":"onoff",
                    "toggle":{
                        "1":{
                            "on":["approval_donation_min","approval_donation_max"],
                            "off":[]
                        },
                        "0":{
                            "on":[],
                            "off":["approval_donation_min","approval_donation_max"]
                        }
                    } 
                }  
            },
            "approval_donation_min":{
                "type":"int",
                 "name":"Suggested Donation Min",
                 "form":{
                    "placeholder":"Suggested Min",
                    "type":"money"
                } 
            },
            "approval_donation_max":{
                "type":"int",
                 "name":"Suggested Donation Max",
                 "form":{
                    "placeholder":"Suggested Max",
                    "type":"money"
                } 
            },
            "approval_visibility":{
                "type":"int",
                "name":"Make tickets hidden until approved",
                "permission":["admin"],
                "form":{
                    "type":"onoff" 
                }  
            },
            "showremaining":{
                "type":"int",
                "name":"Show Remaining Tickets on event page",
                "form":{
                    "type":"onoff" 
                }  
            },
            "onboard":{
                "type":"int",
                "name":"Allow Player onboarding discount",
                "permission":["admin"],
                "form":{
                    "type":"onoff" 
                }  
            },
            "absorb_fees":{
                "type":"int",
                "name":"Absorb Fees",
                "form":{
                    "type":"onoff" 
                }  
            },
            "statement_descriptor":{
                "type":"text",
                "name":"Credit Card Charge Description",
                "form":{
                    "type":"textarea",
                    "maxlength":11,
                    "minHeight":30
                }  
            },
            "notify_list":{
                "type":"tag",
                "name":"Organizers to Notify on Purchase",
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    },
                    "info":"notify_list_info"
                }
            },
            "scanlist":{
                "type":"tag",
                "name":"Users to give Scanning Access",
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    },
                    "info":"scanlist_info"
                }
            },
            "stopsales":{
                "type":"int",
                "name":"Stop Ticket Sales sometime before event?",
                "form":{
                    "type":"onoff",
                    "toggle":{
                        "1":{
                            "on":["stoptime","stopmessage"],
                            "off":[]
                        },
                        "0":{
                            "on":[],
                            "off":["stoptime","stopmessage"]
                        }
                    }
                }
            },
            "stoptime":{
                "type":"timestamp",
                "name":"Time to stop ticket sales",
                "form":{
                    "type":"date",
                    "format":"event"
                }
            },
            "stopmessage":{
                "type":"text",
                "name":"Message to display when ticket sales are ended",
                "form":{
                    "type":"redactor"
                }
            }
        }
    },
    "ticket_question":{
        "name":"Ticket Question",
        "icon":"",
        "order":["id","eid","description"],
        "channels":[{
            "variables":{"id":"eid"},
            "template":"[id]_ticket_question"
        }],
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"eid",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"D",
                "create":{
                    "len":12,
                    "pre":"D",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_question",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "eid":{
                "_index":1,
                "type":"id",
                "name":"Event ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "placeholder":"Description",
                    "type":"textarea",
                    "maxlength":500,
                    "minHeight":30
                }
            }
        }
    },
    "ticket_response":{
        "name":"Ticket Response",
        "icon":"",
        "order":["id","eid","user","responses","status","payment","donation","approved_by","receipt_id"],
        "channels":[{
            "variables":{"id":"eid"},
            "template":"[id]_ticket_response"
        }],
        "graph":{
            "user.id":{
                "coll":{
                    "field":"user.type",
                    "id":"user.id"
                },
                "to":"user.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
             "approved_by.id":{
                "coll":{
                    "field":"approved_by.type",
                    "id":"approved_by.id"
                },
                "to":"approved_by.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            }
        },
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"eid",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"D",
                "create":{
                    "len":12,
                    "pre":"D",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_question",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onCreate":{
                        "onNewQuestionaire":{}
                    }
                }
            },
            "eid":{
                "_index":1,
                "type":"id",
                "name":"Event ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "payment":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "data":{
                        "type":"object"
                    }
                },
                "name":"Payment Method",
                "form":{
                    "type":"payment"
                }
            },
            "donation":{
                "type":"int",
                 "name":"Donation",
                 "form":{
                    "placeholder":"Donation",
                    "type":"money"
                }
            },
            "responses":{
                "type":"object",
                "name":"Responses",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "user":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"User",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "receipt_id":{
                "type":"text",
                "name":"Receipt ID",
                "form":{
                    "type":"hidden"
                }
            },
            "approved_by":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "ts":{
                        "type":"timestamp"
                    }
                },
                "name":"Approved By",
                "form":{
                    "type":"hidden"
                }
            },
            "status":{
                "type":"text",
                "name":"Approval Status",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"no_response",
                    "options":{
                        "order":["approved","denied","no_response"],
                        "list":{
                            "approved":{
                                "value":"approved",
                                "name":"Allowed",
                                "description":"This person can attend and will have access to purchasing a ticket"
                            },
                            "denied":{
                                "value":"denied",
                                "name":"Denied",
                                "description":"This person is denied from attending and will not have access to purchasing a ticket."
                            },
                            "no_response":{
                                "value":"no_response",
                                "name":"No Response",
                                "description":"A response has not been made yet"
                            }
                        }
                    }
                },
                "hooks":{
                    "onBeforeUpdate":{
                        "checkResponseStatus":{
                            "checkPayment":1
                        }
                    },
                    "onAfterSave":{
                        "checkResponseStatus":{}
                    }
                }
            }
        }
    },
    "ticket_discount":{
        "name":"Ticket Discount",
        "icon":"",
        "order":["id","eid","name","active","code","type","discount_fixed","discount_percent"],
        "channels":[{
            "variables":{"id":"eid"},
            "template":"[id]_ticket_discount"
        }],
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"eid",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"D",
                "create":{
                    "len":12,
                    "pre":"D",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_discount",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "type":{
                "type":"string",
                "name":"Discount Type",
                "required":true,
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"fixed",
                    "options":{
                        "order":["fixed","percent"],
                        "list":{
                            "fixed":{
                                "value":"fixed",
                                "name":"Fixed Discount",
                                "description":"Fixed Discount (eg. $5)"
                            },
                            "percent":{
                                "value":"percent",
                                "name":"Percentage Discount",
                                "description":"Percentage Discount (eg. 10%)"
                            }
                        }
                    },
                    "toggle":{
                        "fixed":{
                            "on":["discount_fixed"],
                            "off":["discount_percent"]
                        },
                        "percent":{
                            "off":["discount_fixed"],
                            "on":["discount_percent"]
                        }
                    }
                },
                "hooks":{
                    "onBeforeSave":{
                        "ensureUniqueDiscountName":{}
                    }
                }
            },
            "eid":{
                "_index":1,
                "type":"id",
                "name":"Event ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "placeholder":"Discount Name",
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "active":{
                "type":"text",
                "name":"Is Active Offer?",
                "form":{
                    "type":"onoff",
                    "default":1
                }
            },
            "code":{
                "_index":1,
                "type":"text",
                "name":"Discount Code",
                "required":true,
                "form":{
                    "placeholder":"Discount Code",
                    "type":"textarea",
                    "format":"discount",
                    "minHeight":30,
                    "maxlength":16
                }
            },
            "discount_percent":{
                "type":"text",
                "name":"Discount Percentage",
                "form":{
                    "placeholder":"Discount Percentage",
                    "type":"textarea",
                    "format":"percent",
                    "minHeight":30,
                    "maxlength":10
                }
            },
            "discount_fixed":{
                "type":"text",
                "name":"Fixed Discount",
                "form":{
                    "placeholder":"Fixed Discount",
                    "type":"money",
                    "min":10,
                    "max":1000000
                }
            }
        }
    },
    "fundraiser_email":{
        "name":"Fundraiser",
        "icon":"",
        "module":"fundraiser",
        "module_path":"/api/class/fundraiser.php",
        "permissionCheck":"checkUpdatePermissions",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","email_subject","email_header","email"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }  
            },
            "email_subject":{
                "type":"text",
                "name":"Email Subject",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "email":{
                "type":"text",
                "name":"Email Content",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "variables":["[to.data.name]","[to.data.firstname]","[fundraiser.id]","[fundraiser.name]","[fundraiser.pretty_time]","[fundraiser.description]","[link]"]
                }  
            },
            "email_header":{
                "type":"image",
                "multiple":false,
                "name":"Email Header",
                "form":{
                    "placeholder":"Email Header",
                    "type":"image",
                    "display":"header",
                    "crop":"header"
                }
            }
        }
    },
    "event_ticketemail":{
        "name":"Event",
        "icon":"",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","email_subject","reply_to","email_header","email"],
        "guidelines":"ℹ️ The ticket email is sent immediately after someone gets a ticket.  This will include QR codes for the tickets they got.  You can edit the subject, header image, and content that is displayed in the email.  If you do not fill this out, a default email message will be used.",
        "guideline_name":"Information",
        "graph":{
            "reply_to.id":{
                "coll":{
                    "field":"reply_to.type",
                    "id":"reply_to.id"
                },
                "to":"reply_to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"email":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }  
            },
            "email_subject":{
                "type":"text",
                "name":"Email Subject",
                "required":true,
                "form":{
                    "type":"textarea",
                    "default":"🎟 Tickets for [event.name]",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "reply_to":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Reply To",
                "form":{
                    "type":"page",
                    "placeholder":"Reply To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    }
                }
            },
            "email":{
                "type":"text",
                "name":"Email Content",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "default":"<p>Congratulations [to.data.firstname]!</p><p>You are going to [event.name] on [event.pretty_time]!</p><p>Please show the attached QR code at the door on the day of the event.</p>",
                    "minHeight":30,
                    "variables":["[to.data.name]","[to.data.firstname]","[event.id]","[event.name]","[event.pretty_time]","[event.description]","[link]"]
                }  
            },
            "email_header":{
                "type":"image",
                "multiple":false,
                "name":"Email Header",
                "form":{
                    "placeholder":"Email Header",
                    "type":"image",
                    "display":"header",
                    "crop":"header"
                }
            }
        }
    },
    "fundraiser_goal":{
        "name":"Fundraiser Goal",
        "icon":"",
        "order":["id","fundraiser","name","goal","description"],
        "channels":[{
            "variables":{"id":"fundraiser"},
            "template":"[id]_fundraiser_goal"
        }],
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/fundraiser.php",
        "module":"fundraiser",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"fundraiser",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"G",
                "create":{
                    "len":12,
                    "pre":"!",
                    "unique":{
                        "collection":"one",
                        "table":"fundraiser_goal",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "fundraiser":{
                "_index":1,
                "type":"id",
                "name":"Fundraiser ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "placeholder":"Goal Name",
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "placeholder":"Goal Description - what will reaching this goal enable?",
                    "type":"redactor",
                    "maxlength":300,
                    "minHeight":30
                }
            },
            "goal":{
                 "type":"int",
                 "name":"Goal",
                 "form":{
                    "placeholder":"Goal",
                    "type":"money",
                    "min":10,
                    "max":1000000
                }
            }
        }
    },
    "event_breakdown":{
        "name":"Event Breakdown",
        "icon":"",
        "order":["id","event","page","type","amount_flat","amount_percent","description","media"],
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"event",
        "graph":{
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            },
            "event":{
                "coll":"event",
                "to":"event_info",
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"Q",
                "create":{
                    "len":12,
                    "pre":"Q",
                    "unique":{
                        "collection":"one",
                        "table":"contribution",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeDelete":{
                        "canDeleteBreakdown":{}
                    }
                }
            },
            "media":{
                "type":"object",
                "name":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "page":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Person / Page",
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Select Person or Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "info":"data",
                    "endpointOpts":{
                        "filters":["people","page","me"]
                    }
                }
            },
            "purchaser.id":{
                "_index":1,
                "type":"text"
            },
            "type":{
                "type":"string",
                "name":"Payout Type",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"fixed",
                    "options":{
                        "order":["fixed","percent","expense"],
                        "list":{
                            "fixed":{
                                "value":"fixed",
                                "name":"Fixed Payout",
                                "description":"Fixed amount payout"
                            },
                            "percent":{
                                "value":"percent",
                                "name":"Percentage",
                                "description":"Prcentage of breakdown of *profit* (after expenses)"
                            },
                            "expense":{
                                "value":"expense",
                                "name":"Expense",
                                "description":"Expense to be deducted to calculate profit"
                            }
                        }
                    },
                    "toggle":{
                        "fixed":{
                            "on":["amount_flat"],
                            "off":["amount_percent"]
                        },
                        "percent":{
                            "off":["amount_flat"],
                            "on":["amount_percent"]
                        },
                        "expense":{
                            "on":["amount_flat"],
                            "off":["amount_percent"]
                        }
                    }
                }
            },
            "event":{
                "_index":1,
                "type":"id",
                "name":"Event ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "placeholder":"Payout Information",
                    "type":"textarea",
                    "maxlength":500,
                    "minHeight":30
                }
            },
            "amount_flat":{
                 "type":"int",
                 "name":"Payout Amount",
                 "form":{
                    "placeholder":"Payout Amount",
                    "type":"money",
                    "min":0,
                    "max":10000
                }
            },
            "amount_percent":{
                "type":"text",
                "name":"Payout Percentage",
                "form":{
                    "placeholder":"Payout Percentage",
                    "type":"textarea",
                    "format":"percent",
                    "minHeight":30
                }
            }
        }
    },
    "contribution":{
        "name":"Contribution",
        "icon":"",
        "order":["id","fid","name","description","quantity","type","available","price","available_to"],
        "channels":[{
            "variables":{"id":"fid"},
            "template":"[id]_contribution"
        }],
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/fundraiser.php",
        "module":"fundraiser",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"fid",
        "graph":{
            "available_to":{
                "coll":"levels",
                "to":"available_to_info",
                "collapseList":true,
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"Q",
                "create":{
                    "len":12,
                    "pre":"Q",
                    "unique":{
                        "collection":"one",
                        "table":"contribution",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "type":{
                "type":"string",
                "name":"Contribution Type",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"fixed",
                    "options":{
                        "order":["fixed","donation"],
                        "list":{
                            "fixed":{
                                "value":"fixed",
                                "name":"Perk",
                                "description":"This contribution is based on a Perk being offered"
                            },
                            "donation":{
                                "value":"donation",
                                "name":"Donation",
                                "description":"This contriubtion is directly donation based"
                            }
                        }
                    },
                    "toggle":{
                        "fixed":{
                            "on":["quantity","price"],
                            "off":[]
                        },
                        "donation":{
                            "off":["price"],
                            "on":[]
                        }
                    }
                }
            },
            "available_to":{
                "type":"tag",
                "name":"Available To",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"levels"
                    },
                    "icon":"",
                    "placeholder":"Available to",
                    "info":"available_to_info"
                }
            },
            "fid":{
                "_index":1,
                "type":"id",
                "name":"Fundraiser ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "available":{
                "_index":1,
                "type":"int",
                "name":"Available",
                "required":true,
                "form":{
                    "type":"onoff",
                    "default":1
                }
            },
            "name":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "placeholder":"Contribution Name",
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "placeholder":"Contribution Description",
                    "type":"redactor",
                    "maxlength":300,
                    "minHeight":30
                }
            },
            "quantity":{
                 "type":"int",
                 "required":1,
                 "name":"Quantity",
                 "form":{
                    "placeholder":"Set Quantity",
                    "type":"int",
                    "min":1
                }
            },
            "price":{
                 "type":"int",
                 "name":"Price",
                 "form":{
                    "placeholder":"Set Price",
                    "type":"money",
                    "min":0
                }
            }
        }
    },
    "ticket":{
        "name":"Ticket",
        "icon":"",
        "order":["id","eid","name","description","type","quantity","available","price","available_to","onepass"],
        "channels":[{
            "variables":{"id":"eid"},
            "template":"[id]_ticket"
        }],
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "permissionIdField":"eid",
        "graph":{
            "available_to":{
                "coll":"levels",
                "to":"available_to_info",
                "collapseList":true,
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"T",
                "create":{
                    "len":12,
                    "pre":"T",
                    "unique":{
                        "collection":"one",
                        "table":"ticket",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "available_to":{
                "type":"tag",
                "name":"Available To",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"levels"
                    },
                    "icon":"",
                    "placeholder":"Available to",
                    "info":"available_to_info"
                }
            },
            "onepass":{
                "type":"int",
                "name":"Available to ONE|Pass members",
                "permission":["admin","event_steward"],
                "form":{
                    "type":"onoff"
                }
            },
            "type":{
                "type":"string",
                "name":"Ticket Type",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"fixed",
                    "options":{
                        "order":["fixed","donation"],
                        "list":{
                            "fixed":{
                                "value":"fixed",
                                "name":"Fixed Price",
                                "description":"Tickets are sold by a fixed price, eg $5/ticket"
                            },
                            "donation":{
                                "value":"donation",
                                "name":"Donation",
                                "description":"The donation amount is set by the purchaser."
                            }
                        }
                    },
                    "toggle":{
                        "fixed":{
                            "on":["quantity","price"],
                            "off":[]
                        },
                        "donation":{
                            "off":["price"],
                            "on":[]
                        }
                    }
                }
            },
            "eid":{
                "_index":1,
                "type":"id",
                "name":"Event ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "available":{
                "_index":1,
                "type":"int",
                "name":"Available",
                "required":true,
                "form":{
                    "type":"onoff",
                    "default":1
                }
            },
            "name":{
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "placeholder":"Ticket Name",
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "placeholder":"Ticket Description",
                    "type":"textarea",
                    "maxlength":300,
                    "minHeight":30
                }
            },
            "quantity":{
                 "type":"int",
                 "name":"Quantity",
                 "form":{
                    "placeholder":"Set Ticket Quantity",
                    "type":"int",
                    "min":1
                }
            },
            "price":{
                 "type":"int",
                 "name":"Price",
                 "form":{
                    "placeholder":"Set Ticket Price",
                    "type":"money",
                    "min":0
                }
            }
        }
    },
    "fundraiser_confirmation":{
        "name":"Fundraiser",
        "icon":"",
        "module_path":"/api/class/fundraiser.php",
        "module":"fundraiser",
        "permissionCheck":"checkUpdatePermissions",
        "order":["id","confirmation"],
        "roles":["human"],
        "canAdd":[false],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }  
            },
            "confirmation":{
                "type":"text",
                "name":"Confirmation Text",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "plugins":["imagemanager_nectar","button"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    },
                    "variables":["[user.name]","[user.firstname]","[event.name]"]
                }  
            }
        }
    },
    "event_ticketconfirmation":{
        "name":"Event",
        "icon":"",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "order":["id","confirmation"],
        "roles":["human"],
        "canAdd":[false],
        "guidelines":"ℹ️ The ticket confirmation is displayed immediately after a person gets a ticket.  This will be showin in the app or the website.",
        "guideline_name":"Information",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }  
            },
            "confirmation":{
                "type":"text",
                "name":"Confirmation Text",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "default":"<p>Congrats!</p><p>You are going to [event.name]!</p><p>We emailed you a copy of your receipt.</p>",
                    "plugins":["imagemanager_nectar","button"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    },
                    "variables":["[user.name]","[user.firstname]","[event.name]"]
                }  
            }
        }
    },
    "fundraiser_anon":{
        "name":"Anonymous Fundraiser Purchaser",
        "icon":"",
        "module":"fundraiser",
        "allow_anon":true,
        "module_path":"/api/class/fundraiser.php",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","fid","name","referal","email","confirm_email"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"A",
                "create":{
                    "len":12,
                    "pre":"A",
                    "unique":{
                        "collection":"one",
                        "table":"fundraiser_anon",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "fid":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "referal":{
                "_index":1,
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30
                }
            },
            "email":{
                "type":"text",
                "name":"Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30
                }
            },
            "confirm_email":{
                "type":"text",
                "name":"Confirm Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30,
                    "validate":{
                        "match":{
                            "field":"email",
                            "error":"emails_must_match"
                        },
                        "email":{
                            "error":"invalid_email"
                        }
                    }
                }
            }
        }
    },
    "ticket_anon":{
        "name":"Anonymous Ticket Purchaser",
        "icon":"",
        "module":"event",
        "allow_anon":true,
        "module_path":"/api/class/event.php",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","eid","name","referal","email","confirm_email"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"A",
                "create":{
                    "len":12,
                    "pre":"A",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_anon",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "eid":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "referal":{
                "_index":1,
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30
                }
            },
            "email":{
                "type":"text",
                "name":"Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30
                }
            },
            "confirm_email":{
                "type":"text",
                "name":"Confirm Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30,
                    "validate":{
                        "match":{
                            "field":"email",
                            "error":"emails_must_match"
                        },
                        "email":{
                            "error":"invalid_email"
                        }
                    }
                }
            }
        }
    },
    "service_anon":{
        "name":"Anonymous Service Purchaser",
        "icon":"",
        "module":"service",
        "allow_anon":true,
        "module_path":"/api/class/service.php",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","eid","name","referal","email","confirm_email"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"A",
                "create":{
                    "len":12,
                    "pre":"A",
                    "unique":{
                        "collection":"one",
                        "table":"service_anon",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "eid":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "referal":{
                "_index":1,
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "name":{
                "type":"text",
                "name":"Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30
                }
            },
            "email":{
                "type":"text",
                "name":"Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30
                }
            },
            "confirm_email":{
                "type":"text",
                "name":"Confirm Email",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "keepPlaceholder":true,
                    "hideMaxLength":true,
                    "minHeight":30,
                    "validate":{
                        "match":{
                            "field":"email",
                            "error":"emails_must_match"
                        },
                        "email":{
                            "error":"invalid_email"
                        }
                    }
                }
            }
        }
    },
    "fundraiser_contribution":{
        "name":"Fundraiser Contribution",
        "icon":"",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","user","fundraiser","contribution","status"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"FC",
                "create":{
                    "len":20,
                    "pre":"FC",
                    "unique":{
                        "collection":"one",
                        "table":"fundraiser_contribution",
                        "field":"id"
                    }
                },
                "required":true
            },
            "user":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"From Identity",
                "required":true
            },
            "user.id":{
                "_index":1,
                "type":"text"
            },
            "fundraiser":{
                "_index":1,
                "type":"text",
                "name":"Fundraiser ID",
                "required":true
            },
            "contribution":{
                "_index":1,
                "type":"text",
                "name":"Ticket ID",
                "required":true
            },
            "status":{
                "_index":1,
                "type":"text",
                "name":"Status",
                "required":true
            }
        }
    },
    "event_ticket":{
        "name":"Event Ticket",
        "icon":"",
        "roles":["human"],
        "canAdd":[false],
        "allowEdit":true,
        "order":["id","user","event","ticket","status","start"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"ET",
                "create":{
                    "len":20,
                    "pre":"ET",
                    "unique":{
                        "collection":"one",
                        "table":"event_ticket",
                        "field":"id"
                    }
                },
                "required":true
            },
            "user":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"From Identity",
                "required":true
            },
            "user.id":{
                "_index":1,
                "type":"text"
            },
            "start":{
                "_index":1,
                "type":"timestamp",
                "name":"Start Time",
                "required":true
            },
            "event":{
                "_index":1,
                "type":"text",
                "name":"Event ID",
                "required":true
            },
            "ticket":{
                "_index":1,
                "type":"text",
                "name":"Ticket ID",
                "required":true
            },
            "status":{
                "_index":1,
                "type":"text",
                "name":"Status",
                "required":true
            }
        }
    },
    "fundraiser_receipt":{
        "name":"Fundraiser Receipt",
        "icon":"",
        "module_path":"/api/class/fundraiser_checkout.php",
        "module":"fundraiser_checkout",
        "channels":[{
            "variables":{"id":"fundraiser"},
            "template":"[id]_orderview"
        }],
        "roles":["human"],
        "canAdd":[false],
        "graph":{
            "purchaser.id":{
                "coll":{
                    "field":"purchaser.type",
                    "id":"purchaser.id"
                },
                "to":"purchaser.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "fundraiser_anon":{
                        "coll":"fundraiser_anon",
                        "match":"id",
                        "fields":{"id":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            },
            "contributions_ids":{
                "coll":"fundraiser_contribution",
                "to":"contribution_list",
                "match":"id",
                "collapseList":true
            },
            "contributions":{
                "coll":"contribution",
                "to":"contribution_info",
                "match":"id",
                "collapseList":true
            },
            "fundraiser":{
                "coll":"fundraiser",
                "to":"event_info",
                "match":"id",
                "fields":{"id":1,"name":1,"pic":1,"start":1,"end":1}
            }
        },
        "order":["id","purchaser","tickets","fundraiser","amount","ticket_ids","expires","terms_version","refunded","payment_info_id","donation","fees","total","contribution_ids"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"T",
                "create":{
                    "len":12,
                    "pre":"T",
                    "unique":{
                        "collection":"one",
                        "table":"fundraiser_receipt",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "payment_info_id":{
                "_index":1,
                "type":"string",
                "name":"Payment Info ID",
                "form":{
                    "type":"hidden"
                }
            },
            "fees":{
                "type":"object",
                "name":"Fees",
                "fields":{
                    "stripe":{
                        "type":"int"
                    },
                    "one_boulder":{
                        "type":"int"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "donation":{
                "type":"int",
                "name":"Donation Amount",
                "form":{
                    "type":"hidden"
                }
            },
            "terms_version":{
                "type":"int",
                "name":"Terms Version",
                "form":{
                    "type":"hidden"
                }
            },
            "expires":{
                "_index":1,
                "type":"timestamp",
                "name":"Expires Timestamp",
                "form":{
                    "type":"hidden"
                }
            },
            "amount":{
                "type":"int",
                "name":"Amount",
                "form":{
                    "type":"hidden"
                }
            },
            "total":{
                "type":"int",
                "name":"Total",
                "form":{
                    "type":"hidden"
                }
            },
            "refunded":{
                "type":"object",
                "name":"Refund Object",
                "form":{
                    "type":"hidden"
                }
            },
            "refunded.by.id":{
                "_index":1,
                "type":"text",
                "name":"refund id"
            },
            "purchaser":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Person",
                "required":true,
                "form":{
                    "type":"general_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "template":"formbuilder_tag_person",
                    "endpointOpts":{
                        "filters":["people"]
                    },
                    "anon_schema":"fundraiser_anon",
                    "info":"data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureUser":{
                            "anon_schema":"fundraiser_anon"
                        }
                    }
                }
            },
            "purchaser.id":{
                "_index":1,
                "type":"text"
            },
            "contribution_ids":{
                "_index":1,
                "type":"tag",
                "name":"Ticket IDs",
                "form":{
                    "type":"hidden"
                }
            },
            "fundraiser":{
                "_index":1,
                "type":"text",
                "name":"Fundraiser id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "contributions":{
                "type":"tag",
                "name":"Tickets",
                "required":true,
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_ticket",
                    "endpoint":"[apiurl]/module/fundraiser/[fundraiser]/ticketlist",
                    "noexclude":true,
                    "endpointData":["fundraiser"],
                    "info":"tickets_info"
                }
            }
        }
    },
    "ticket_receipt":{
        "name":"Ticket",
        "icon":"",
        "module_path":"/api/class/ticket_checkout.php",
        "module":"ticket_checkout",
        "channels":[{
            "variables":{"id":"event"},
            "template":"[id]_orderview"
        }],
        "roles":["human"],
        "canAdd":[false],
        "graph":{
            "purchaser.id":{
                "coll":{
                    "field":"purchaser.type",
                    "id":"purchaser.id"
                },
                "to":"purchaser.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    },
                    "ticket_anon":{
                        "coll":"ticket_anon",
                        "match":"id",
                        "fields":{"id":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            },
            "ticket_ids":{
                "coll":"event_ticket",
                "to":"ticket_list",
                "match":"id",
                "collapseList":true
            },
            "tickets":{
                "coll":"ticket",
                "to":"ticket_info",
                "match":"id",
                "collapseList":true
            },
            "event":{
                "coll":"event",
                "to":"event_info",
                "match":"id",
                "fields":{"id":1,"name":1,"pic":1,"start":1,"end":1}
            },
            "~ticket_ids":{
                "coll":"ticket_scan",
                "to":"ticket_scans",
                "match":"ticket_id",
                "collapseList":true
            }
        },
        "order":["id","purchaser","tickets","event","amount","ticket_ids","expires","terms_version","refunded","guestof","guestlist","discount","payment_info_id","donation","fees","total","onepass"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"T",
                "create":{
                    "len":12,
                    "pre":"T",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_receipt",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeCreate":{
                        "ensureGuestTickets":{}
                    },
                    "onCreate":{
                        "processGuestTickets":{}
                    }
                }
            },
            "payment_info_id":{
                "_index":1,
                "type":"string",
                "name":"Payment Info ID",
                "form":{
                    "type":"hidden"
                }
            },
            "onepass":{
                "type":"int",
                "name":"Flag for ONE|Pass",
                "form":{
                    "type":"hidden"
                }
            },
            "fees":{
                "type":"object",
                "name":"Fees",
                "fields":{
                    "stripe":{
                        "type":"int"
                    },
                    "one_boulder":{
                        "type":"int"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "donation":{
                "type":"int",
                "name":"Donation Amount",
                "form":{
                    "type":"hidden"
                }
            },
            "terms_version":{
                "type":"int",
                "name":"Terms Version",
                "form":{
                    "type":"hidden"
                }
            },
            "expires":{
                "_index":1,
                "type":"timestamp",
                "name":"Expires Timestamp",
                "form":{
                    "type":"hidden"
                }
            },
            "amount":{
                "type":"int",
                "name":"Amount",
                "form":{
                    "type":"hidden"
                }
            },
            "total":{
                "type":"int",
                "name":"Total",
                "form":{
                    "type":"hidden"
                }
            },
            "refunded":{
                "type":"object",
                "name":"Refund Object",
                "form":{
                    "type":"hidden"
                }
            },
            "refunded.by.id":{
                "_index":1,
                "type":"text",
                "name":"refund id"
            },
            "guestof":{
                "type":"object",
                "name":"Guest Of",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"page",
                    "placeholder":"Select Person or Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "info":"data",
                    "endpointOpts":{
                        "filters":["people","page","me"]
                    }
                }
            },
            "guestlist":{
                "type":"int",
                "name":"Guest List Flag"
            },
            "discount":{
                "type":"object",
                "fields":{
                    "discount":{
                        "type":"int"
                    },
                    "data":{
                        "type":"object"
                    },
                    "original_total":{
                        "type":"int"
                    }
                },
                "form":{
                    "type":"hidden"
                }
            },
            "discount.data.id":{
                "_index":1,
                "type":"text"
            },
            "purchaser":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Person",
                "required":true,
                "form":{
                    "type":"general_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "template":"formbuilder_tag_person",
                    "endpointOpts":{
                        "filters":["people"]
                    },
                    "anon_schema":"ticket_anon",
                    "info":"data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureUser":{
                            "anon_schema":"ticket_anon"
                        }
                    }
                }
            },
            "purchaser.id":{
                "_index":1,
                "type":"text"
            },
            "ticket_ids":{
                "_index":1,
                "type":"tag",
                "name":"Ticket IDs",
                "form":{
                    "type":"hidden"
                }
            },
            "event":{
                "_index":1,
                "type":"text",
                "name":"Event id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "tickets":{
                "type":"tag",
                "name":"Tickets",
                "required":true,
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_ticket",
                    "endpoint":"[apiurl]/module/event/[event]/ticketlist",
                    "noexclude":true,
                    "endpointData":["event"],
                    "info":"tickets_info"
                }
            }
        }
    },
    "ticket_scan":{
        "name":"Ticket Scan",
        "icon":"",
        "order":["id","ticket_id","by","event","ticket","user"],
        "graph":{
            "by":{
                "coll":"user",
                "to":"by_info",
                "match":"id",
                "fields":{"id":1,"name":1,"pic":1}
            },
            "user.id":{
                "coll":{
                    "field":"user.type",
                    "id":"user.id"
                },
                "to":"user.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "ticket_anon":{
                        "coll":"ticket_anon",
                        "match":"id",
                        "fields":{"id":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "prefix":"TS",
                "create":{
                    "len":12,
                    "pre":"TS",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_scan",
                        "field":"id"
                    }
                }
            },
            "by":{
                "_index":1,
                "type":"text",
                "name":"By",
                "required":true
            },
            "user":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"From Identity",
                "required":true
            },
            "ticket":{
                "_index":1,
                "type":"text",
                "name":"Ticket",
                "required":true
            },
            "ticket_id":{
                "_index":1,
                "type":"text",
                "name":"Ticket",
                "required":true
            },
            "event":{
                "_index":1,
                "type":"text",
                "name":"Event",
                "required":true
            }
        }
    },
    "ticket_contact":{
        "name":"Ticket Contact",
        "icon":"",
        "roles":["human"],
        "canAdd":[false],
        "module_path":"/api/class/ticket_checkout.php",
        "module":"ticket_checkout",
        "order":["id","person","reply_to","eid","subject","message"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"C",
                "create":{
                    "len":12,
                    "pre":"C",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_contact",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onCreate":{
                        "sendTicketContact":{}
                    }
                }
            },
            "eid":{
                "type":"id",
                "name":"eid",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "person":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Ticket Holder",
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Ticket Holder",
                    "template":"formbuilder_tag_page",
                    "static":true
                }
            },
            "reply_to":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Reply To",
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Reply To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    }
                }
            },
            "person.id":{
                "_index":1,
                "type":"text"
            },
            "subject":{
                "type":"text",
                "name":"Email Subject",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "message":{
                "type":"text",
                "name":"Email Message",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "plugins":["imagemanager_nectar","button"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    },
                    "variables":["[user.name]","[user.firstname]","[event.name]"]
                }  
            }
        }
    },
    "fundraiser_contact_list":{
        "name":"Fundraiser Contact",
        "icon":"",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","reply_to","eid","subject","message"],
        "module_path":"/api/class/fundraiser.php",
        "module":"fundraiser",
        "permissionCheck":"checkUpdatePermissions",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"C",
                "create":{
                    "len":12,
                    "pre":"C",
                    "unique":{
                        "collection":"one",
                        "table":"fundraiser_contact_list",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onCreate":{
                        "sendContactList":{}
                    }
                }
            },
            "eid":{
                "type":"id",
                "name":"eid",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "reply_to":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Reply To",
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Reply To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    }
                }
            },
            "person.id":{
                "_index":1,
                "type":"text"
            },
            "subject":{
                "type":"text",
                "name":"Email Subject",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "message":{
                "type":"text",
                "name":"Email Message",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "plugins":["imagemanager_nectar","button"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    },
                    "variables":["[user.name]","[user.firstname]","[fundraiser.name]"]
                }  
            }
        }
    },
    "friendrequest":{
        "name":"Friend Request",
        "icon":"",
        "order":["id","data","from"],
        "fields":{
            "id":{
                "_index":1,
                "type":"text",
                "name":"id",
                "required":true
            },
            "from":{
                "type":"text",
                "name":"from",
                "required":true
            },
            "data":{
                "type":"object",
                "name":"Request object",
                "required":true
            }
        }
    },
    "friend":{
        "name":"Friend",
        "icon":"",
        "order":["id","la","perms","notes","birthday","notify"],
        "fields":{
            "id":{
                "_index":1,
                "type":"text",
                "name":"id",
                "required":true
            },
            "la":{
                "_index":1,
                "type":"timestamp",
                "name":"Last Viewed Timestamp",
                "required":true
            },
            "perms":{
                "type":"array",
                "name":"List of permissions, like internal oauth2"
            },
            "notes":{
                "type":"text",
                "name":"Notes"
            },
            "notify":{
                "type":"bool",
                "name":"Notification settings"
            },
            "birthday":{
                "type":"bool",
                "name":"Birthday"
            }
        }
    },
    "ticket_contact_list":{
        "name":"Ticket Contact",
        "icon":"",
        "roles":["human"],
        "canAdd":[false],
        "order":["id","reply_to","to","eid","subject","message"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "graph":{
            "reply_to.id":{
                "coll":{
                    "field":"reply_to.type",
                    "id":"reply_to.id"
                },
                "to":"reply_to.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"email":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"email":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"C",
                "create":{
                    "len":12,
                    "pre":"C",
                    "unique":{
                        "collection":"one",
                        "table":"ticket_contact_list",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onCreate":{
                        "sendTicketContactList":{}
                    }
                }
            },
            "to":{
                "type":"tag",
                "name":"Send To",
                "required":true,
                "form":{
                    "type":"multiselect",
                    "template":"formbuilder_mulitselect_items2",
                    "keepPlaceholder":true,
                    "options":{
                        "order":["ticket_holder","rsvp_going","rsvp_interested"],
                        "list":{
                            "ticket_holder":{
                                "value":"ticket_holder",
                                "display":"Ticket Holders",
                                "tag":"ticket_holder"
                            },
                            "rsvp_going":{
                                "value":"rsvp_going",
                                "display":"RSVP'd Going",
                                "tag":"rsvp_going"
                            },
                            "rsvp_interested":{
                                "value":"rsvp_interested",
                                "display":"RSVP'd Interested",
                                "tag":"rsvp_interested"
                            }
                        }
                    }
                }
            },
            "eid":{
                "type":"id",
                "name":"eid",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "reply_to":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Reply To",
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Reply To",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people"],
                        "allowMe":true
                    }
                }
            },
            "person.id":{
                "_index":1,
                "type":"text"
            },
            "subject":{
                "type":"text",
                "name":"Subject",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "message":{
                "type":"text",
                "name":"Message",
                "required":true,
                "form":{
                    "type":"redactor",
                    "maxlength":10000,
                    "minHeight":30,
                    "plugins":["imagemanager_nectar","button"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        },
                        "file":{
                            "endpoint":"[apiurl]/upload/file/submit",
                            "opts":{}
                        }
                    },
                    "variables":["[to.data.name]","[to.data.firstname]","[event.name]","[event.pretty_time]"]
                }  
            }
        }
    },
    "event_rsvp":{
        "name":"Event RSVP",
        "icon":"",
        "canAdd":[false],
        "order":["id","eid","rsvp","start","tsu","uid"],
        "module_path":"/api/class/event.php",
        "module":"event",
        "permissionCheck":"checkUpdatePermissions",
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "eid":{
                "type":"id",
                "name":"eid",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "uid":{
                "type":"id",
                "name":"User ID",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "rsvp":{
                "_index":1,
                "required":true,
                "type":"text",
                "name":"RSVP"
            },
            "start":{
                "type":"timestamp",
                "required":true,
                "name":"Start Timestamp"
            },
            "tsu":{
                "required":true,
                "type":"timestamp",
                "name":"Update Timestamp"
            }
        }
    },
    "story":{
        "name":"Add a Story",
        "title":"Add a Story",
        "action":"Add!",
        "icon":"icon-hike",
        "route":"/story/[id]",
        "graph":{
            "tags":{
                "coll":"tags_story",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "video.id":{
                "coll":"media",
                "to":"video.data",
                "subfield":"data",
                "match":"id"
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            }
        },
        "canAdd":["admin"],
        "roles":["human"],
        "module_path":"/api/class/story.php",
        "module":"story",
        "order":["id","page","content","tags","media_type","photo","audio","video","photos"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"S",
                "create":{
                    "len":12,
                    "pre":"V",
                    "unique":{
                        "collection":"one",
                        "table":"story",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "photos":{
                "type":"object",
                "name":"Photos",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "photo":{
                "type":"object",
                "name":"Photos",
                "form":{
                    "type":"image"
                }
            },
            "audio":{
                "type":"object",
                "name":"Audio",
                "form":{
                    "type":"audio"
                }
            },
            "video":{
                "type":"object",
                "name":"Video",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "form":{
                    "type":"video"
                }
            },
            "media_type":{
                "type":"text",
                "name":"Add Media",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"none",
                    "toggle":{
                        "none":{
                            "on":[],
                            "off":["video","audio","photo","photos"]
                        },
                        "audio":{
                            "on":["photo","audio"],
                            "off":["video","photos"]
                        },
                        "video":{
                            "on":["video"],
                            "off":["audio","photo","photos"]
                        },
                        "photos":{
                            "on":["photos"],
                            "off":["video","audio","photo"]
                        }
                    },
                    "options":{
                        "order":["none","audio","video","photos"],
                        "list":{
                            "none":{
                                "value":"none",
                                "name":"None",
                                "description":"No Media"
                            },
                            "audio":{
                                "value":"audio",
                                "name":"Audio",
                                "description":"Attach Audio"
                            },
                            "video":{
                                "value":"video",
                                "name":"Video",
                                "description":"Attach a Video"
                            },
                            "photos":{
                                "value":"photos",
                                "name":"Photos",
                                "description":"Attach Photos"
                            }
                        }
                    }
                }
            },
            "tags":{
                "_index":1,
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "endpointOpts":{
                        "collection":"tags_story"
                    },
                    "linkTo":{
                        "field":"type"
                    },
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_story",
                            "dataField":"tag_info"
                        }
                    }
                }
            },
            "content":{
                "type":"text",
                "name":"Content",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Add to Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["me"]
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"text"
            }
        }
    },
    "service":{
        "name":"List a Service",
        "title":"List a Service",
        "action":"Add!",
        "icon":"icon-family",
        "disableStoreTester":true,
        "route":"/service/[id]",
        "query":{
            "active":1,
            "disabled":0
        },
        "graph":{
            "tags":{
                "coll":"tags_service",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
            "id":{
                "coll":"service_offering",
                "to":"offerings",
                "match":"sid",
                "isList":true
            }
        },
        "canAdd":["services","admin","human"],
        "roles":["human"],
        "module_path":"/api/class/service.php",
        "module":"service",
        "order":["id","pic","bg","name","page","type","tags","description","booking_url","active","disabled"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"S",
                "create":{
                    "len":12,
                    "pre":"S",
                    "unique":{
                        "collection":"one",
                        "table":"service",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeSave":{
                        "checkServices":{}
                    }
                }
            },
            "type":{
                "_index":1,
                "type":"tag",
                "name":"Main Categories",
                "required":true,
                "form":{
                    "type":"multiselect",
                    "max":2,
                    "template":"formbuilder_mulitselect_items2",
                    "keepPlaceholder":true,
                    "linkTo":{
                        "field":"tags"
                    },
                    "options":{
                        "order":["health_and_wellness","food","personal_growth","sacred","performance","party","networking","fitness","film","earth_based","dance_and_movement","civic_and_local","cause_and_impact","arts_and_culture","music","games","learning","movie","sports","custom"],
                        "list":{
                            "health_and_wellness":{
                                "value":"health_and_wellness",
                                "display":"Health and Wellness",
                                "tag":"health_and_wellness"
                            },
                            "food":{
                                "value":"food",
                                "display":"Food",
                                "tag":"food"
                            },
                            "personal_growth":{
                                "value":"personal_growth",
                                "display":"Personal Growth",
                                "tag":"personal_growth"
                            },
                            "sacred":{
                                "value":"sacred",
                                "display":"Sacred",
                                "tag":"sacred"
                            },
                            "performance":{
                                "value":"performance",
                                "display":"Performance",
                                "tag":"performance"
                            },
                            "party":{
                                "value":"party",
                                "display":"Party",
                                "tag":"party"
                            },
                            "networking":{
                                "value":"networking",
                                "display":"Networking",
                                "tag":"networking"
                            },
                            "fitness":{
                                "value":"fitness",
                                "display":"Fitness",
                                "tag":"fitness"
                            },
                            "film":{
                                "value":"film",
                                "display":"Film",
                                "tag":"film"
                            },
                            "earth_based":{
                                "value":"earth_based",
                                "display":"Earth Based",
                                "tag":"earth_based"
                            },
                            "dance_and_movement":{
                                "value":"dance_and_movement",
                                "display":"Dance and Movement",
                                "tag":"dance_and_movement"
                            },
                            "civic_and_local":{
                                "value":"civic_and_local",
                                "display":"Civic and Local",
                                "tag":"civic_and_local"
                            },
                            "cause_and_impact":{
                                "value":"cause_and_impact",
                                "display":"Cause and Impact",
                                "tag":"cause_and_impact"
                            },
                            "arts_and_culture":{
                                "value":"arts_and_culture",
                                "display":"Arts and Culture",
                                "tag":"arts_and_culture"
                            },
                            "games":{
                                "value":"games",
                                "display":"Games",
                                "tag":"games"
                            },
                            "music":{
                                "value":"music",
                                "display":"Music",
                                "tag":"music"
                            },
                            "learning":{
                                "value":"learning",
                                "display":"Learning",
                                "tag":"learning"
                            },
                            "movie":{
                                "value":"movie",
                                "display":"Movie",
                                "tag":"movie"
                            },
                            "sports":{
                                "value":"sports",
                                "display":"Sports",
                                "tag":"sports"
                            },
                            "custom":{
                                "value":"custom",
                                "display":"Custom",
                                "tag":"custom"
                            }
                        }
                    }
                }
            },
            "tags":{
                "_index":1,
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "endpointOpts":{
                        "collection":"tags_service"
                    },
                    "linkTo":{
                        "field":"type"
                    },
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_service",
                            "dataField":"tag_info"
                        }
                    }
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Service Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "booking_url":{
                "type":"text",
                "name":"Booking URL",
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "active":{
                "_index":1,
                "type":"int",
                "name":"Active",
                "required":true,
                "form":{
                    "type":"onoff",
                    "default":1
                }
            },
            "disabled":{
                "_index":1,
                "type":"int",
                "name":"Disabled",
                "required":true,
                "form":{
                    "type":"hidden",
                    "default":0
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Add to Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["me"]
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"text"
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "required":true,
                "name":"Profile Pic",
                "form":{
                    "type":"image",
                    "display":"square",
                    "crop":"square"
                }
            },
            "bg":{
                "type":"image",
                "multiple":false,
                "name":"Cover Photo",
                "form":{
                    "type":"image",
                    "display":"background",
                    "crop":"background"
                }
            }
        }
    },
    "service_offering_request":{
        "name":"Service Offering Request",
        "title":"Request Payment",
        "action":"Send!",
        "graph":{
        },
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/service.php",
        "module":"service",
        "order":["id","to","service","service_offering","content","service_info","service_offering_info"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"S",
                "create":{
                    "len":12,
                    "pre":"S",
                    "unique":{
                        "collection":"one",
                        "table":"service_offering_request",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeCreate":{
                        "cacheData":{}
                    },
                    "onCreate":{
                        "notifyRequest":{}
                    }
                }
            },
            "content":{
                "type":"text",
                "name":"Notes",
                "form":{
                    "type":"textarea",
                    "maxlength":1000,
                    "minHeight":30
                }
            },
            "to":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Person",
                "required":true,
                "form":{
                    "type":"general_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "template":"formbuilder_tag_person",
                    "endpointOpts":{
                        "filters":["people"]
                    },
                    "anon_schema":"service_anon",
                    "info":"data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureUser":{
                            "anon_schema":"service_anon"
                        }
                    }
                }
            },
            "to.id":{
                "_index":1,
                "type":"text",
                "name":"index"
            },
            "service":{
                "_index":1,
                "type":"text",
                "name":"Service ID",
                "required":true,
                "form":{
                    "hidden":true
                }
            },
            "service_offering":{
                "_index":1,
                "type":"text",
                "name":"Service Offering ID",
                "required":true,
                "form":{
                    "hidden":true
                }
            },
            "service_info":{
                "type":"object",
                "name":"Service Info",
                "required":true,
                "form":{
                    "display":"formbuilder_service"
                }
            },
            "service_offering_info":{
                "type":"object",
                "name":"Service Offering Info",
                "required":true,
                "form":{
                    "display":"formbuilder_service"
                }
            }
        }
    },
    "service_offering":{
        "name":"Service Offering",
        "title":"Create an offering",
        "action":"Add!",
        "graph":{
            "tags":{
                "coll":"tags_service",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            }
        },
        "canAdd":[false],
        "roles":["human"],
        "module_path":"/api/class/service.php",
        "module":"service",
        "order":["id","name","price","description","active","sid"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"S",
                "create":{
                    "len":12,
                    "pre":"S",
                    "unique":{
                        "collection":"one",
                        "table":"service",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "sid":{
                "_index":1,
                "type":"id",
                "name":"id",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "price":{
                 "type":"int",
                 "name":"Price",
                 "form":{
                    "placeholder":"Set Price",
                    "type":"money",
                    "min":0
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Service Name",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "active":{
                "_index":1,
                "type":"int",
                "name":"Active",
                "required":true,
                "form":{
                    "type":"onoff",
                    "default":1
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "required":true,
                "form":{
                    "type":"redactor"
                }
            }
        }
    },
    "fundraiser":{
        "name":"Create a Fundraiser",
        "title":"Create a Fundraiser",
        "action":"Create!",
        "icon":"icon-money",
        "route":"/fundraiser/[id]",
        "loadMethod":"load",
        "onSync":["fundraiser_settings","fundraiser_goal","contribution","fundraiser_email","fundraiser_confirmation","fundraiser_contribution","fundraiser_anon","fundraiser_receipt","fundraiser_contact","fundraiser_contact_list"],
        "onClone":{
            "copy":{
                "fundraiser_settings":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                },
                "contribution":{
                    "primaryKey":"id",
                    "collectionKey":"fid",
                    "multi":true,
                    "clearId":true,
                    "merge":{
                        "all":0,
                        "pending":0,
                        "sold":0
                    }
                },
                "fundraiser_email":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                },
                "fundraiser_goal":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                },
                "fundraiser_confirmation":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                }
            }
        },
        "graph":{
            "uid":{
                "coll":"user",
                "to":"user",
                "match":"id",
                "fields":{"name":1,"pic":1,"id":1}
            },
            "tags":{
                "coll":"tags_event",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1,"badges":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
            "location.id":{
                "coll":"place",
                "to":"location.data",
                "match":"id"
            },
            "cohost":{
                "coll":"user",
                "to":"cohost_info",
                "match":"id",
                "collapseList":true,
                "fields":{"id":1,"pic":1,"name":1,"badges":1}
            },
            "cancelled.by":{
                "coll":"user",
                "to":"cancelled.by_info",
                "match":"id",
                "fields":{"id":1,"pic":1,"name":1}
            }
        },
        "canAdd":["admin","coreteam"],
        "roles":["human"],
        "channels":[{
            "variables":{},
            "template":"event"
        }],
        "module_path":"/api/class/fundraiser.php",
        "module":"fundraiser",
        "updatePermissionCheck":"checkUpdatePermissions",
        "order":["id","pic","name","page","cohost","type","tags","end","timezone","tsu","point","archived","location","description","point","cancelled","privacy","require_login","promoted","promoted_text"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"F",
                "create":{
                    "len":12,
                    "pre":"F",
                    "unique":{
                        "collection":"one",
                        "table":"event",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeSave":{
                        "ensurePrivacy":{
                        }
                    }
                }
            },
            "require_login":{
                "type":"int",
                "name":"Require Login (Steward Only)",
                "permission":["admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "promoted":{
                "type":"int",
                "name":"Promoted (Steward Only)",
                "permission":["admin"],
                "form":{
                    "type":"onoff"
                }
            },
            "promoted_text":{
                "type":"string",
                "name":"Promoted Text",
                "permission":["admin"],
                "form":{
                    "type":"redactor",
                    "maxlength":200,
                    "buttonsHide":["format","lists","link","alignment"]
                }
            },
            "privacy":{
                "_index":1,
                "type":"text",
                "name":"Select Privacy",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"public",
                    "options":{
                        "order":["public","private"],
                        "list":{
                            "public":{
                                "value":"public",
                                "name":"Public",
                                "description":"Anyone can find the event"
                            },
                            "private":{
                                "value":"private",
                                "name":"Private",
                                "description":"Only those who have a link can view the event."
                            }
                        }
                    }
                }
            },
            "location":{
                "type":"object",
                "fields":{
                    "more":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "text":{
                        "type":"string"
                    }
                },
                "name":"Location",
                "form":{
                    "type":"location",
                    "info":"location.data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureLocation":{
                            "key":"point",
                            "info":"location.data"
                        }
                    }
                }
            },
            "point":{
                "_index":"2dsphere",
                "type":"point",
                "name":"Point",
                "form":{
                    "type":"hidden"
                }
            },
            "cancelled":{
                "_index":1,
                "type":"object",
                "fields":{
                    "ts":{
                        "type":"timestamp"
                    },
                    "by":{
                        "type":"string"
                    }
                },
                "permission":["internal"],
                "name":"Cancelled",
                "form":{
                    "type":"hidden"
                }
            },
            "archived":{
                "type":"int",
                "name":"Archive status",
                "_index":1
            },
            "timezone":{
                "type":"text",
                "name":"Timezone",
                "form":{
                    "type":"timezone"
                }
            },
            "type":{
                "_index":1,
                "type":"tag",
                "name":"Main Categories",
                "required":true,
                "form":{
                    "type":"multiselect",
                    "max":2,
                    "template":"formbuilder_mulitselect_items2",
                    "keepPlaceholder":true,
                    "linkTo":{
                        "field":"tags"
                    },
                    "options":{
                        "order":["health_and_wellness","food","personal_growth","sacred","performance","party","networking","fitness","film","earth_based","dance_and_movement","civic_and_local","cause_and_impact","arts_and_culture","music","games","learning","movie","sports","custom"],
                        "list":{
                            "health_and_wellness":{
                                "value":"health_and_wellness",
                                "display":"Health and Wellness",
                                "tag":"health_and_wellness"
                            },
                            "food":{
                                "value":"food",
                                "display":"Food",
                                "tag":"food"
                            },
                            "personal_growth":{
                                "value":"personal_growth",
                                "display":"Personal Growth",
                                "tag":"personal_growth"
                            },
                            "sacred":{
                                "value":"sacred",
                                "display":"Sacred",
                                "tag":"sacred"
                            },
                            "performance":{
                                "value":"performance",
                                "display":"Performance",
                                "tag":"performance"
                            },
                            "party":{
                                "value":"party",
                                "display":"Party",
                                "tag":"party"
                            },
                            "networking":{
                                "value":"networking",
                                "display":"Networking",
                                "tag":"networking"
                            },
                            "fitness":{
                                "value":"fitness",
                                "display":"Fitness",
                                "tag":"fitness"
                            },
                            "film":{
                                "value":"film",
                                "display":"Film",
                                "tag":"film"
                            },
                            "earth_based":{
                                "value":"earth_based",
                                "display":"Earth Based",
                                "tag":"earth_based"
                            },
                            "dance_and_movement":{
                                "value":"dance_and_movement",
                                "display":"Dance and Movement",
                                "tag":"dance_and_movement"
                            },
                            "civic_and_local":{
                                "value":"civic_and_local",
                                "display":"Civic and Local",
                                "tag":"civic_and_local"
                            },
                            "cause_and_impact":{
                                "value":"cause_and_impact",
                                "display":"Cause and Impact",
                                "tag":"cause_and_impact"
                            },
                            "arts_and_culture":{
                                "value":"arts_and_culture",
                                "display":"Arts and Culture",
                                "tag":"arts_and_culture"
                            },
                            "games":{
                                "value":"games",
                                "display":"Games",
                                "tag":"games"
                            },
                            "music":{
                                "value":"music",
                                "display":"Music",
                                "tag":"music"
                            },
                            "learning":{
                                "value":"learning",
                                "display":"Learning",
                                "tag":"learning"
                            },
                            "movie":{
                                "value":"movie",
                                "display":"Movie",
                                "tag":"movie"
                            },
                            "sports":{
                                "value":"sports",
                                "display":"Sports",
                                "tag":"sports"
                            },
                            "custom":{
                                "value":"custom",
                                "display":"Custom",
                                "tag":"custom"
                            }
                        }
                    }
                }
            },
            "tags":{
                "_index":1,
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "endpointOpts":{
                        "collection":"tags_fundraiser"
                    },
                    "linkTo":{
                        "field":"type"
                    },
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_fundraiser",
                            "dataField":"tag_info"
                        }
                    }
                }
            },
            "cohost":{
                "_index":1,
                "type":"tag",
                "name":"Hosts",
                "form":{
                    "type":"tags",
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people","me"]
                    },
                    "info":"cohost_info",
                    "icon":"icon-groups"
                }
            },
            "point":{
                "_index":"2dsphere",
                "type":"point",
                "name":"Point",
                "form":{
                    "type":"hidden"
                }
            },
            "end":{
                "_index":1,
                "required":true,
                "type":"timestamp",
                "dontAllowZero":true,
                "name":"End Date / Time",
                "form":{
                    "type":"date"
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "required":true,
                "form":{
                    "type":"redactor",
                    "plugins":["imagemanager_nectar"],
                    "uploadOpts":{
                        "image":{
                            "endpoint":"[apiurl]/upload/image/submit",
                            "opts":{}
                        }
                    }
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Add to Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","me"],
                        "page_permission":["page::write::calendar"]
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"text"
            },
            "tsu":{
                "_index":1,
                "type":"object",
                "name":"TSU",
                "form":{
                    "type":"hidden"
                }
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Cover Photo",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"background",
                    "crop":"background"
                }
            }
        }
    },
    "event":{
        "name":"Create an Event",
        "title":"Create an Event",
        "action":"Create!",
        "disableStoreTester":true,
        "icon":"icon-calendar",
        "route":"/event/[id]",
        "guidelines":"For a tutorial on how to do ticketing for your event, check out <span style='font-weight:bold' link='https://oneecosystem.notion.site/Events-Ticketing-805c7eddb9d64efd881a028fcbd6ccb9'>this link</span>. <b>Do not</b> share Facebook or Eventbrite links.  <b>Do not</b> ask people to pay you through venmo.",
        "onSync":["ticket_settings","ticket","ticket_discount","event_ticketemail","event_ticketconfirmation","event_ticket","event_rsvp","ticket_anon","ticket_scan","ticket_receipt","ticket_contact","ticket_contact_list","event_breakdown","ticket_question","ticket_response"],
        "onClone":{
            "copy":{
                "ticket_settings":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                },
                "ticket_question":{
                    "primaryKey":"id",
                    "collectionKey":"eid"
                },
                "ticket_response":{
                    "primaryKey":"id",
                    "collectionKey":"eid"
                },
                "ticket":{
                    "primaryKey":"id",
                    "collectionKey":"eid",
                    "multi":true,
                    "clearId":true,
                    "merge":{
                        "all":0,
                        "pending":0,
                        "sold":0
                    }
                },
                "ticket_discount":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                },
                "event_ticketemail":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                },
                "event_ticketconfirmation":{
                    "primaryKey":"id",
                    "collectionKey":"id"
                }
            }
        },
        "graph":{
            "uid":{
                "coll":"user",
                "to":"user",
                "match":"id",
                "fields":{"name":1,"pic":1,"id":1}
            },
            "rsvp":{
                "create":{
                    "join":{
                        "data":["$id","[uid]"],
                        "separator":"_"
                    }
                },
                "coll":"event_rsvp",
                "to":"rsvp",
                "match":"id",
                "clearOnNull":true
            },
            "tags":{
                "coll":"tags_event",
                "to":"tag_info",
                "match":"id",
                "fields":{"name":1,"id":1},
                "collapseList":true
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1,"badges":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            },
            "location.id":{
                "coll":"place",
                "to":"location.data",
                "match":"id"
            },
            "cohost":{
                "coll":"user",
                "to":"cohost_info",
                "match":"id",
                "collapseList":true,
                "fields":{"id":1,"pic":1,"name":1,"badges":1}
            },
            "cancelled.by":{
                "coll":"user",
                "to":"cancelled.by_info",
                "match":"id",
                "fields":{"id":1,"pic":1,"name":1}
            },
            "payout.by.id":{
                "coll":{
                    "field":"payout.by.type",
                    "id":"payout.by.id"
                },
                "to":"payout.by.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1,"badges":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"admins":1}
                    }
                },
                "match":"id"
            }
        },
        "scopes":{
            "read":["self::read::calendar"],
            "write":["self::write::calendar"]
        },
        "canAdd":["events","admin","marketing","explorer","player","regenerator","steward"],
        "roles":["human"],
        "channels":[{
            "variables":{},
            "template":"event"
        }],
        "updatePermissionCheck":"checkUpdatePermissions",
        "order":["id","pic","name","page","cohost","type","tags","start","end","timezone","room","tsu","point","venue","archived","location","description","point","cancelled","privacy","promoted","promoted_text","payout","start_unique","description_version"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"E",
                "create":{
                    "len":12,
                    "pre":"E",
                    "unique":{
                        "collection":"one",
                        "table":"event",
                        "field":"id"
                    }
                },
                "required":true,
                "form":{
                    "type":"hidden"
                },
                "hooks":{
                    "onBeforeSave":{
                        "ensurePrivacy":{
                        }
                    }
                }
            },
            "privacy":{
                "_index":1,
                "type":"text",
                "name":"Select Privacy",
                "form":{
                    "type":"buttonselect",
                    "keepPlaceholder":true,
                    "default":"public",
                    "options":{
                        "order":["public","private"],
                        "list":{
                            "public":{
                                "value":"public",
                                "name":"Public",
                                "description":"Anyone can find the event"
                            },
                            "private":{
                                "value":"private",
                                "name":"Private",
                                "description":"Only those who have a link can view the event."
                            }
                        }
                    }
                }
            },
            "location":{
                "type":"object",
                "fields":{
                    "more":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "text":{
                        "type":"string"
                    }
                },
                "name":"Location",
                "form":{
                    "type":"location",
                    "info":"location.data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureLocation":{
                            "key":"point",
                            "info":"location.data"
                        }
                    }
                }
            },
            "point":{
                "_index":"2dsphere",
                "type":"point",
                "name":"Point",
                "form":{
                    "type":"hidden"
                }
            },
            "payout":{
                "type":"object",
                "fields":{
                    "ts":{
                        "type":"timestamp"
                    },
                    "by":{
                        "type":"object",
                        "fields":{
                            "id":{
                                "type":"text"
                            },
                            "type":{
                                "type":"text"
                            }
                        }
                    }
                },
                "name":"Payout Info",
                "form":{
                    "type":"hidden"
                }
            },
            "promoted":{
                "_index":1,
                "type":"int",
                "name":"Promoted",
                "permission":["admin","event_steward"],
                "form":{
                    "type":"onoff"
                }
            },
            "promoted_text":{
                "type":"string",
                "name":"Promoted Text",
                "permission":["admin","event_steward"],
                "form":{
                    "type":"redactor",
                    "maxlength":200,
                    "buttonsHide":["format","lists","link","alignment"]
                }
            },
            "cancelled":{
                "_index":1,
                "type":"object",
                "fields":{
                    "ts":{
                        "type":"timestamp"
                    },
                    "by":{
                        "type":"string"
                    }
                },
                "permission":["internal"],
                "name":"Cancelled",
                "form":{
                    "type":"hidden"
                }
            },
            "archived":{
                "type":"int",
                "name":"Archive status",
                "_index":1
            },
            "timezone":{
                "type":"text",
                "name":"Timezone",
                "form":{
                    "type":"timezone"
                }
            },
            "type":{
                "_index":1,
                "type":"tag",
                "name":"Main Categories",
                "required":true,
                "form":{
                    "type":"multiselect",
                    "max":2,
                    "template":"formbuilder_mulitselect_items2",
                    "keepPlaceholder":true,
                    "linkTo":{
                        "field":"tags"
                    },
                    "options":{
                        "order":["health_and_wellness","food","personal_growth","sacred","performance","party","networking","fitness","film","earth_based","dance_and_movement","civic_and_local","cause_and_impact","arts_and_culture","music","games","learning","movie","sports","custom"],
                        "list":{
                            "health_and_wellness":{
                                "value":"health_and_wellness",
                                "display":"Health and Wellness",
                                "tag":"health_and_wellness"
                            },
                            "food":{
                                "value":"food",
                                "display":"Food",
                                "tag":"food"
                            },
                            "personal_growth":{
                                "value":"personal_growth",
                                "display":"Personal Growth",
                                "tag":"personal_growth"
                            },
                            "sacred":{
                                "value":"sacred",
                                "display":"Sacred",
                                "tag":"sacred"
                            },
                            "performance":{
                                "value":"performance",
                                "display":"Performance",
                                "tag":"performance"
                            },
                            "party":{
                                "value":"party",
                                "display":"Party",
                                "tag":"party"
                            },
                            "networking":{
                                "value":"networking",
                                "display":"Networking",
                                "tag":"networking"
                            },
                            "fitness":{
                                "value":"fitness",
                                "display":"Fitness",
                                "tag":"fitness"
                            },
                            "film":{
                                "value":"film",
                                "display":"Film",
                                "tag":"film"
                            },
                            "earth_based":{
                                "value":"earth_based",
                                "display":"Earth Based",
                                "tag":"earth_based"
                            },
                            "dance_and_movement":{
                                "value":"dance_and_movement",
                                "display":"Dance and Movement",
                                "tag":"dance_and_movement"
                            },
                            "civic_and_local":{
                                "value":"civic_and_local",
                                "display":"Civic and Local",
                                "tag":"civic_and_local"
                            },
                            "cause_and_impact":{
                                "value":"cause_and_impact",
                                "display":"Cause and Impact",
                                "tag":"cause_and_impact"
                            },
                            "arts_and_culture":{
                                "value":"arts_and_culture",
                                "display":"Arts and Culture",
                                "tag":"arts_and_culture"
                            },
                            "games":{
                                "value":"games",
                                "display":"Games",
                                "tag":"games"
                            },
                            "music":{
                                "value":"music",
                                "display":"Music",
                                "tag":"music"
                            },
                            "learning":{
                                "value":"learning",
                                "display":"Learning",
                                "tag":"learning"
                            },
                            "movie":{
                                "value":"movie",
                                "display":"Movie",
                                "tag":"movie"
                            },
                            "sports":{
                                "value":"sports",
                                "display":"Sports",
                                "tag":"sports"
                            },
                            "custom":{
                                "value":"custom",
                                "display":"Custom",
                                "tag":"custom"
                            }
                        }
                    }
                }
            },
            "tags":{
                "_index":1,
                "type":"tag",
                "name":"Tags",
                "form":{
                    "type":"tags",
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "allowAdd":true,
                    "icon":"icon-hashtag",
                    "format":"tag_pretty",
                    "endpointOpts":{
                        "collection":"tags_event"
                    },
                    "linkTo":{
                        "field":"type"
                    },
                    "info":"tag_info"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureTags":{
                            "collection":"tags_event",
                            "dataField":"tag_info"
                        }
                    }
                }
            },
            "pages":{
                "_index":1,
                "type":"tag",
                "name":"Linked Pages",
                "form":{
                    "type":"hidden"
                }
            },
            "cohost":{
                "_index":1,
                "type":"tag",
                "name":"Hosts",
                "form":{
                    "type":"tags",
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["people","me"]
                    },
                    "info":"cohost_info",
                    "icon":"icon-groups"
                }
            },
            "point":{
                "_index":"2dsphere",
                "type":"point",
                "name":"Point",
                "form":{
                    "type":"hidden"
                }
            },
            "start":{
                "_index":1,
                "type":"timestamp",
                "name":"Start Date / Time",
                "required":true,
                "tooltip":"Start time of the event.",
                "dontAllowZero":true,
                "form":{
                    "type":"date",
                    "format":"event",
                    "ensureOnSet":"end",
                    "timezoneField":"timezone"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "eventStartUnique":{}
                    },
                    "onAfterSave":{
                        "eventEnsuretime":{}
                    }
                }
            },
            "start_unique":{
                "_index":1,
                "type":"int",
                "name":"Unique number for sorting",
                "required":true,
                "form":{
                    "type":"hidden"
                }
            },
            "end":{
                "_index":1,
                "required":true,
                "type":"timestamp",
                "dontAllowZero":true,
                "name":"End Date / Time",
                "form":{
                    "type":"date",
                    "linkedTo":"start",
                    "timezoneField":"timezone"
                }
            },
            "venue":{
                "type":"text",
                "name":"Venue",
                "form":{
                    "type":"hidden"
                }
            },
            "autopublish":{
                "_index":1,
                "type":"int",
                "name":"Auto Publish 3-4 days before the event",
                "tooltip":"(Producer Only) When auto-publish is enabled, an event invite will be broadcasted 3-4 days before an event.",
                "form":{
                    "default":0,
                    "type":"onoff"
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Title",
                "required":true,
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "room":{
                "type":"text",
                "name":"Room Name",
                "form":{
                    "type":"textarea",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "required":true,
                "hooks":{
                    "onBeforeSave":{
                        "ensureDescriptionLinks":{},
                        "ensureDescriptionVersion":{}
                    }
                }, 
                "form":{
                    "type":"redactor",
                    "plugins":["imagemanager_nectar","video"],
                    "autosave":{
                        "versionField":"description_version"
                    }
                }
            },
            "description_version":{
                "type":"int",
                "name":"Description Version Index",
                "form":{
                    "type":"hidden"
                }
            },
            "page":{
                "type":"object",
                "name":"Page",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Add to Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "endpointOpts":{
                        "filters":["page","people","me"],
                        "page_permission":["page::write::calendar"]
                    }
                }
            },
            "page.id":{
                "_index":1,
                "type":"text"
            },
            "tsu":{
                "_index":1,
                "type":"object",
                "name":"TSU",
                "form":{
                    "type":"hidden"
                }
            },
            "pic":{
                "type":"image",
                "multiple":false,
                "name":"Cover Photo",
                "required":true,
                "form":{
                    "type":"image",
                    "display":"background",
                    "crop":"background"
                }
            }
        }
    },
    "map_marker":{
        "display":"Map Marker",
        "roles":["admin"],
        "canAdd":["admin"],
        "name":"Create Marker",
        "title":"Create Marker",
        "action":"Create!",
        "icon":"icon-location",
        "module_path":"/api/class/map.php",
        "module":"map",
        "name":"Map Marker",
        "graph":{
            "tags":{
                "coll":"tags_map",
                "to":"tags_info",
                "match":"id",
                "collapseList":true
            },
            "location.id":{
                "coll":"place",
                "to":"location.data",
                "match":"id",
                "collapseList":true
            },
            "layer":{
                "coll":"map_layer",
                "to":"layer_info",
                "match":"id"
            },
            "media":{
                "coll":"media",
                "to":"media",
                "match":"id",
                "fields":{"id":1,"data":1,"type":1}
            }
        },
        "order":["id","name","layer","links","location","point","description","tags","loc","media"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"TMP",
                "create":{
                    "len":10,
                    "pre":"x",
                    "unique":{
                        "collection":"nectar",
                        "table":"map_marker",
                        "field":"id"
                    }
                },
                "required":true
            },
            "media":{
                "type":"object",
                "name":"Media",
                "tooltip":"Media",
                "form":{
                    "type":"media"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "processMedia":{}
                    }
                }
            },
            "layer":{
                "type":"string",
                "name":"Layer",
                "required":true,
                "form":{
                    "type":"tag",
                    "placeholder":"Layer / Marker",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "info":"layer_info",
                    "keyUpOnFocus":true,
                    "endpointOpts":{
                        "filters":["map_layer"]
                    }
                }
            },
            "name":{
                "_index":1,
                "type":"text",
                "name":"Name",
                "form":{
                    "type":"textarea",
                    "placeholder":"Name",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "tags":{
                "type":"tag",
                "name":"Tags",
                "_index":1,
                "form":{
                    "type":"tags",
                    "allowAdd":true,
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"tags_map"
                    },
                    "icon":"",
                    "placeholder":"Tags",
                    "info":"tags_info"
                }
            },
            "location":{
                "type":"object",
                "fields":{
                    "more":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    },
                    "text":{
                        "type":"string"
                    }
                },
                "name":"Location",
                "form":{
                    "type":"location",
                    "info":"location.data"
                },
                "hooks":{
                    "onBeforeValidation":{
                        "ensureLocation":{
                            "key":"point",
                            "info":"location.data"
                        }
                    }
                }
            },
            "point":{
                "_index":"2dsphere",
                "type":"point",
                "name":"Point",
                "form":{
                    "type":"hidden"
                }
            },
            "links":{
                "type":"links",
                "name":"Links"
            },
            "loc":{
                "type":"geocode",
                "name":"Location"
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "type":"redactor"
                }
            }
        }
    },
    "branch":{
        "display":"Branch",
        "roles":["admin"],
        "canAdd":[false],
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "name":"App Branch",
        "title":"Create Branch",
        "action":"Create!",
        "icon":"icon-chat-2",
        "order":["id","project","name"],
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"B",
                "create":{
                    "len":10,
                    "pre":"B",
                    "unique":{
                        "collection":"one",
                        "table":"branch",
                        "field":"id"
                    }
                },
                "required":true
            },
            "name":{
                "type":"text",
                "name":"Branch",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Branch",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "project":{
                "type":"text",
                "name":"Project ID",
                "required":true,
                "form":{
                    "type":"textarea",
                    "placeholder":"Project ID",
                    "maxlength":100,
                    "minHeight":30
                }
            }
        }
    },
    "app_publish_token":{
        "display":"App Publish Token",
        "roles":["admin"],
        "canAdd":[false],
        "module_path":"/sites/one_admin/one_admin.api",
        "module":"one_admin",
        "name":"App Publish Token",
        "title":"Create Token",
        "action":"Create!",
        "icon":"icon-chat-2",
        "order":["id","page","branches"],
        "graph":{
            "branches":{
                "coll":"branch",
                "to":"branches_info",
                "match":"id",
                "collapseList":true
            },
            "page.id":{
                "coll":{
                    "field":"page.type",
                    "id":"page.id"
                },
                "to":"page.data",
                "opts":{
                    "user":{
                        "coll":"user",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1,"health":1}
                    },
                    "page":{
                        "coll":"page",
                        "match":"id",
                        "fields":{"id":1,"pic":1,"name":1}
                    }
                },
                "match":"id"
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"",
                "create":{
                    "len":24,
                    "pre":"",
                    "unique":{
                        "collection":"one",
                        "table":"app_publish_token",
                        "field":"id"
                    }
                },
                "required":true
            },
            "page":{
                "type":"object",
                "fields":{
                    "type":{
                        "type":"string"
                    },
                    "id":{
                        "type":"string"
                    }
                },
                "name":"Person / Page",
                "required":true,
                "form":{
                    "type":"page",
                    "placeholder":"Select Person or Page",
                    "template":"formbuilder_tag_page",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "info":"data",
                    "endpointOpts":{
                        "filters":["people","page","me"]
                    }
                }
            },
            "branches":{
                "type":"tag",
                "name":"Branches",
                "form":{
                    "type":"tags",
                    "allowAdd":false,
                    "endpoint":"[apiurl]/search/tags",
                    "template":"formbuilder_tag_item_plain",
                    "endpointOpts":{
                        "collection":"branch"
                    },
                    "icon":"",
                    "placeholder":"Branches",
                    "info":"branches_info"
                }
            }
        }
    },
    "chat_group":{
        "display":"Chat Group",
        "roles":["human"],
        "name":"Create Chat",
        "title":"Create Chat",
        "action":"Create!",
        "icon":"icon-chat-2",
        "module_path":"/api/class/chat.php",
        "module":"chat",
        "route":"/chat/[id]",
        "order":["id","people","name","page","tsu","description","thread"],
        "graph":{
            "people":{
                "coll":"user",
                "to":"people_list",
                "match":"id",
                "fields":{"id":1,"pic":1,"name":1,"blocked":1},
                "collapseList":true
            }
        },
        "fields":{
            "id":{
                "_index":1,
                "type":"id",
                "name":"id",
                "prefix":"C",
                "create":{
                    "len":10,
                    "pre":"C",
                    "unique":{
                        "collection":"one",
                        "table":"chat_group",
                        "field":"id"
                    }
                },
                "hooks":{
                    "onBeforeCreate":{
                        "checkId":{}
                    },
                    "onAfterSave":{
                        "emitUpdate":{
                        }
                    }
                },
                "required":true
            },
            "people":{
                "_index":1,
                "type":"tag",
                "name":"People",
                "form":{
                    "type":"tags",
                    "width":200,
                    "template":"formbuilder_tag_person",
                    "endpoint":"[apiurl2]/search/aggregate",
                    "required":true,
                    "endpointOpts":{
                        "filters":["people","me"]
                    },
                    "info":"people_list"
                },
                "hooks":{
                    "onAfterSave":{
                        "checkNotifications":{}
                    },
                    "onBeforeSave":{
                        "ensurePeopleCount":{}
                    }
                }
            },
            "name":{
                "type":"text",
                "name":"Chat Name (optional)",
                "form":{
                    "type":"textarea",
                    "placeholder":"Chat Name (optional)",
                    "maxlength":100,
                    "minHeight":30
                }
            },
            "description":{
                "type":"text",
                "name":"Description",
                "form":{
                    "type":"textarea",
                    "placeholder":"Description (optional)",
                    "maxlength":500,
                    "minHeight":30
                }
            },
            "page":{
                "type":"text",
                "name":"Page",
                "form":{
                    "type":"hidden"
                }
            },
            "thread":{
                "_index":1,
                "type":"int",
                "name":"Thread",
                "form":{
                    "type":"hidden"
                }
            },
            "tsu":{
                "_index":1,
                "type":"object",
                "name":"TSU"
            }
        }
    }
}